{
  "version": 3,
  "sources": ["../src/helpers/ansi.ts", "../src/helpers/utils.ts", "../src/helpers/query.ts", "../src/helpers/args.ts", "../src/stores/index.ts"],
  "sourcesContent": ["// https://github.com/evanw/esbuild/blob/master/internal/logger/logger.go\nconst ESCAPE_TO_COLOR = {\n  \"37\": \"dim\",\n  \"31\": \"red\",\n  \"32\": \"green\",\n  \"34\": \"blue\",\n  \"36\": \"cyan\",\n  \"35\": \"magenta\",\n  \"33\": \"yellow\",\n  \"41;31\": \"red-bg-red\",\n  \"41;97\": \"red-bg-white\",\n  \"42;32\": \"green-bg-green\",\n  \"42;97\": \"green-bg-white\",\n  \"44;34\": \"blue-bg-blue\",\n  \"44;97\": \"blue-bg-white\",\n  \"46;36\": \"cyan-bg-cyan\",\n  \"46;30\": \"cyan-bg-black\",\n  \"45;35\": \"magenta-bg-magenta\",\n  \"45;30\": \"magenta-bg-black\",\n  \"43;33\": \"yellow-bg-yellow\",\n  \"43;30\": \"yellow-bg-black\",\n} as const;\n\ntype Escape = \"0\" | \"1\" | \"4\" | keyof typeof ESCAPE_TO_COLOR;\n\ntype Color = typeof ESCAPE_TO_COLOR[keyof typeof ESCAPE_TO_COLOR];\n\n// https://github.com/sindresorhus/escape-goat\nfunction htmlEscape(string: string) {\n  return string\n    .replace(/\\&/g, \"&amp;\")\n    .replace(/\\\"/g, \"&quot;\")\n    .replace(/\\'/g, \"&#39;\")\n    .replace(/\\</g, \"&lt;\")\n    .replace(/\\>/g, \"&gt;\");\n}\n\nclass AnsiBuffer {\n  result = \"\";\n  _stack: string[] = [];\n  _bold = false;\n  _underline = false;\n  text(text: string) {\n    this.result += htmlEscape(text);\n  }\n  reset() {\n    let close: string | undefined;\n    while ((close = this._stack.pop())) {\n      this.result += close;\n    }\n  }\n  bold() {\n    if (!this._bold) {\n      this._bold = true;\n      this.result += \"<strong>\";\n      this._stack.push(\"</strong>\");\n    }\n  }\n  underline() {\n    if (!this._underline) {\n      this._underline = true;\n      this.result += \"<ins>\";\n      this._stack.push(\"</ins>\");\n    }\n  }\n  last() {\n    return this._stack[this._stack.length - 1];\n  }\n  color(color: Color) {\n    let close: string | undefined;\n    while ((close = this.last()) === \"</span>\") {\n      this._stack.pop();\n      this.result += close;\n    }\n    this.result += `<span class=\"color-${color}\">`;\n    this._stack.push(\"</span>\");\n  }\n  done() {\n    this.reset();\n    return this.result;\n  }\n}\n\nexport function render(ansi: string) {\n  ansi = ansi.trimEnd();\n  let i = 0;\n  const buffer = new AnsiBuffer();\n  for (let m of ansi.matchAll(/\\x1B\\[([\\d;]+)m/g)) {\n    const escape = m[1] as Escape;\n    buffer.text(ansi.slice(i, m.index));\n    i = m.index! + m[0].length;\n    /*  */ if (escape === \"0\") {\n      buffer.reset();\n    } else if (escape === \"1\") {\n      buffer.bold();\n    } else if (escape === \"4\") {\n      buffer.underline();\n    } else if (ESCAPE_TO_COLOR[escape]) {\n      buffer.color(ESCAPE_TO_COLOR[escape]);\n    }\n  }\n  if (i < ansi.length) {\n    buffer.text(ansi.slice(i));\n  }\n  return buffer.done();\n}\n", "export const noop: () => any = () => {};\nexport const isDef = <T = any>(val?: T): val is T => typeof val !== \"undefined\";\nexport const delay = (ms: number) => new Promise<void>((r) => setTimeout(r, ms));\nexport const clamp = (val: number, min: number, max: number) =>\n  val < min ? min : val > max ? max : val;\nexport const isBrowser = typeof window !== \"undefined\";\nexport const isMobile = isBrowser && (navigator.userAgentData?.mobile ?? true);\n", "import { isBrowser } from \"./utils\";\n\nexport function getQuery() {\n  const result: Record<string, string> = {};\n  if (!isBrowser) return result;\n  for (const [key, value] of new URLSearchParams(location.search.slice(1))) {\n    result[key] = value;\n  }\n  return result;\n}\n\nconst URL_LIMIT = 2000;\n\nexport function setQuery(search: string) {\n  if (!isBrowser) return;\n  if (search.length > URL_LIMIT) {\n    console.warn(\"url is too long! you may not be able to share it correctly.\");\n  }\n  history.replaceState({}, \"\", location.pathname + \"?\" + search);\n}\n", "import type { BuildOptions, TransformOptions } from \"esbuild\";\n\nfunction isBuildOptions(options: BuildOptions | TransformOptions): options is BuildOptions {\n  return \"entryPoints\" in options || \"plugins\" in options;\n}\n\nfunction dashize(s: string) {\n  return s.replace(/([A-Z])/g, (x) => \"-\" + x.toLowerCase());\n}\n\nfunction buildOptionsToArgs(options: BuildOptions | TransformOptions) {\n  const args: string[] = [];\n  if (isBuildOptions(options)) {\n    if (Array.isArray(options.entryPoints)) {\n      args.push(...options.entryPoints);\n    } else if (options.entryPoints) {\n      args.push(...Object.entries(options.entryPoints).map(([k, v]) => `${k}=${v}`));\n    }\n    delete options.entryPoints;\n    delete options.plugins;\n  }\n  for (const [k, v] of Object.entries(options)) {\n    const key = dashize(k);\n    if (Array.isArray(v)) {\n      if ([\"resolveExtensions\", \"mainFields\", \"conditions\", \"target\"].includes(k)) {\n        args.push(`--${key}=${v.join(\",\")}`);\n      } else {\n        args.push(...v.map((value) => `--${key}:${value}`));\n      }\n    } else if (key === \"tsconfig-raw\" && typeof v === \"object\") {\n      args.push(`--${key}=${JSON.stringify(v)}`);\n    } else if (typeof v === \"object\" && v !== null) {\n      // --define:process.env={} --footer:js=\"// hello\"\n      args.push(...Object.entries(v).map(([sub, val]) => `--${key}:${sub}=${val}`));\n    } else if (v === true) {\n      args.push(`--${key}`);\n    } else {\n      args.push(`--${key}=${v}`);\n    }\n  }\n  return args;\n}\n\nfunction quote(s: string) {\n  if (/[ '\"]/.test(s)) {\n    // stolen from node:util\n    return (\n      \"'\" + JSON.stringify(s).replace(/^\"|\"$/g, \"\").replace(/'/g, \"\\\\'\").replace(/\\\\\"/g, '\"') + \"'\"\n    );\n  } else {\n    return s;\n  }\n}\n\nfunction addQuote(s: string) {\n  let i = s.indexOf(\"=\");\n  if (i !== -1) {\n    return s.slice(0, i + 1) + quote(s.slice(i + 1));\n  } else {\n    return s;\n  }\n}\n\nexport function configToString(options: TransformOptions) {\n  return buildOptionsToArgs(options).map(addQuote).join(\" \");\n}\n", "import { writable } from \"svelte/store\";\nimport { isBrowser } from \"../helpers\";\n\n// header\nexport const theme = writable<\"light\" | \"dark\">(\"dark\");\n\n// footer\nexport const loading = writable(true);\nexport const status = writable(\"Loading...\");\n\n// essential\nexport const version = writable(\"latest\");\nexport const esbuild = writable<typeof import(\"esbuild\") | null>(null);\nexport const mode = writable<\"transform\" | \"build\" | \"playground\">(\"transform\");\n\n// other\nexport const debug = writable(import.meta.env.DEV);\n\nlet timer = 0;\nexport function time() {\n  timer = performance.now();\n}\nexport function timeEnd() {\n  const elapsed = performance.now() - timer;\n  status.set(`Finished in ${elapsed.toFixed(2)}ms.`);\n}\n\nisBrowser && Object.assign(window, { stores: { theme, loading, status, esbuild, mode } });\n"],
  "mappings": "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",
  "names": []
}
