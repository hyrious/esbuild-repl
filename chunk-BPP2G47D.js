import{a as g,g as h,la as p,ma as f,ra as c,ua as M,va as w}from"./chunk-3BVT74GS.js";var O=p([{name:"main.js",contents:"export let a = 1",isEntry:!0}]),b=p({bundle:!0,format:"esm",splitting:!0});function l(e){return"/"+e.replace(/^[.\/]*/g,"")}function d(e){let s=e.lastIndexOf(".");return s!==-1?e.slice(0,s):e}function E(e){return{name:"repl",setup({onResolve:s,onLoad:a}){s({filter:/.*/},n=>{let r=l(n.path),t=e.find(i=>l(i.name)===r);return t?{path:l(t.name),pluginData:t}:(t=e.find(i=>d(l(i.name))===d(r)),t?{path:l(t.name),pluginData:t}:{path:n.path,external:!0})}),a({filter:/.*/},n=>{let r=n.pluginData,t=d(n.path)===n.path?"js":"default";if(r)return{contents:r.contents,loader:t}})}}}var x=f([c,O,b],([e,s,a],n)=>{if(!e)return;let r=s.filter(i=>i.isEntry).map(i=>i.name);if(r.length===0)return n({});let t={entryPoints:r,...a};(t.plugins||=[]).unshift(E(s)),t.outdir="/",t.write=!1,t.allowOverwrite=!0,t.logLevel="silent",M(),e.build(t).then(({outputFiles:i,errors:o,warnings:u})=>{let y=i.map(m=>({name:m.path,contents:m.text,isEntry:!1}));n({files:y,errors:o,warnings:u})}).catch(n).finally(w)},{files:[{name:"main.js",contents:"// initializing",isEntry:!1}]}),D=f([c,x],([e,s],a)=>{if(!e)return;let{errors:n,warnings:r}=s;Promise.all([n?.length?e.formatMessages(n,{color:!0,kind:"error"}):null,r?.length?e.formatMessages(r,{color:!0,kind:"warning"}):null]).then(t=>{let i=t.reduce((o,u)=>u?[...o,...u]:o,[]);a(i.map(o=>g(o)).join(`
`))})});h&&Object.assign(window,{stores_build:{modules:O,buildOptions:b,outputs:x}});export{O as a,b,x as c,D as d};
//# sourceMappingURL=chunk-BPP2G47D.js.map
