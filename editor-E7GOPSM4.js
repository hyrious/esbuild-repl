import"./chunk-TLUEQBOW.js";function v(){if(!(this instanceof v))return new v;this.size=0,this.uid=0,this.selectors=[],this.selectorObjects={},this.indexes=Object.create(this.indexes),this.activeIndexes=[]}var M=window.document.documentElement,fe=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector;v.prototype.matchesSelector=function(e,t){return fe.call(e,t)};v.prototype.querySelectorAll=function(e,t){return t.querySelectorAll(e)};v.prototype.indexes=[];var de=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;v.prototype.indexes.push({name:"ID",selector:function(t){var n;if(n=t.match(de))return n[0].slice(1)},element:function(t){if(t.id)return[t.id]}});var he=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;v.prototype.indexes.push({name:"CLASS",selector:function(t){var n;if(n=t.match(he))return n[0].slice(1)},element:function(t){var n=t.className;if(n){if(typeof n=="string")return n.split(/\s/);if(typeof n=="object"&&"baseVal"in n)return n.baseVal.split(/\s/)}}});var ve=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;v.prototype.indexes.push({name:"TAG",selector:function(t){var n;if(n=t.match(ve))return n[0].toUpperCase()},element:function(t){return[t.nodeName.toUpperCase()]}});v.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}};var H;typeof window.Map=="function"?H=window.Map:H=function(){function e(){this.map={}}return e.prototype.get=function(t){return this.map[t+" "]},e.prototype.set=function(t,n){this.map[t+" "]=n},e}();var P=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function _(e,t){e=e.slice(0).concat(e.default);var n=e.length,r,i,o,s,a=t,c,u,l=[];do if(P.exec(""),(o=P.exec(a))&&(a=o[3],o[2]||!a)){for(r=0;r<n;r++)if(u=e[r],c=u.selector(o[1])){for(i=l.length,s=!1;i--;)if(l[i].index===u&&l[i].key===c){s=!0;break}s||l.push({index:u,key:c});break}}while(o);return l}function me(e,t){var n,r,i;for(n=0,r=e.length;n<r;n++)if(i=e[n],t.isPrototypeOf(i))return i}v.prototype.logDefaultIndexUsed=function(){};v.prototype.add=function(e,t){var n,r,i,o,s,a,c,u,l=this.activeIndexes,f=this.selectors,m=this.selectorObjects;if(typeof e=="string"){for(n={id:this.uid++,selector:e,data:t},m[n.id]=n,c=_(this.indexes,e),r=0;r<c.length;r++)u=c[r],o=u.key,i=u.index,s=me(l,i),s||(s=Object.create(i),s.map=new H,l.push(s)),i===this.indexes.default&&this.logDefaultIndexUsed(n),a=s.map.get(o),a||(a=[],s.map.set(o,a)),a.push(n);this.size++,f.push(e)}};v.prototype.remove=function(e,t){if(typeof e=="string"){var n,r,i,o,s,a,c,u,l=this.activeIndexes,f=this.selectors=[],m=this.selectorObjects,g={},b=arguments.length===1;for(n=_(this.indexes,e),i=0;i<n.length;i++)for(r=n[i],o=l.length;o--;)if(a=l[o],r.index.isPrototypeOf(a)){if(c=a.map.get(r.key),c)for(s=c.length;s--;)u=c[s],u.selector===e&&(b||u.data===t)&&(c.splice(s,1),g[u.id]=!0);break}for(i in g)delete m[i],this.size--;for(i in m)f.push(m[i].selector)}};function z(e,t){return e.id-t.id}v.prototype.queryAll=function(e){if(!this.selectors.length)return[];var t={},n=[],r=this.querySelectorAll(this.selectors.join(", "),e),i,o,s,a,c,u,l,f;for(i=0,s=r.length;i<s;i++)for(c=r[i],u=this.matches(c),o=0,a=u.length;o<a;o++)f=u[o],t[f.id]?l=t[f.id]:(l={id:f.id,selector:f.selector,data:f.data,elements:[]},t[f.id]=l,n.push(l)),l.elements.push(c);return n.sort(z)};v.prototype.matches=function(e){if(!e)return[];var t,n,r,i,o,s,a,c,u,l,f,m=this.activeIndexes,g={},b=[];for(t=0,i=m.length;t<i;t++)if(a=m[t],c=a.element(e),c){for(n=0,o=c.length;n<o;n++)if(u=a.map.get(c[n]))for(r=0,s=u.length;r<s;r++)l=u[r],f=l.id,!g[f]&&this.matchesSelector(e,l.selector)&&(g[f]=!0,b.push(l))}return b.sort(z)};var O=null,F=null,q=[];function Y(e,t){var n=[];function r(){var o=n;n=[],t(o)}function i(){for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];n.push(s),n.length===1&&U(e,r)}return i}function U(e,t){F||(F=new MutationObserver(pe)),O||(O=e.createElement("div"),F.observe(O,{attributes:!0})),q.push(t),O.setAttribute("data-twiddle",""+Date.now())}function pe(){var e=q;q=[];for(var t=0;t<e.length;t++)try{e[t]()}catch(n){setTimeout(function(){throw n},0)}}var Q=new WeakMap,x=new WeakMap,A=new WeakMap,S=new WeakMap;function R(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r[0],o=r[1],s=r[2];i===D?(ge(s,o),ye(s,o)):i===G?X(s,o):i===k&&be(e.observers,o)}}function ge(e,t){if(t instanceof e.elementConstructor){var n=Q.get(t);if(n||(n=[],Q.set(t,n)),n.indexOf(e.id)===-1){var r=void 0;if(e.initialize&&(r=e.initialize.call(void 0,t)),r){var i=x.get(t);i||(i={},x.set(t,i)),i[""+e.id]=r}n.push(e.id)}}}function ye(e,t){if(t instanceof e.elementConstructor){var n=S.get(t);if(n||(n=[],S.set(t,n)),n.indexOf(e.id)===-1){e.elements.push(t);var r=x.get(t),i=r?r[""+e.id]:null;if(i&&i.add&&i.add.call(void 0,t),e.subscribe){var o=e.subscribe.call(void 0,t);if(o){var s=A.get(t);s||(s={},A.set(t,s)),s[""+e.id]=o}}e.add&&e.add.call(void 0,t),n.push(e.id)}}}function X(e,t){if(t instanceof e.elementConstructor){var n=S.get(t);if(!!n){var r=e.elements.indexOf(t);if(r!==-1&&e.elements.splice(r,1),r=n.indexOf(e.id),r!==-1){var i=x.get(t),o=i?i[""+e.id]:null;if(o&&o.remove&&o.remove.call(void 0,t),e.subscribe){var s=A.get(t),a=s?s[""+e.id]:null;a&&a.unsubscribe&&a.unsubscribe()}e.remove&&e.remove.call(void 0,t),n.splice(r,1)}n.length===0&&S.delete(t)}}}function be(e,t){var n=S.get(t);if(!!n){for(var r=n.slice(0),i=0;i<r.length;i++){var o=e[r[i]];if(!!o){var s=o.elements.indexOf(t);s!==-1&&o.elements.splice(s,1);var a=x.get(t),c=a?a[""+o.id]:null;c&&c.remove&&c.remove.call(void 0,t);var u=A.get(t),l=u?u[""+o.id]:null;l&&l.unsubscribe&&l.unsubscribe(),o.remove&&o.remove.call(void 0,t)}}S.delete(t)}}var j=null;function Ee(e){if(j===null){var t=e.createElement("div"),n=e.createElement("div"),r=e.createElement("div");t.appendChild(n),n.appendChild(r),t.innerHTML="",j=r.parentNode!==n}return j}function $(e){return"matches"in e||"webkitMatchesSelector"in e||"mozMatchesSelector"in e||"oMatchesSelector"in e||"msMatchesSelector"in e}var D=1,G=2,k=3;function Se(e,t,n){for(var r=0;r<n.length;r++){var i=n[r];i.type==="childList"?(J(e,t,i.addedNodes),we(e,t,i.removedNodes)):i.type==="attributes"&&C(e,t,i.target)}Ee(e.ownerDocument)&&Le(e,t)}function J(e,t,n){for(var r=0;r<n.length;r++){var i=n[r];if($(i))for(var o=e.selectorSet.matches(i),s=0;s<o.length;s++){var a=o[s].data;t.push([D,i,a])}if("querySelectorAll"in i)for(var c=e.selectorSet.queryAll(i),u=0;u<c.length;u++)for(var l=c[u],f=l.data,m=l.elements,g=0;g<m.length;g++)t.push([D,m[g],f])}}function we(e,t,n){for(var r=0;r<n.length;r++){var i=n[r];if("querySelectorAll"in i){t.push([k,i]);for(var o=i.querySelectorAll("*"),s=0;s<o.length;s++)t.push([k,o[s]])}}}function C(e,t,n){if($(n))for(var r=e.selectorSet.matches(n),i=0;i<r.length;i++){var o=r[i].data;t.push([D,n,o])}if("querySelectorAll"in n){var s=S.get(n);if(s)for(var a=0;a<s.length;a++){var c=e.observers[s[a]];c&&(e.selectorSet.matchesSelector(n,c.selector)||t.push([G,n,c]))}}}function Me(e,t,n){if("querySelectorAll"in n){C(e,t,n);for(var r=n.querySelectorAll("*"),i=0;i<r.length;i++)C(e,t,r[i])}}function xe(e,t,n){for(var r=0;r<n.length;r++)for(var i=n[r],o=i.form?i.form.elements:e.rootNode.querySelectorAll("input"),s=0;s<o.length;s++)C(e,t,o[s])}function Le(e,t){for(var n=0;n<e.observers.length;n++){var r=e.observers[n];if(r)for(var i=r.elements,o=0;o<i.length;o++){var s=i[o];s.parentNode||t.push([k,s])}}}function Te(e,t){var n=e.readyState;n==="interactive"||n==="complete"?U(e,t):e.addEventListener("DOMContentLoaded",U(e,t))}var Ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe=0;function L(e){this.rootNode=e.nodeType===9?e.documentElement:e,this.ownerDocument=e.nodeType===9?e:e.ownerDocument,this.observers=[],this.selectorSet=new v,this.mutationObserver=new MutationObserver(De.bind(this,this)),this._scheduleAddRootNodes=Y(this.ownerDocument,Re.bind(this,this)),this._handleThrottledChangedTargets=Y(this.ownerDocument,Ce.bind(this,this)),this.rootNode.addEventListener("change",ke.bind(this,this),!1),Te(this.ownerDocument,Ae.bind(this,this))}L.prototype.disconnect=function(){this.mutationObserver.disconnect()};L.prototype.observe=function(e,t){var n=void 0;typeof t=="function"?n={selector:e,initialize:t}:(typeof t=="undefined"?"undefined":Ie(t))==="object"?(n=t,n.selector=e):n=e;var r=this,i={id:Oe++,selector:n.selector,initialize:n.initialize,add:n.add,remove:n.remove,subscribe:n.subscribe,elements:[],elementConstructor:n.hasOwnProperty("constructor")?n.constructor:this.ownerDocument.defaultView.Element,abort:function(){r._abortObserving(i)}};return this.selectorSet.add(i.selector,i),this.observers[i.id]=i,this._scheduleAddRootNodes(),i};L.prototype._abortObserving=function(e){for(var t=e.elements,n=0;n<t.length;n++)X(e,t[n]);this.selectorSet.remove(e.selector,e),delete this.observers[e.id]};L.prototype.triggerObservers=function(e){var t=[];Me(this,t,e),R(this,t)};function Ae(e){e.mutationObserver.observe(e.rootNode,{childList:!0,attributes:!0,subtree:!0}),e._scheduleAddRootNodes()}function Re(e){var t=[];J(e,t,[e.rootNode]),R(e,t)}function De(e,t){var n=[];Se(e,n,t),R(e,n)}function ke(e,t){e._handleThrottledChangedTargets(t.target)}function Ce(e,t){var n=[];xe(e,n,t),R(e,n)}var V=void 0;function Ne(){return V||(V=new L(window.document)),V}function Z(){var e;return(e=Ne()).observe.apply(e,arguments)}function W(e,t){var n=t===void 0?{}:t,r=n.viewportMarginBottom,i=r===void 0?100:r,o=null,s=!1,a,c,u;function l(h){if(a!==h.clientX||c!==h.clientY){var d=e.style.height;u&&u!==d&&(s=!0,e.style.maxHeight="",e.removeEventListener("mousemove",l)),u=d}a=h.clientX,c=h.clientY}var f=e.ownerDocument,m=f.documentElement;function g(){for(var h=0,d=e;d!==f.body&&d!==null;)h+=d.offsetTop||0,d=d.offsetParent;var p=h-f.defaultView.pageYOffset,E=m.clientHeight-(p+e.offsetHeight);return{top:p,bottom:E}}function b(){if(!s&&e.value!==o&&!(e.offsetWidth<=0&&e.offsetHeight<=0)){var h=g(),d=h.top,p=h.bottom;if(!(d<0||p<0)){var E=getComputedStyle(e),B=Number(E.borderTopWidth.replace(/px/,"")),I=Number(E.borderBottomWidth.replace(/px/,"")),se=E.boxSizing==="border-box",ae=se?B+I:0,le=Number(E.height.replace(/px/,""))+p,ce=p<i?p:i;e.style.maxHeight=le-ce+"px";var w=e.parentElement;if(w instanceof HTMLElement){var ue=w.style.height;w.style.height=getComputedStyle(w).height,e.style.height="auto",e.style.height=e.scrollHeight+ae+"px",w.style.height=ue,u=e.style.height}o=e.value}}}function T(){s=!1,e.style.height="",e.style.maxHeight=""}e.addEventListener("mousemove",l),e.addEventListener("input",b),e.addEventListener("change",b);var y=e.form;return y&&y.addEventListener("reset",T),e.value&&b(),{unsubscribe:function(){e.removeEventListener("mousemove",l),e.removeEventListener("input",b),e.removeEventListener("change",b),y&&y.removeEventListener("reset",T)}}}function Be(e,t,n){return e.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n}))}var K=/^(\s*)/;function He(e,t,n){let r=t[0];if(!r||!e)return;let i=t[1]||r,o=e.slice(0,r).split(`
`),s=o[o.length-1],a=s==null?void 0:s.match(K);if(!a)return;let c=a[1]||"",u=`
${c}`;if(n==="here")return{text:e.slice(0,r)+u+e.slice(i),selection:[r+u.length,i+u.length]};if(n==="begin"){let l=r-s.length;return{text:e.slice(0,l)+`${c}
`+e.slice(l),selection:[l+c.length,l+c.length]}}else{let l=e.indexOf(`
`,i),f=l<0?e.length:l;return{text:e.slice(0,f)+u+e.slice(f),selection:[f+u.length,f+u.length]}}}function Fe(e,t,n){let r=t[0]||0,i=t[1]||r;if(t[0]===null)return;if(r===i)if(n){let y=e.slice(0,i).split(`
`),h=y[y.length-1],d=h==null?void 0:h.match(K);if(!d)return;let p=d[0],E=p.length,B=h.slice(p.length);p=p.slice(0,-2);let I=E-p.length;return y[y.length-1]=p+B,{text:y.join(`
`)+e.slice(i),selection:[i-I,i-I]}}else return{text:e.slice(0,r)+"  "+e.slice(i),selection:[i+2,i+2]};let o=e.slice(0,r).lastIndexOf(`
`)+1,s=e.indexOf(`
`,i-1),a=s>0?s:e.length-1,c=e.slice(o,a).split(`
`),u=!1,l=0,f=0,m=[];for(let y of c){let h=y.match(K);if(h){let d=h[0],p=y.slice(d.length);if(n){let E=d.length;d=d.slice(0,-2),l=u?l:d.length-E,u=!0,f+=d.length-E}else d+="  ",l=2,f+=2;m.push(d+p)}}let g=m.join(`
`),b=e.slice(0,o)+g+e.slice(a),T=[Math.max(o,r+l),i+f];return{text:b,selection:T}}function qe(e){let n=e.target;n.selectionDirection==="backward"?n.selectionEnd=n.selectionStart:n.selectionStart=n.selectionEnd}var N=!1;function ee(){N=!0}function te(){N=!1}function ne(e,t,n){e.value=t.text,e.selectionStart=t.selection[0],e.selectionEnd=t.selection[1],n.preventDefault(),Be(e,"change")}function ie(e){if(N)return;let t=e;if(t.key==="Enter"){let n=t.target,r,i=t.metaKey||t.ctrlKey,o=t.shiftKey;if(o&&!i?r="here":i&&!o?r="end":i&&o&&(r="begin"),!r)return;let s=He(n.value,[n.selectionStart,n.selectionEnd],r);if(s===void 0)return;ne(n,s,t)}}function re(e){if(N)return;let t=e;if(t.key==="Escape"){qe(e);return}if(t.key!=="Tab")return;let n=t.target,r=Fe(n.value,[n.selectionStart,n.selectionEnd],t.shiftKey);r!==void 0&&ne(n,r,t)}function oe(e){e.addEventListener("keydown",re),e.addEventListener("keydown",ie),e.addEventListener("compositionstart",ee),e.addEventListener("compositionend",te);let{unsubscribe:t}=W(e);return{unsubscribe:()=>{e.removeEventListener("keydown",re),e.removeEventListener("keydown",ie),e.removeEventListener("compositionstart",ee),e.removeEventListener("compositionend",te),t()}}}Z("textarea.editor",{subscribe:oe});
//# sourceMappingURL=editor-E7GOPSM4.js.map
