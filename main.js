var u,Ce,P,K,J,we,U={},j=[],Se=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function S(e,t){for(var n in t)e[n]=t[n];return e}function Z(e){var t=e.parentNode;t&&t.removeChild(e)}function y(e,t,n){var r,i,o,a=arguments,c={};for(o in t)o=="key"?r=t[o]:o=="ref"?i=t[o]:c[o]=t[o];if(arguments.length>3)for(n=[n],o=3;o<arguments.length;o++)n.push(a[o]);if(n!=null&&(c.children=n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)c[o]===void 0&&(c[o]=e.defaultProps[o]);return O(e,c,r,i,null)}function O(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++u.__v};return u.vnode!=null&&u.vnode(o),o}function x(e){return e.children}function R(e,t){this.props=e,this.context=t}function A(e,t){if(t==null)return e.__?A(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?A(e):null}function Q(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Q(e)}}function X(e){(!e.__d&&(e.__d=!0)&&P.push(e)&&!I.__r++||J!==u.debounceRendering)&&((J=u.debounceRendering)||K)(I)}function I(){for(var e;I.__r=P.length;)e=P.sort(function(t,n){return t.__v.__b-n.__v.__b}),P=[],e.some(function(t){var n,r,i,o,a,c;t.__d&&(a=(o=(n=t).__v).__e,(c=n.__P)&&(r=[],(i=S({},o)).__v=o.__v+1,F(c,o,i,n.__n,c.ownerSVGElement!==void 0,o.__h!=null?[a]:null,r,a??A(o),o.__h),Y(r,o),o.__e!=a&&Q(o)))})}function oe(e,t,n,r,i,o,a,c,p,d){var _,v,f,s,h,l,m,g=r&&r.__k||j,b=g.length;for(n.__k=[],_=0;_<t.length;_++)if((s=n.__k[_]=(s=t[_])==null||typeof s=="boolean"?null:typeof s=="string"||typeof s=="number"||typeof s=="bigint"?O(null,s,null,null,s):Array.isArray(s)?O(x,{children:s},null,null,null):s.__b>0?O(s.type,s.props,s.key,null,s.__v):s)!=null){if(s.__=n,s.__b=n.__b+1,(f=g[_])===null||f&&s.key==f.key&&s.type===f.type)g[_]=void 0;else for(v=0;v<b;v++){if((f=g[v])&&s.key==f.key&&s.type===f.type){g[v]=void 0;break}f=null}F(e,s,f=f||U,i,o,a,c,p,d),h=s.__e,(v=s.ref)&&f.ref!=v&&(m||(m=[]),f.ref&&m.push(f.ref,null,s),m.push(v,s.__c||h,s)),h!=null?(l==null&&(l=h),typeof s.type=="function"&&s.__k!=null&&s.__k===f.__k?s.__d=p=ee(s,p,e):p=te(e,s,f,g,h,p),d||n.type!=="option"?typeof n.type=="function"&&(n.__d=p):e.value=""):p&&f.__e==p&&p.parentNode!=e&&(p=A(f))}for(n.__e=l,_=b;_--;)g[_]!=null&&(typeof n.type=="function"&&g[_].__e!=null&&g[_].__e==n.__d&&(n.__d=A(r,_+1)),re(g[_],g[_]));if(m)for(_=0;_<m.length;_++)ne(m[_],m[++_],m[++_])}function ee(e,t,n){var r,i;for(r=0;r<e.__k.length;r++)(i=e.__k[r])&&(i.__=e,t=typeof i.type=="function"?ee(i,t,n):te(n,i,i,e.__k,i.__e,t));return t}function te(e,t,n,r,i,o){var a,c,p;if(t.__d!==void 0)a=t.__d,t.__d=void 0;else if(n==null||i!=o||i.parentNode==null)e:if(o==null||o.parentNode!==e)e.appendChild(i),a=null;else{for(c=o,p=0;(c=c.nextSibling)&&p<r.length;p+=2)if(c==i)break e;e.insertBefore(i,o),a=o}return a!==void 0?a:i.nextSibling}function xe(e,t,n,r,i){var o;for(o in n)o==="children"||o==="key"||o in t||$(e,o,null,n[o],r);for(o in t)i&&typeof t[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||n[o]===t[o]||$(e,o,t[o],n[o],r)}function _e(e,t,n){t[0]==="-"?e.setProperty(t,n):e[t]=n==null?"":typeof n!="number"||Se.test(t)?n:n+"px"}function $(e,t,n,r,i){var o;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||_e(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||_e(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r||e.addEventListener(t,o?se:ie,o):e.removeEventListener(t,o?se:ie,o);else if(t!=="dangerouslySetInnerHTML"){if(i)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=n??"";break e}catch(a){}typeof n=="function"||(n!=null&&(n!==!1||t[0]==="a"&&t[1]==="r")?e.setAttribute(t,n):e.removeAttribute(t))}}function ie(e){this.l[e.type+!1](u.event?u.event(e):e)}function se(e){this.l[e.type+!0](u.event?u.event(e):e)}function F(e,t,n,r,i,o,a,c,p){var d,_,v,f,s,h,l,m,g,b,T,C=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(p=n.__h,c=t.__e=n.__e,t.__h=null,o=[c]),(d=u.__b)&&d(t);try{e:if(typeof C=="function"){if(m=t.props,g=(d=C.contextType)&&r[d.__c],b=d?g?g.props.value:d.__:r,n.__c?l=(_=t.__c=n.__c).__=_.__E:("prototype"in C&&C.prototype.render?t.__c=_=new C(m,b):(t.__c=_=new R(m,b),_.constructor=C,_.render=Te),g&&g.sub(_),_.props=m,_.state||(_.state={}),_.context=b,_.__n=r,v=_.__d=!0,_.__h=[]),_.__s==null&&(_.__s=_.state),C.getDerivedStateFromProps!=null&&(_.__s==_.state&&(_.__s=S({},_.__s)),S(_.__s,C.getDerivedStateFromProps(m,_.__s))),f=_.props,s=_.state,v)C.getDerivedStateFromProps==null&&_.componentWillMount!=null&&_.componentWillMount(),_.componentDidMount!=null&&_.__h.push(_.componentDidMount);else{if(C.getDerivedStateFromProps==null&&m!==f&&_.componentWillReceiveProps!=null&&_.componentWillReceiveProps(m,b),!_.__e&&_.shouldComponentUpdate!=null&&_.shouldComponentUpdate(m,_.__s,b)===!1||t.__v===n.__v){_.props=m,_.state=_.__s,t.__v!==n.__v&&(_.__d=!1),_.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(L){L&&(L.__=t)}),_.__h.length&&a.push(_);break e}_.componentWillUpdate!=null&&_.componentWillUpdate(m,_.__s,b),_.componentDidUpdate!=null&&_.__h.push(function(){_.componentDidUpdate(f,s,h)})}_.context=b,_.props=m,_.state=_.__s,(d=u.__r)&&d(t),_.__d=!1,_.__v=t,_.__P=e,d=_.render(_.props,_.state,_.context),_.state=_.__s,_.getChildContext!=null&&(r=S(S({},r),_.getChildContext())),v||_.getSnapshotBeforeUpdate==null||(h=_.getSnapshotBeforeUpdate(f,s)),T=d!=null&&d.type===x&&d.key==null?d.props.children:d,oe(e,Array.isArray(T)?T:[T],t,n,r,i,o,a,c,p),_.base=t.__e,t.__h=null,_.__h.length&&a.push(_),l&&(_.__E=_.__=null),_.__e=!1}else o==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Ee(n.__e,t,n,r,i,o,a,p);(d=u.diffed)&&d(t)}catch(L){t.__v=null,(p||o!=null)&&(t.__e=c,t.__h=!!p,o[o.indexOf(c)]=null),u.__e(L,t,n)}}function Y(e,t){u.__c&&u.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(r){r.call(n)})}catch(r){u.__e(r,n.__v)}})}function Ee(e,t,n,r,i,o,a,c){var p,d,_,v,f=n.props,s=t.props,h=t.type,l=0;if(h==="svg"&&(i=!0),o!=null){for(;l<o.length;l++)if((p=o[l])&&(p===e||(h?p.localName==h:p.nodeType==3))){e=p,o[l]=null;break}}if(e==null){if(h===null)return document.createTextNode(s);e=i?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,s.is&&s),o=null,c=!1}if(h===null)f===s||c&&e.data===s||(e.data=s);else{if(o=o&&j.slice.call(e.childNodes),d=(f=n.props||U).dangerouslySetInnerHTML,_=s.dangerouslySetInnerHTML,!c){if(o!=null)for(f={},v=0;v<e.attributes.length;v++)f[e.attributes[v].name]=e.attributes[v].value;(_||d)&&(_&&(d&&_.__html==d.__html||_.__html===e.innerHTML)||(e.innerHTML=_&&_.__html||""))}if(xe(e,s,f,i,c),_)t.__k=[];else if(l=t.props.children,oe(e,Array.isArray(l)?l:[l],t,n,r,i&&h!=="foreignObject",o,a,e.firstChild,c),o!=null)for(l=o.length;l--;)o[l]!=null&&Z(o[l]);c||("value"in s&&(l=s.value)!==void 0&&(l!==e.value||h==="progress"&&!l)&&$(e,"value",l,f.value,!1),"checked"in s&&(l=s.checked)!==void 0&&l!==e.checked&&$(e,"checked",l,f.checked,!1))}return e}function ne(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){u.__e(r,n)}}function re(e,t,n){var r,i,o;if(u.unmount&&u.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||ne(r,null,t)),n||typeof e.type=="function"||(n=(i=e.__e)!=null),e.__e=e.__d=void 0,(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){u.__e(a,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&re(r[o],t,n);i!=null&&Z(i)}function Te(e,t,n){return this.constructor(e,n)}function ue(e,t,n){var r,i,o;u.__&&u.__(e,t),i=(r=typeof n=="function")?null:n&&n.__k||t.__k,o=[],F(t,e=(!r&&n||t).__k=y(x,null,[e]),i||U,U,t.ownerSVGElement!==void 0,!r&&n?[n]:i?null:t.firstChild?j.slice.call(t.childNodes):null,o,!r&&n?n:i?i.__e:t.firstChild,r),Y(o,e)}u={__e:function(e,t){for(var n,r,i;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&r.getDerivedStateFromError!=null&&(n.setState(r.getDerivedStateFromError(e)),i=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(e),i=n.__d),i)return n.__E=n}catch(o){e=o}throw e},__v:0},Ce=function(e){return e!=null&&e.constructor===void 0},R.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=S({},this.state),typeof e=="function"&&(e=e(S({},n),this.props)),e&&S(n,e),e!=null&&this.__v&&(t&&this.__h.push(t),X(this))},R.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),X(this))},R.prototype.render=x,P=[],K=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,I.__r=0,we=0;var M,k,ce,D=0,B=[],ae=u.__b,le=u.__r,fe=u.diffed,pe=u.__c,de=u.unmount;function q(e,t){u.__h&&u.__h(k,e,D||t),D=0;var n=k.__H||(k.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function w(e){return D=1,Pe(he,e)}function Pe(e,t,n){var r=q(M++,2);return r.t=e,r.__c||(r.__=[n?n(t):he(void 0,t),function(i){var o=r.t(r.__[0],i);r.__[0]!==o&&(r.__=[o,r.__[1]],r.__c.setState({}))}],r.__c=k),r.__}function E(e,t){var n=q(M++,3);!u.__s&&me(n.__H,t)&&(n.__=e,n.__H=t,k.__H.__h.push(n))}function ye(e){return D=5,ve(function(){return{current:e}},[])}function ve(e,t){var n=q(M++,7);return me(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function H(e,t){return D=8,ve(function(){return e},t)}function Ae(){B.forEach(function(e){if(e.__P)try{e.__H.__h.forEach(N),e.__H.__h.forEach(V),e.__H.__h=[]}catch(t){e.__H.__h=[],u.__e(t,e.__v)}}),B=[]}u.__b=function(e){k=null,ae&&ae(e)},u.__r=function(e){le&&le(e),M=0;var t=(k=e.__c).__H;t&&(t.__h.forEach(N),t.__h.forEach(V),t.__h=[])},u.diffed=function(e){fe&&fe(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(B.push(t)!==1&&ce===u.requestAnimationFrame||((ce=u.requestAnimationFrame)||function(n){var r,i=function(){clearTimeout(o),ge&&cancelAnimationFrame(r),setTimeout(n)},o=setTimeout(i,100);ge&&(r=requestAnimationFrame(i))})(Ae)),k=void 0},u.__c=function(e,t){t.some(function(n){try{n.__h.forEach(N),n.__h=n.__h.filter(function(r){return!r.__||V(r)})}catch(r){t.some(function(i){i.__h&&(i.__h=[])}),t=[],u.__e(r,n.__v)}}),pe&&pe(e,t)},u.unmount=function(e){de&&de(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(N)}catch(n){u.__e(n,t.__v)}};var ge=typeof requestAnimationFrame=="function";function N(e){var t=k;typeof e.__c=="function"&&e.__c(),k=t}function V(e){var t=k;e.__c=e.__(),k=t}function me(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function he(e,t){return typeof t=="function"?t(e):t}var De="https://data.jsdelivr.com/v1/package/npm/esbuild-wasm";function be(){return Math.floor(Number(new Date)/1e3)}function He(e){return`https://cdn.jsdelivr.net/npm/esbuild-wasm@${e}/esm/browser.js`}function Le(e){return`https://cdn.jsdelivr.net/npm/esbuild-wasm@${e}/esbuild.wasm`}async function Ue(){let t=(await fetch(De).then(n=>n.json())).tags.latest;return localStorage.setItem("esbuild-repl",`${t}:${be()}`),t}async function Oe(){let e=localStorage.getItem("esbuild-repl");if(e){let[t,n]=e.split(":",2);if(be()-parseInt(n)<86400*7)return t}return Ue()}var z=null;async function Re(e){if(z==null)try{let{initialize:t,transform:n}=await import(He(e));await t({wasmURL:Le(e)}),z={transform:n}}catch{}return z}function Ie(e,...t){let[n,r]=w(null),[i,o]=w("pending");return E(()=>{(async()=>{try{r(await e(...t)),o("success")}catch{r(null),o("fail")}})()},[]),{status:i,data:n}}function $e(){let[e,t]=w(null),{status:n,data:r}=Ie(Oe);return E(()=>{n==="success"&&Re(r).then(t)},[n]),e}function Me({text:e}){let[t,n]=w(0);return E(()=>{let r=setTimeout(()=>n((t+1)%7),1e3);return()=>clearTimeout(r)},[t]),y("div",{class:"center code"},y("div",null,e),y("div",null,"\xA0",".".repeat(t),"\xA0"))}function Ne(e=300){let[t,n]=w(!0);return E(()=>{setTimeout(()=>n(!1),e)},[]),t}function We({children:e}){return y(x,null,y("header",null,y("a",{href:"https://esbuild.github.io/"},"esbuild")," repl"),y("main",null,e))}function je(){let e=ye([]),t=H(n=>e.current.push(n),[]);return E(()=>{e.current.length>0&&(e.current.forEach(n=>n()),e.current=[])}),t}function Fe(e){for(let t in e)return!0;return!1}function G(e){return e.replace(/([A-Z])/g,t=>"-"+t.toLowerCase())}function W(e){return e.replace(/-([a-z])/g,t=>t.substring(1).toUpperCase())}function ke(e){return e==="true"?!0:e==="false"?!1:e}var Be={loader:"tsx"};function qe(e){let t=[];for(let n in e){let r=e[n];r instanceof Object&&!Array.isArray(r)&&Fe(r)?t.push(`--${G(n)}:${Object.entries(r).map((i,o)=>`${i}=${o}`)}`):r===!0?t.push(`--${G(n)}`):t.push(`--${G(n)}=${r}`)}return t.join(" ")}function Ve(e){let t={};for(let n of e.split(/\s+/)){let r;/^--/.test(n)?r=n.substring(2):r=n;let i=r.indexOf(":"),o=r.indexOf("=");if(i===-1&&o===-1)t[W(r)]=!0;else if(i!==-1&&i<r.indexOf("=")){let a=r.substring(0,i),c={};for(let p of r.substring(i+1).split(",")){let[d,_]=p.split("=",2);c[d]=ke(_)}t[W(a)]=c}else{let[a,c]=r.split("=",2);c.includes(",")?t[W(a)]=c.split(","):t[W(a)]=ke(c)}}return t}function ze(){let[e,t]=w('render(<App />, document.getElementById("app")!);'),[n,r]=w("waiting for esbuild service ..."),[i,o]=w(""),[a,c]=w(Be),p=Ne(),d=$e(),_=je();if(E(async()=>{try{let h=await d?.transform(e,a);h&&(r(h.code),o(""))}catch(h){o(h.message)}},[d,e,a]),p)return y("div",null);if(d==null)return y(Me,{text:"loading esbuild (about 10MB)"});let v=H(function(l){if(l.key==="Tab"){l.preventDefault();let m=l.target,g=e.substring(0,m.selectionStart),b=m.selectionEnd,T=e.substring(b);t(g+"    "+T),_(()=>{m.selectionStart=m.selectionEnd=b+4})}},[e]),f=H(function(l){t(l.target.value)},[]),s=H(function(l){c(Ve(l.target.value))},[]);return y(x,null,y(We,null,y("textarea",{value:e,onKeyDown:v,onInput:f}),y("div",{className:"spliter"}),y("textarea",{readOnly:!0,value:n})),y("aside",null,y("input",{onChange:s,value:qe(a)}),i&&y("span",{class:"error",title:i.replace(/\n/g,`\r
`)},i)))}ue(y(ze,null),document.getElementById("app"));
//# sourceMappingURL=main.js.map
