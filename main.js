var u,Pe,H,Z,Q,Ae,$={},B=[],De=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function x(e,t){for(var n in t)e[n]=t[n];return e}function X(e){var t=e.parentNode;t&&t.removeChild(e)}function k(e,t,n){var _,i,r,p=arguments,d={};for(r in t)r=="key"?_=t[r]:r=="ref"?i=t[r]:d[r]=t[r];if(arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(p[r]);if(n!=null&&(d.children=n),typeof e=="function"&&e.defaultProps!=null)for(r in e.defaultProps)d[r]===void 0&&(d[r]=e.defaultProps[r]);return I(e,d,_,i,null)}function I(e,t,n,_,i){var r={type:e,props:t,key:n,ref:_,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++u.__v};return u.vnode!=null&&u.vnode(r),r}function T(e){return e.children}function M(e,t){this.props=e,this.context=t}function L(e,t){if(t==null)return e.__?L(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?L(e):null}function Y(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Y(e)}}function ee(e){(!e.__d&&(e.__d=!0)&&H.push(e)&&!W.__r++||Q!==u.debounceRendering)&&((Q=u.debounceRendering)||Z)(W)}function W(){for(var e;W.__r=H.length;)e=H.sort(function(t,n){return t.__v.__b-n.__v.__b}),H=[],e.some(function(t){var n,_,i,r,p,d;t.__d&&(p=(r=(n=t).__v).__e,(d=n.__P)&&(_=[],(i=x({},r)).__v=r.__v+1,q(d,r,i,n.__n,d.ownerSVGElement!==void 0,r.__h!=null?[p]:null,_,p??L(r),r.__h),te(_,r),r.__e!=p&&Y(r)))})}function ie(e,t,n,_,i,r,p,d,h,m){var o,g,f,s,b,c,l,a=_&&_.__k||B,y=a.length;for(n.__k=[],o=0;o<t.length;o++)if((s=n.__k[o]=(s=t[o])==null||typeof s=="boolean"?null:typeof s=="string"||typeof s=="number"?I(null,s,null,null,s):Array.isArray(s)?I(T,{children:s},null,null,null):s.__b>0?I(s.type,s.props,s.key,null,s.__v):s)!=null){if(s.__=n,s.__b=n.__b+1,(f=a[o])===null||f&&s.key==f.key&&s.type===f.type)a[o]=void 0;else for(g=0;g<y;g++){if((f=a[g])&&s.key==f.key&&s.type===f.type){a[g]=void 0;break}f=null}q(e,s,f=f||$,i,r,p,d,h,m),b=s.__e,(g=s.ref)&&f.ref!=g&&(l||(l=[]),f.ref&&l.push(f.ref,null,s),l.push(g,s.__c||b,s)),b!=null?(c==null&&(c=b),typeof s.type=="function"&&s.__k!=null&&s.__k===f.__k?s.__d=h=ne(s,h,e):h=re(e,s,f,a,b,h),m||n.type!=="option"?typeof n.type=="function"&&(n.__d=h):e.value=""):h&&f.__e==h&&h.parentNode!=e&&(h=L(f))}for(n.__e=c,o=y;o--;)a[o]!=null&&(typeof n.type=="function"&&a[o].__e!=null&&a[o].__e==n.__d&&(n.__d=L(_,o+1)),_e(a[o],a[o]));if(l)for(o=0;o<l.length;o++)oe(l[o],l[++o],l[++o])}function ne(e,t,n){var _,i;for(_=0;_<e.__k.length;_++)(i=e.__k[_])&&(i.__=e,t=typeof i.type=="function"?ne(i,t,n):re(n,i,i,e.__k,i.__e,t));return t}function re(e,t,n,_,i,r){var p,d,h;if(t.__d!==void 0)p=t.__d,t.__d=void 0;else if(n==null||i!=r||i.parentNode==null)e:if(r==null||r.parentNode!==e)e.appendChild(i),p=null;else{for(d=r,h=0;(d=d.nextSibling)&&h<_.length;h+=2)if(d==i)break e;e.insertBefore(i,r),p=r}return p!==void 0?p:i.nextSibling}function He(e,t,n,_,i){var r;for(r in n)r==="children"||r==="key"||r in t||N(e,r,null,n[r],_);for(r in t)i&&typeof t[r]!="function"||r==="children"||r==="key"||r==="value"||r==="checked"||n[r]===t[r]||N(e,r,t[r],n[r],_)}function se(e,t,n){t[0]==="-"?e.setProperty(t,n):e[t]=n==null?"":typeof n!="number"||De.test(t)?n:n+"px"}function N(e,t,n,_,i){var r;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof _=="string"&&(e.style.cssText=_=""),_)for(t in _)n&&t in n||se(e.style,t,"");if(n)for(t in n)_&&n[t]===_[t]||se(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")r=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=n,n?_||e.addEventListener(t,r?ce:ue,r):e.removeEventListener(t,r?ce:ue,r);else if(t!=="dangerouslySetInnerHTML"){if(i)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="download"&&t in e)try{e[t]=n??"";break e}catch(p){}typeof n=="function"||(n!=null&&(n!==!1||t[0]==="a"&&t[1]==="r")?e.setAttribute(t,n):e.removeAttribute(t))}}function ue(e){this.l[e.type+!1](u.event?u.event(e):e)}function ce(e){this.l[e.type+!0](u.event?u.event(e):e)}function q(e,t,n,_,i,r,p,d,h){var m,o,g,f,s,b,c,l,a,y,C,v=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(h=n.__h,d=t.__e=n.__e,t.__h=null,r=[d]),(m=u.__b)&&m(t);try{e:if(typeof v=="function"){if(l=t.props,a=(m=v.contextType)&&_[m.__c],y=m?a?a.props.value:m.__:_,n.__c?c=(o=t.__c=n.__c).__=o.__E:("prototype"in v&&v.prototype.render?t.__c=o=new v(l,y):(t.__c=o=new M(l,y),o.constructor=v,o.render=Ue),a&&a.sub(o),o.props=l,o.state||(o.state={}),o.context=y,o.__n=_,g=o.__d=!0,o.__h=[]),o.__s==null&&(o.__s=o.state),v.getDerivedStateFromProps!=null&&(o.__s==o.state&&(o.__s=x({},o.__s)),x(o.__s,v.getDerivedStateFromProps(l,o.__s))),f=o.props,s=o.state,g)v.getDerivedStateFromProps==null&&o.componentWillMount!=null&&o.componentWillMount(),o.componentDidMount!=null&&o.__h.push(o.componentDidMount);else{if(v.getDerivedStateFromProps==null&&l!==f&&o.componentWillReceiveProps!=null&&o.componentWillReceiveProps(l,y),!o.__e&&o.shouldComponentUpdate!=null&&o.shouldComponentUpdate(l,o.__s,y)===!1||t.__v===n.__v){o.props=l,o.state=o.__s,t.__v!==n.__v&&(o.__d=!1),o.__v=t,t.__e=n.__e,t.__k=n.__k,o.__h.length&&p.push(o);break e}o.componentWillUpdate!=null&&o.componentWillUpdate(l,o.__s,y),o.componentDidUpdate!=null&&o.__h.push(function(){o.componentDidUpdate(f,s,b)})}o.context=y,o.props=l,o.state=o.__s,(m=u.__r)&&m(t),o.__d=!1,o.__v=t,o.__P=e,m=o.render(o.props,o.state,o.context),o.state=o.__s,o.getChildContext!=null&&(_=x(x({},_),o.getChildContext())),g||o.getSnapshotBeforeUpdate==null||(b=o.getSnapshotBeforeUpdate(f,s)),C=m!=null&&m.type===T&&m.key==null?m.props.children:m,ie(e,Array.isArray(C)?C:[C],t,n,_,i,r,p,d,h),o.base=t.__e,t.__h=null,o.__h.length&&p.push(o),c&&(o.__E=o.__=null),o.__e=!1}else r==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Le(n.__e,t,n,_,i,r,p,h);(m=u.diffed)&&m(t)}catch(E){t.__v=null,(h||r!=null)&&(t.__e=d,t.__h=!!h,r[r.indexOf(d)]=null),u.__e(E,t,n)}}function te(e,t){u.__c&&u.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(_){_.call(n)})}catch(_){u.__e(_,n.__v)}})}function Le(e,t,n,_,i,r,p,d){var h,m,o,g,f=n.props,s=t.props,b=t.type,c=0;if(b==="svg"&&(i=!0),r!=null){for(;c<r.length;c++)if((h=r[c])&&(h===e||(b?h.localName==b:h.nodeType==3))){e=h,r[c]=null;break}}if(e==null){if(b===null)return document.createTextNode(s);e=i?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,s.is&&s),r=null,d=!1}if(b===null)f===s||d&&e.data===s||(e.data=s);else{if(r=r&&B.slice.call(e.childNodes),m=(f=n.props||$).dangerouslySetInnerHTML,o=s.dangerouslySetInnerHTML,!d){if(r!=null)for(f={},g=0;g<e.attributes.length;g++)f[e.attributes[g].name]=e.attributes[g].value;(o||m)&&(o&&(m&&o.__html==m.__html||o.__html===e.innerHTML)||(e.innerHTML=o&&o.__html||""))}if(He(e,s,f,i,d),o)t.__k=[];else if(c=t.props.children,ie(e,Array.isArray(c)?c:[c],t,n,_,i&&b!=="foreignObject",r,p,e.firstChild,d),r!=null)for(c=r.length;c--;)r[c]!=null&&X(r[c]);d||("value"in s&&(c=s.value)!==void 0&&(c!==e.value||b==="progress"&&!c)&&N(e,"value",c,f.value,!1),"checked"in s&&(c=s.checked)!==void 0&&c!==e.checked&&N(e,"checked",c,f.checked,!1))}return e}function oe(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(_){u.__e(_,n)}}function _e(e,t,n){var _,i,r;if(u.unmount&&u.unmount(e),(_=e.ref)&&(_.current&&_.current!==e.__e||oe(_,null,t)),n||typeof e.type=="function"||(n=(i=e.__e)!=null),e.__e=e.__d=void 0,(_=e.__c)!=null){if(_.componentWillUnmount)try{_.componentWillUnmount()}catch(p){u.__e(p,t)}_.base=_.__P=null}if(_=e.__k)for(r=0;r<_.length;r++)_[r]&&_e(_[r],t,n);i!=null&&X(i)}function Ue(e,t,n){return this.constructor(e,n)}function le(e,t,n){var _,i,r;u.__&&u.__(e,t),i=(_=typeof n=="function")?null:n&&n.__k||t.__k,r=[],q(t,e=(!_&&n||t).__k=k(T,null,[e]),i||$,$,t.ownerSVGElement!==void 0,!_&&n?[n]:i?null:t.firstChild?B.slice.call(t.childNodes):null,r,!_&&n?n:i?i.__e:t.firstChild,_),te(r,e)}u={__e:function(e,t){for(var n,_,i;t=t.__;)if((n=t.__c)&&!n.__)try{if((_=n.constructor)&&_.getDerivedStateFromError!=null&&(n.setState(_.getDerivedStateFromError(e)),i=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(e),i=n.__d),i)return n.__E=n}catch(r){e=r}throw e},__v:0},Pe=function(e){return e!=null&&e.constructor===void 0},M.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=x({},this.state),typeof e=="function"&&(e=e(x({},n),this.props)),e&&x(n,e),e!=null&&this.__v&&(t&&this.__h.push(t),ee(this))},M.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ee(this))},M.prototype.render=T,H=[],Z=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,W.__r=0,Ae=0;var R,S,ae,U=0,V=[],fe=u.__b,pe=u.__r,de=u.diffed,he=u.__c,me=u.unmount;function z(e,t){u.__h&&u.__h(S,e,U||t),U=0;var n=S.__H||(S.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function w(e){return U=1,Oe(ve,e)}function Oe(e,t,n){var _=z(R++,2);return _.t=e,_.__c||(_.__=[n?n(t):ve(void 0,t),function(i){var r=_.t(_.__[0],i);_.__[0]!==r&&(_.__=[r,_.__[1]],_.__c.setState({}))}],_.__c=S),_.__}function P(e,t){var n=z(R++,3);!u.__s&&ye(n.__H,t)&&(n.__=e,n.__H=t,S.__H.__h.push(n))}function be(e){return U=5,ge(function(){return{current:e}},[])}function ge(e,t){var n=z(R++,7);return ye(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function D(e,t){return U=8,ge(function(){return e},t)}function $e(){V.forEach(function(e){if(e.__P)try{e.__H.__h.forEach(j),e.__H.__h.forEach(G),e.__H.__h=[]}catch(t){e.__H.__h=[],u.__e(t,e.__v)}}),V=[]}u.__b=function(e){S=null,fe&&fe(e)},u.__r=function(e){pe&&pe(e),R=0;var t=(S=e.__c).__H;t&&(t.__h.forEach(j),t.__h.forEach(G),t.__h=[])},u.diffed=function(e){de&&de(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(V.push(t)!==1&&ae===u.requestAnimationFrame||((ae=u.requestAnimationFrame)||function(n){var _,i=function(){clearTimeout(r),ke&&cancelAnimationFrame(_),setTimeout(n)},r=setTimeout(i,100);ke&&(_=requestAnimationFrame(i))})($e)),S=void 0},u.__c=function(e,t){t.some(function(n){try{n.__h.forEach(j),n.__h=n.__h.filter(function(_){return!_.__||G(_)})}catch(_){t.some(function(i){i.__h&&(i.__h=[])}),t=[],u.__e(_,n.__v)}}),he&&he(e,t)},u.unmount=function(e){me&&me(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(j)}catch(n){u.__e(n,t.__v)}};var ke=typeof requestAnimationFrame=="function";function j(e){var t=S;typeof e.__c=="function"&&e.__c(),S=t}function G(e){var t=S;e.__c=e.__(),S=t}function ye(e,t){return!e||e.length!==t.length||t.some(function(n,_){return n!==e[_]})}function ve(e,t){return typeof t=="function"?t(e):t}var Ie="https://data.jsdelivr.com/v1/package/npm/esbuild-wasm";function Ce(){return Math.floor(Number(new Date)/1e3)}function Me(e){return`https://cdn.jsdelivr.net/npm/esbuild-wasm@${e}/esm/browser.js`}function We(e){return`https://cdn.jsdelivr.net/npm/esbuild-wasm@${e}/esbuild.wasm`}async function Ne(){let t=(await fetch(Ie).then(n=>n.json())).tags.latest;return localStorage.setItem("esbuild-repl",`${t}:${Ce()}`),t}async function Re(){let e=localStorage.getItem("esbuild-repl");if(e){let[t,n]=e.split(":",2);if(Ce()-parseInt(n)<86400*7)return t}return Ne()}var K=null;async function je(e){if(K==null)try{let{startService:t}=await import(Me(e));K=await t({wasmURL:We(e)})}catch{}return K}function Fe(e,...t){let[n,_]=w(null),[i,r]=w("pending");return P(()=>{(async()=>{try{_(await e(...t)),r("success")}catch{_(null),r("fail")}})()},[]),{status:i,data:n}}function Be(){let[e,t]=w(null),{status:n,data:_}=Fe(Re);return P(()=>{n==="success"&&je(_).then(t)},[n]),e}function qe({text:e}){let[t,n]=w(0);return P(()=>{let _=setTimeout(()=>n((t+1)%7),1e3);return()=>clearTimeout(_)},[t]),k("div",{class:"center code"},k("div",null,e),k("div",null,"\xA0",".".repeat(t),"\xA0"))}function Ve(e=300){let[t,n]=w(!0);return P(()=>{setTimeout(()=>n(!1),e)},[]),t}function ze({children:e}){return k(T,null,k("header",null,"esbuild repl"),k("main",null,e))}function Ge(){let e=be([]),t=D(n=>e.current.push(n),[]);return P(()=>{e.current.length>0&&(e.current.forEach(n=>n()),e.current=[])}),t}function Ke(e){for(let t in e)return!0;return!1}function J(e){return e.replace(/([A-Z])/g,t=>"-"+t.toLowerCase())}function F(e){return e.replace(/-([a-z])/g,t=>t.substring(1).toUpperCase())}function Se(e){return e==="true"?!0:e==="false"?!1:e}var Je={loader:"tsx"};function Ze(){let[e,t]=w('render(<App />, document.getElementById("app")!);'),[n,_]=w("waiting for esbuild service ..."),[i,r]=w(""),[p,d]=w(Je),h=Ve(),m=Be(),o=Ge();if(P(async()=>{try{let c=await m?.transform(e,p);c&&(_(c.code),r(""))}catch(c){r(c.message)}},[m,e,p]),h)return k("div",null);if(m==null)return k(qe,{text:"loading esbuild (about 10MB)"});let g=D(function(l){if(l.key==="Tab"){l.preventDefault();let a=l.target,y=e.substring(0,a.selectionStart),C=a.selectionEnd,v=e.substring(C);t(y+"    "+v),o(()=>{a.selectionStart=a.selectionEnd=C+4})}},[e]),f=D(function(l){t(l.target.value)},[]),s=D(function(l){let a={},y=l.target.value;for(let C of y.split(/\s+/)){let v;/^--/.test(C)?v=C.substring(2):v=C;let E=v.indexOf(":"),we=v.indexOf("=");if(E===-1&&we===-1)a[F(v)]=!0;else if(E!==-1&&E<v.indexOf("=")){let O=v.substring(0,E),A={};for(let xe of v.substring(E+1).split(",")){let[Ee,Te]=xe.split("=",2);A[Ee]=Se(Te)}a[F(O)]=A}else{let[O,A]=v.split("=",2);A.includes(",")?a[F(O)]=A.split(","):a[F(O)]=Se(A)}}d(a)},[]),b=D(function(){let l=[];for(let a in p){let y=p[a];y instanceof Object&&!Array.isArray(y)&&Ke(y)?l.push(`--${J(a)}:${Object.entries(y).map((C,v)=>`${C}=${v}`)}`):y===!0?l.push(`--${J(a)}`):l.push(`--${J(a)}=${y}`)}return l.join(" ")},[p]);return k(T,null,k(ze,null,k("textarea",{value:e,onKeyDown:g,onInput:f}),k("div",{className:"spliter"}),k("textarea",{readOnly:!0,value:n})),k("aside",null,k("input",{onChange:s,value:b()}),i&&k("span",{class:"error",title:i.replace(/\n/g,"&#010;")},i)))}le(k(Ze,null),document.getElementById("app"));
//# sourceMappingURL=main.js.map
