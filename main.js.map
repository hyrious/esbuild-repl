{
  "version": 3,
  "sources": ["../src/behaviors/service-worker.ts", "../node_modules/.pnpm/selector-set@1.1.5/node_modules/selector-set/selector-set.next.js", "../node_modules/.pnpm/selector-observer@2.1.6/node_modules/selector-observer/dist/index.esm.js", "../node_modules/.pnpm/text-field-edit@4.1.1/node_modules/text-field-edit/index.js", "../node_modules/.pnpm/indent-textarea@4.0.0/node_modules/indent-textarea/index.js", "../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/runtime/internal/utils.js", "../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/runtime/internal/environment.js", "../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/runtime/internal/loop.js", "../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/runtime/internal/globals.js", "../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/runtime/internal/ResizeObserverSingleton.js", "../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/runtime/internal/dom.js", "../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/runtime/internal/style_manager.js", "../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/runtime/internal/lifecycle.js", "../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/runtime/internal/scheduler.js", "../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/runtime/internal/transitions.js", "../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/runtime/internal/await_block.js", "../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/runtime/internal/each.js", "../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/shared/boolean_attributes.js", "../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/runtime/internal/Component.js", "../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/shared/version.js", "../src/helpers/dom.ts", "../src/behaviors/editor.ts", "../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/runtime/internal/disclose-version/index.js", "../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/runtime/store/index.js", "../node_modules/.pnpm/@hyrious+utils@0.0.6/node_modules/@hyrious/utils/src/misc.ts", "../node_modules/.pnpm/@hyrious+utils@0.0.6/node_modules/@hyrious/utils/src/array.ts", "../node_modules/.pnpm/@hyrious+utils@0.0.6/node_modules/@hyrious/utils/src/dom.ts", "../node_modules/.pnpm/@hyrious+utils@0.0.6/node_modules/@hyrious/utils/src/emitter.ts", "../node_modules/.pnpm/@hyrious+utils@0.0.6/node_modules/@hyrious/utils/src/math.ts", "../node_modules/.pnpm/@hyrious+utils@0.0.6/node_modules/@hyrious/utils/src/mutex.ts", "../node_modules/.pnpm/@hyrious+utils@0.0.6/node_modules/@hyrious/utils/src/promise.ts", "../node_modules/.pnpm/@hyrious+utils@0.0.6/node_modules/@hyrious/utils/src/reactive.ts", "../node_modules/.pnpm/@hyrious+utils@0.0.6/node_modules/@hyrious/utils/src/side-effect.ts", "../node_modules/.pnpm/@hyrious+utils@0.0.6/node_modules/@hyrious/utils/src/string.ts", "../src/global.ts", "../src/behaviors/query.ts", "../src/helpers/versions.ts", "../src/stores.ts", "../src/components/Header.svelte", "../src/components/SplitPane.svelte", "../src/helpers/options.ts", "../src/ipc.ts", "../node_modules/.pnpm/pretty-bytes@6.1.1/node_modules/pretty-bytes/index.js", "../src/helpers/hljs.ts", "../src/components/Editor.svelte", "../src/helpers/completion.ts", "../src/components/Options.svelte", "../src/components/Transform.svelte", "../node_modules/.pnpm/idb-keyval@6.2.1/node_modules/idb-keyval/dist/index.js", "../src/helpers/idb.ts", "../src/helpers/tarball.ts", "../src/components/NpmPackage.svelte", "../src/components/Build.svelte", "../src/helpers/ansi.ts", "../src/components/Rollup.svelte", "../src/components/Features.svelte", "../src/components/Visualize.svelte", "../src/components/Metafile.svelte", "../src/components/Output.svelte", "../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/runtime/transition/index.js", "../src/components/Footer.svelte", "../src/App.svelte", "../src/main.ts"],
  "sourcesContent": ["if (import.meta.env.DEV) {\n  navigator.serviceWorker?.getRegistrations().then((rs) => rs.forEach((r) => r.unregister()))\n} else {\n  navigator.serviceWorker\n    ?.register('sw.js')\n    .then((e) => console.log('registered sw.js in scope:', e.scope))\n    .catch((e) => console.log('failed to register sw.js:', e))\n}\n", "// Public: Create a new SelectorSet.\nexport default function SelectorSet() {\n  // Construct new SelectorSet if called as a function.\n  if (!(this instanceof SelectorSet)) {\n    return new SelectorSet();\n  }\n\n  // Public: Number of selectors added to the set\n  this.size = 0;\n\n  // Internal: Incrementing ID counter\n  this.uid = 0;\n\n  // Internal: Array of String selectors in the set\n  this.selectors = [];\n\n  // Internal: Map of selector ids to objects\n  this.selectorObjects = {};\n\n  // Internal: All Object index String names mapping to Index objects.\n  this.indexes = Object.create(this.indexes);\n\n  // Internal: Used Object index String names mapping to Index objects.\n  this.activeIndexes = [];\n}\n\n// Detect prefixed Element#matches function.\nvar docElem = window.document.documentElement;\nvar matches =\n  docElem.matches ||\n  docElem.webkitMatchesSelector ||\n  docElem.mozMatchesSelector ||\n  docElem.oMatchesSelector ||\n  docElem.msMatchesSelector;\n\n// Public: Check if element matches selector.\n//\n// Maybe overridden with custom Element.matches function.\n//\n// el       - An Element\n// selector - String CSS selector\n//\n// Returns true or false.\nSelectorSet.prototype.matchesSelector = function(el, selector) {\n  return matches.call(el, selector);\n};\n\n// Public: Find all elements in the context that match the selector.\n//\n// Maybe overridden with custom querySelectorAll function.\n//\n// selectors - String CSS selectors.\n// context   - Element context\n//\n// Returns non-live list of Elements.\nSelectorSet.prototype.querySelectorAll = function(selectors, context) {\n  return context.querySelectorAll(selectors);\n};\n\n// Public: Array of indexes.\n//\n// name     - Unique String name\n// selector - Function that takes a String selector and returns a String key\n//            or undefined if it can't be used by the index.\n// element  - Function that takes an Element and returns an Array of String\n//            keys that point to indexed values.\n//\nSelectorSet.prototype.indexes = [];\n\n// Index by element id\nvar idRe = /^#((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/g;\nSelectorSet.prototype.indexes.push({\n  name: 'ID',\n  selector: function matchIdSelector(sel) {\n    var m;\n    if ((m = sel.match(idRe))) {\n      return m[0].slice(1);\n    }\n  },\n  element: function getElementId(el) {\n    if (el.id) {\n      return [el.id];\n    }\n  }\n});\n\n// Index by all of its class names\nvar classRe = /^\\.((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/g;\nSelectorSet.prototype.indexes.push({\n  name: 'CLASS',\n  selector: function matchClassSelector(sel) {\n    var m;\n    if ((m = sel.match(classRe))) {\n      return m[0].slice(1);\n    }\n  },\n  element: function getElementClassNames(el) {\n    var className = el.className;\n    if (className) {\n      if (typeof className === 'string') {\n        return className.split(/\\s/);\n      } else if (typeof className === 'object' && 'baseVal' in className) {\n        // className is a SVGAnimatedString\n        // global SVGAnimatedString is not an exposed global in Opera 12\n        return className.baseVal.split(/\\s/);\n      }\n    }\n  }\n});\n\n// Index by tag/node name: `DIV`, `FORM`, `A`\nvar tagRe = /^((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/g;\nSelectorSet.prototype.indexes.push({\n  name: 'TAG',\n  selector: function matchTagSelector(sel) {\n    var m;\n    if ((m = sel.match(tagRe))) {\n      return m[0].toUpperCase();\n    }\n  },\n  element: function getElementTagName(el) {\n    return [el.nodeName.toUpperCase()];\n  }\n});\n\n// Default index just contains a single array of elements.\nSelectorSet.prototype.indexes['default'] = {\n  name: 'UNIVERSAL',\n  selector: function() {\n    return true;\n  },\n  element: function() {\n    return [true];\n  }\n};\n\n// Use ES Maps when supported\nvar Map;\nif (typeof window.Map === 'function') {\n  Map = window.Map;\n} else {\n  Map = (function() {\n    function Map() {\n      this.map = {};\n    }\n    Map.prototype.get = function(key) {\n      return this.map[key + ' '];\n    };\n    Map.prototype.set = function(key, value) {\n      this.map[key + ' '] = value;\n    };\n    return Map;\n  })();\n}\n\n// Regexps adopted from Sizzle\n//   https://github.com/jquery/sizzle/blob/1.7/sizzle.js\n//\nvar chunker = /((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^\\[\\]]*\\]|['\"][^'\"]*['\"]|[^\\[\\]'\"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?((?:.|\\r|\\n)*)/g;\n\n// Internal: Get indexes for selector.\n//\n// selector - String CSS selector\n//\n// Returns Array of {index, key}.\nfunction parseSelectorIndexes(allIndexes, selector) {\n  allIndexes = allIndexes.slice(0).concat(allIndexes['default']);\n\n  var allIndexesLen = allIndexes.length,\n    i,\n    j,\n    m,\n    dup,\n    rest = selector,\n    key,\n    index,\n    indexes = [];\n\n  do {\n    chunker.exec('');\n    if ((m = chunker.exec(rest))) {\n      rest = m[3];\n      if (m[2] || !rest) {\n        for (i = 0; i < allIndexesLen; i++) {\n          index = allIndexes[i];\n          if ((key = index.selector(m[1]))) {\n            j = indexes.length;\n            dup = false;\n            while (j--) {\n              if (indexes[j].index === index && indexes[j].key === key) {\n                dup = true;\n                break;\n              }\n            }\n            if (!dup) {\n              indexes.push({ index: index, key: key });\n            }\n            break;\n          }\n        }\n      }\n    }\n  } while (m);\n\n  return indexes;\n}\n\n// Internal: Find first item in Array that is a prototype of `proto`.\n//\n// ary   - Array of objects\n// proto - Prototype of expected item in `ary`\n//\n// Returns object from `ary` if found. Otherwise returns undefined.\nfunction findByPrototype(ary, proto) {\n  var i, len, item;\n  for (i = 0, len = ary.length; i < len; i++) {\n    item = ary[i];\n    if (proto.isPrototypeOf(item)) {\n      return item;\n    }\n  }\n}\n\n// Public: Log when added selector falls under the default index.\n//\n// This API should not be considered stable. May change between\n// minor versions.\n//\n// obj - {selector, data} Object\n//\n//   SelectorSet.prototype.logDefaultIndexUsed = function(obj) {\n//     console.warn(obj.selector, \"could not be indexed\");\n//   };\n//\n// Returns nothing.\nSelectorSet.prototype.logDefaultIndexUsed = function() {};\n\n// Public: Add selector to set.\n//\n// selector - String CSS selector\n// data     - Optional data Object (default: undefined)\n//\n// Returns nothing.\nSelectorSet.prototype.add = function(selector, data) {\n  var obj,\n    i,\n    indexProto,\n    key,\n    index,\n    objs,\n    selectorIndexes,\n    selectorIndex,\n    indexes = this.activeIndexes,\n    selectors = this.selectors,\n    selectorObjects = this.selectorObjects;\n\n  if (typeof selector !== 'string') {\n    return;\n  }\n\n  obj = {\n    id: this.uid++,\n    selector: selector,\n    data: data\n  };\n  selectorObjects[obj.id] = obj;\n\n  selectorIndexes = parseSelectorIndexes(this.indexes, selector);\n  for (i = 0; i < selectorIndexes.length; i++) {\n    selectorIndex = selectorIndexes[i];\n    key = selectorIndex.key;\n    indexProto = selectorIndex.index;\n\n    index = findByPrototype(indexes, indexProto);\n    if (!index) {\n      index = Object.create(indexProto);\n      index.map = new Map();\n      indexes.push(index);\n    }\n\n    if (indexProto === this.indexes['default']) {\n      this.logDefaultIndexUsed(obj);\n    }\n    objs = index.map.get(key);\n    if (!objs) {\n      objs = [];\n      index.map.set(key, objs);\n    }\n    objs.push(obj);\n  }\n\n  this.size++;\n  selectors.push(selector);\n};\n\n// Public: Remove selector from set.\n//\n// selector - String CSS selector\n// data     - Optional data Object (default: undefined)\n//\n// Returns nothing.\nSelectorSet.prototype.remove = function(selector, data) {\n  if (typeof selector !== 'string') {\n    return;\n  }\n\n  var selectorIndexes,\n    selectorIndex,\n    i,\n    j,\n    k,\n    selIndex,\n    objs,\n    obj,\n    indexes = this.activeIndexes,\n    selectors = (this.selectors = []),\n    selectorObjects = this.selectorObjects,\n    removedIds = {},\n    removeAll = arguments.length === 1;\n\n  selectorIndexes = parseSelectorIndexes(this.indexes, selector);\n  for (i = 0; i < selectorIndexes.length; i++) {\n    selectorIndex = selectorIndexes[i];\n\n    j = indexes.length;\n    while (j--) {\n      selIndex = indexes[j];\n      if (selectorIndex.index.isPrototypeOf(selIndex)) {\n        objs = selIndex.map.get(selectorIndex.key);\n        if (objs) {\n          k = objs.length;\n          while (k--) {\n            obj = objs[k];\n            if (obj.selector === selector && (removeAll || obj.data === data)) {\n              objs.splice(k, 1);\n              removedIds[obj.id] = true;\n            }\n          }\n        }\n        break;\n      }\n    }\n  }\n\n  for (i in removedIds) {\n    delete selectorObjects[i];\n    this.size--;\n  }\n\n  for (i in selectorObjects) {\n    selectors.push(selectorObjects[i].selector);\n  }\n};\n\n// Sort by id property handler.\n//\n// a - Selector obj.\n// b - Selector obj.\n//\n// Returns Number.\nfunction sortById(a, b) {\n  return a.id - b.id;\n}\n\n// Public: Find all matching decendants of the context element.\n//\n// context - An Element\n//\n// Returns Array of {selector, data, elements} matches.\nSelectorSet.prototype.queryAll = function(context) {\n  if (!this.selectors.length) {\n    return [];\n  }\n\n  var matches = {},\n    results = [];\n  var els = this.querySelectorAll(this.selectors.join(', '), context);\n\n  var i, j, len, len2, el, m, match, obj;\n  for (i = 0, len = els.length; i < len; i++) {\n    el = els[i];\n    m = this.matches(el);\n    for (j = 0, len2 = m.length; j < len2; j++) {\n      obj = m[j];\n      if (!matches[obj.id]) {\n        match = {\n          id: obj.id,\n          selector: obj.selector,\n          data: obj.data,\n          elements: []\n        };\n        matches[obj.id] = match;\n        results.push(match);\n      } else {\n        match = matches[obj.id];\n      }\n      match.elements.push(el);\n    }\n  }\n\n  return results.sort(sortById);\n};\n\n// Public: Match element against all selectors in set.\n//\n// el - An Element\n//\n// Returns Array of {selector, data} matches.\nSelectorSet.prototype.matches = function(el) {\n  if (!el) {\n    return [];\n  }\n\n  var i, j, k, len, len2, len3, index, keys, objs, obj, id;\n  var indexes = this.activeIndexes,\n    matchedIds = {},\n    matches = [];\n\n  for (i = 0, len = indexes.length; i < len; i++) {\n    index = indexes[i];\n    keys = index.element(el);\n    if (keys) {\n      for (j = 0, len2 = keys.length; j < len2; j++) {\n        if ((objs = index.map.get(keys[j]))) {\n          for (k = 0, len3 = objs.length; k < len3; k++) {\n            obj = objs[k];\n            id = obj.id;\n            if (!matchedIds[id] && this.matchesSelector(el, obj.selector)) {\n              matchedIds[id] = true;\n              matches.push(obj);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  return matches.sort(sortById);\n};\n", "import SelectorSet from 'selector-set';\n\nvar el = null;\nvar observer = null;\nvar queue = [];\n\nfunction scheduleBatch(document, callback) {\n  var calls = [];\n\n  function processBatchQueue() {\n    var callsCopy = calls;\n    calls = [];\n    callback(callsCopy);\n  }\n\n  function scheduleBatchQueue() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    calls.push(args);\n    if (calls.length === 1) scheduleMacroTask(document, processBatchQueue);\n  }\n\n  return scheduleBatchQueue;\n}\n\nfunction scheduleMacroTask(document, callback) {\n  if (!observer) {\n    observer = new MutationObserver(handleMutations);\n  }\n\n  if (!el) {\n    el = document.createElement('div');\n    observer.observe(el, { attributes: true });\n  }\n\n  queue.push(callback);\n  el.setAttribute('data-twiddle', '' + Date.now());\n}\n\nfunction handleMutations() {\n  var callbacks = queue;\n  queue = [];\n  for (var i = 0; i < callbacks.length; i++) {\n    try {\n      callbacks[i]();\n    } catch (error) {\n      setTimeout(function () {\n        throw error;\n      }, 0);\n    }\n  }\n}\n\n// selector-observer processes dom mutations in two phases. This module applies\n// the Change set from the first phase and invokes the any registered hooks.\n\nvar initMap = new WeakMap();\nvar initializerMap = new WeakMap();\nvar subscriptionMap = new WeakMap();\nvar addMap = new WeakMap();\n\nfunction applyChanges(selectorObserver, changes) {\n  for (var i = 0; i < changes.length; i++) {\n    var change = changes[i];\n    var type = change[0];\n    var el = change[1];\n    var observer = change[2];\n    if (type === ADD) {\n      runInit(observer, el);\n      runAdd(observer, el);\n    } else if (type === REMOVE) {\n      runRemove(observer, el);\n    } else if (type === REMOVE_ALL) {\n      runRemoveAll(selectorObserver.observers, el);\n    }\n  }\n}\n\n// Run observer node \"initialize\" callback once.\n// Call when observer selector matches node.\n//\n// observer - An observer Object.\n// el       - An Element\n//\n// Returns nothing.\nfunction runInit(observer, el) {\n  if (!(el instanceof observer.elementConstructor)) {\n    return;\n  }\n\n  var initIds = initMap.get(el);\n  if (!initIds) {\n    initIds = [];\n    initMap.set(el, initIds);\n  }\n\n  if (initIds.indexOf(observer.id) === -1) {\n    var initializer = void 0;\n    if (observer.initialize) {\n      initializer = observer.initialize.call(undefined, el);\n    }\n    if (initializer) {\n      var initializers = initializerMap.get(el);\n      if (!initializers) {\n        initializers = {};\n        initializerMap.set(el, initializers);\n      }\n      initializers['' + observer.id] = initializer;\n    }\n    initIds.push(observer.id);\n  }\n}\n\n// Run observer node \"add\" callback.\n// Call when observer selector matches node.\n//\n// observer - An observer Object.\n// el       - An Element\n//\n// Returns nothing.\nfunction runAdd(observer, el) {\n  if (!(el instanceof observer.elementConstructor)) {\n    return;\n  }\n\n  var addIds = addMap.get(el);\n  if (!addIds) {\n    addIds = [];\n    addMap.set(el, addIds);\n  }\n\n  if (addIds.indexOf(observer.id) === -1) {\n    observer.elements.push(el);\n\n    var initializers = initializerMap.get(el);\n    var initializer = initializers ? initializers['' + observer.id] : null;\n    if (initializer && initializer.add) {\n      initializer.add.call(undefined, el);\n    }\n\n    if (observer.subscribe) {\n      var subscription = observer.subscribe.call(undefined, el);\n      if (subscription) {\n        var subscriptions = subscriptionMap.get(el);\n        if (!subscriptions) {\n          subscriptions = {};\n          subscriptionMap.set(el, subscriptions);\n        }\n        subscriptions['' + observer.id] = subscription;\n      }\n    }\n\n    if (observer.add) {\n      observer.add.call(undefined, el);\n    }\n\n    addIds.push(observer.id);\n  }\n}\n\n// Runs all observer element \"remove\" callbacks.\n// Call when element is completely removed from the DOM.\n//\n// observer - An observer Object.\n// el       - An Element\n//\n// Returns nothing.\nfunction runRemove(observer, el) {\n  if (!(el instanceof observer.elementConstructor)) {\n    return;\n  }\n\n  var addIds = addMap.get(el);\n  if (!addIds) {\n    return;\n  }\n\n  var index = observer.elements.indexOf(el);\n  if (index !== -1) {\n    observer.elements.splice(index, 1);\n  }\n\n  index = addIds.indexOf(observer.id);\n  if (index !== -1) {\n    var initializers = initializerMap.get(el);\n    var initializer = initializers ? initializers['' + observer.id] : null;\n    if (initializer) {\n      if (initializer.remove) {\n        initializer.remove.call(undefined, el);\n      }\n    }\n\n    if (observer.subscribe) {\n      var subscriptions = subscriptionMap.get(el);\n      var subscription = subscriptions ? subscriptions['' + observer.id] : null;\n      if (subscription && subscription.unsubscribe) {\n        subscription.unsubscribe();\n      }\n    }\n\n    if (observer.remove) {\n      observer.remove.call(undefined, el);\n    }\n\n    addIds.splice(index, 1);\n  }\n\n  if (addIds.length === 0) {\n    addMap.delete(el);\n  }\n}\n\n// Runs all observer element \"remove\" callbacks.\n// Call when element is completely removed from the DOM.\n//\n// observes - Array of observers\n// el - An Element\n//\n// Returns nothing.\nfunction runRemoveAll(observers, el) {\n  var addIds = addMap.get(el);\n  if (!addIds) {\n    return;\n  }\n\n  var ids = addIds.slice(0);\n  for (var i = 0; i < ids.length; i++) {\n    var observer = observers[ids[i]];\n    if (!observer) {\n      continue;\n    }\n\n    var index = observer.elements.indexOf(el);\n    if (index !== -1) {\n      observer.elements.splice(index, 1);\n    }\n\n    var initializers = initializerMap.get(el);\n    var initializer = initializers ? initializers['' + observer.id] : null;\n    if (initializer && initializer.remove) {\n      initializer.remove.call(undefined, el);\n    }\n\n    var subscriptions = subscriptionMap.get(el);\n    var subscription = subscriptions ? subscriptions['' + observer.id] : null;\n    if (subscription && subscription.unsubscribe) {\n      subscription.unsubscribe();\n    }\n\n    if (observer.remove) {\n      observer.remove.call(undefined, el);\n    }\n  }\n  addMap.delete(el);\n}\n\nvar innerHTMLReplacementIsBuggy = null;\n\n// In IE 9/10/11 replacing child via innerHTML will orphan all of the child\n// elements. This prevents walking the descendants of removedNodes.\n// https://connect.microsoft.com/IE/feedback/details/797844/ie9-10-11-dom-child-kill-bug\nfunction detectInnerHTMLReplacementBuggy(document) {\n  if (innerHTMLReplacementIsBuggy === null) {\n    var a = document.createElement('div');\n    var b = document.createElement('div');\n    var c = document.createElement('div');\n    a.appendChild(b);\n    b.appendChild(c);\n    a.innerHTML = '';\n    innerHTMLReplacementIsBuggy = c.parentNode !== b;\n  }\n  return innerHTMLReplacementIsBuggy;\n}\n\nfunction supportsSelectorMatching(node) {\n  return 'matches' in node || 'webkitMatchesSelector' in node || 'mozMatchesSelector' in node || 'oMatchesSelector' in node || 'msMatchesSelector' in node;\n}\n\n// selector-observer processes dom mutations in two phases. This module\n// processes DOM mutations, revalidates selectors against the target element and\n// enqueues a Change for an observers hooks to be ran.\n\n// A set of Changes is structured as an Array of tuples:\n//\n// [ADD, element, observer]: Indicates that an observer starting matching\n// the element.\nvar ADD = 1;\n\n// [REMOVE, element, observer]: Indicates that an observer stopped matching\n// the element.\nvar REMOVE = 2;\n\n// [REMOVE_ALL, element]: Indicates that an element was removed from the\n// document and all related observers stopped matching the element.\nvar REMOVE_ALL = 3;\n\n// A handler for processing MutationObserver mutations.\n//\n// selectorObserver - The SelectorObserver\n// changes - Array of changes to append to\n// mutations - An array of MutationEvents\n//\n// Return nothing.\nfunction handleMutations$1(selectorObserver, changes, mutations) {\n  for (var i = 0; i < mutations.length; i++) {\n    var mutation = mutations[i];\n    if (mutation.type === 'childList') {\n      addNodes(selectorObserver, changes, mutation.addedNodes);\n      removeNodes(selectorObserver, changes, mutation.removedNodes);\n    } else if (mutation.type === 'attributes') {\n      revalidateObservers(selectorObserver, changes, mutation.target);\n    }\n  }\n  if (detectInnerHTMLReplacementBuggy(selectorObserver.ownerDocument)) {\n    revalidateOrphanedElements(selectorObserver, changes);\n  }\n}\n\n// Run observer node \"add\" callback once on the any matching\n// node and its subtree.\n//\n// selectorObserver - The SelectorObserver\n// changes - Array of changes to append to\n// nodes   - A NodeList of Nodes\n//\n// Returns nothing.\nfunction addNodes(selectorObserver, changes, nodes) {\n  for (var i = 0; i < nodes.length; i++) {\n    var node = nodes[i];\n\n    if (supportsSelectorMatching(node)) {\n      var matches = selectorObserver.selectorSet.matches(node);\n      for (var j = 0; j < matches.length; j++) {\n        var data = matches[j].data;\n\n        changes.push([ADD, node, data]);\n      }\n    }\n\n    if ('querySelectorAll' in node) {\n      var matches2 = selectorObserver.selectorSet.queryAll(node);\n      for (var _j = 0; _j < matches2.length; _j++) {\n        var _matches2$_j = matches2[_j],\n            _data = _matches2$_j.data,\n            elements = _matches2$_j.elements;\n\n        for (var k = 0; k < elements.length; k++) {\n          changes.push([ADD, elements[k], _data]);\n        }\n      }\n    }\n  }\n}\n\n// Run all observer node \"remove\" callbacks on the node\n// and its entire subtree.\n//\n// selectorObserver - The SelectorObserver\n// changes - Array of changes to append to\n// nodes   - A NodeList of Nodes\n//\n// Returns nothing.\nfunction removeNodes(selectorObserver, changes, nodes) {\n  for (var i = 0; i < nodes.length; i++) {\n    var node = nodes[i];\n    if ('querySelectorAll' in node) {\n      changes.push([REMOVE_ALL, node]);\n      var descendants = node.querySelectorAll('*');\n      for (var j = 0; j < descendants.length; j++) {\n        changes.push([REMOVE_ALL, descendants[j]]);\n      }\n    }\n  }\n}\n\n// Recheck all \"add\" observers to see if the selector still matches.\n// If not, run the \"remove\" callback.\n//\n// selectorObserver - The SelectorObserver\n// changes - Array of changes to append to\n// node    - A Node\n//\n// Returns nothing.\nfunction revalidateObservers(selectorObserver, changes, node) {\n  if (supportsSelectorMatching(node)) {\n    var matches = selectorObserver.selectorSet.matches(node);\n    for (var i = 0; i < matches.length; i++) {\n      var data = matches[i].data;\n\n      changes.push([ADD, node, data]);\n    }\n  }\n\n  if ('querySelectorAll' in node) {\n    var ids = addMap.get(node);\n    if (ids) {\n      for (var _i = 0; _i < ids.length; _i++) {\n        var observer = selectorObserver.observers[ids[_i]];\n        if (observer) {\n          if (!selectorObserver.selectorSet.matchesSelector(node, observer.selector)) {\n            changes.push([REMOVE, node, observer]);\n          }\n        }\n      }\n    }\n  }\n}\n\n// Recheck all \"add\" observers to see if the selector still matches.\n// If not, run the \"remove\" callback. Runs on node and all its descendants.\n//\n// selectorObserver - The SelectorObserver\n// changes - Array of changes to append to\n// node    - The root Node\n//\n// Returns nothing.\nfunction revalidateDescendantObservers(selectorObserver, changes, node) {\n  if ('querySelectorAll' in node) {\n    revalidateObservers(selectorObserver, changes, node);\n    var descendants = node.querySelectorAll('*');\n    for (var i = 0; i < descendants.length; i++) {\n      revalidateObservers(selectorObserver, changes, descendants[i]);\n    }\n  }\n}\n\n// Recheck input after \"change\" event and possible related form elements.\n//\n// selectorObserver - The SelectorObserver\n// changes - Array of changes to append to\n// input   - The HTMLInputElement\n//\n// Returns nothing.\nfunction revalidateInputObservers(selectorObserver, changes, inputs) {\n  for (var i = 0; i < inputs.length; i++) {\n    var input = inputs[i];\n    var els = input.form ? input.form.elements : selectorObserver.rootNode.querySelectorAll('input');\n    for (var j = 0; j < els.length; j++) {\n      revalidateObservers(selectorObserver, changes, els[j]);\n    }\n  }\n}\n\n// Check all observed elements to see if they are still in the DOM.\n// Only intended to run on IE where innerHTML replacement is buggy.\n//\n// selectorObserver - The SelectorObserver\n// changes - Array of changes to append to\n//\n// Returns nothing.\nfunction revalidateOrphanedElements(selectorObserver, changes) {\n  for (var i = 0; i < selectorObserver.observers.length; i++) {\n    var observer = selectorObserver.observers[i];\n    if (observer) {\n      var elements = observer.elements;\n\n      for (var j = 0; j < elements.length; j++) {\n        var el = elements[j];\n        if (!el.parentNode) {\n          changes.push([REMOVE_ALL, el]);\n        }\n      }\n    }\n  }\n}\n\nfunction whenReady(document, callback) {\n  var readyState = document.readyState;\n  if (readyState === 'interactive' || readyState === 'complete') {\n    scheduleMacroTask(document, callback);\n  } else {\n    document.addEventListener('DOMContentLoaded', scheduleMacroTask(document, callback));\n  }\n}\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n// Observer uid counter\nvar uid = 0;\n\nfunction SelectorObserver(rootNode) {\n  this.rootNode = rootNode.nodeType === 9 ? rootNode.documentElement : rootNode;\n  this.ownerDocument = rootNode.nodeType === 9 ? rootNode : rootNode.ownerDocument;\n\n  // Map of observer id to object\n  this.observers = [];\n\n  // Index of selectors to observer objects\n  this.selectorSet = new SelectorSet();\n\n  // Process all mutations from root element\n  this.mutationObserver = new MutationObserver(handleRootMutations.bind(this, this));\n\n  this._scheduleAddRootNodes = scheduleBatch(this.ownerDocument, addRootNodes.bind(this, this));\n\n  this._handleThrottledChangedTargets = scheduleBatch(this.ownerDocument, handleChangedTargets.bind(this, this));\n  this.rootNode.addEventListener('change', handleChangeEvents.bind(this, this), false);\n\n  whenReady(this.ownerDocument, onReady.bind(this, this));\n}\n\nSelectorObserver.prototype.disconnect = function () {\n  this.mutationObserver.disconnect();\n};\n\n// Register a new observer.\n//\n// selector - String CSS selector.\n// handlers - Initialize Function or Object with keys:\n//   initialize - Function to invoke once when Node is first matched\n//   add        - Function to invoke when Node matches selector\n//   remove     - Function to invoke when Node no longer matches selector\n//   subscribe  - Function to invoke when Node matches selector and returns Subscription.\n//\n// Returns Observer object.\nSelectorObserver.prototype.observe = function (a, b) {\n  var handlers = void 0;\n\n  if (typeof b === 'function') {\n    handlers = {\n      selector: a,\n      initialize: b\n    };\n  } else if ((typeof b === 'undefined' ? 'undefined' : _typeof(b)) === 'object') {\n    handlers = b;\n    handlers.selector = a;\n  } else {\n    handlers = a;\n  }\n\n  var self = this;\n\n  var observer = {\n    id: uid++,\n    selector: handlers.selector,\n    initialize: handlers.initialize,\n    add: handlers.add,\n    remove: handlers.remove,\n    subscribe: handlers.subscribe,\n    elements: [],\n    elementConstructor: handlers.hasOwnProperty('constructor') ? handlers.constructor : this.ownerDocument.defaultView.Element,\n    abort: function abort() {\n      self._abortObserving(observer);\n    }\n  };\n  this.selectorSet.add(observer.selector, observer);\n  this.observers[observer.id] = observer;\n  this._scheduleAddRootNodes();\n\n  return observer;\n};\n\n// Removes observer and calls any remaining remove hooks.\n//\n// observer - Observer object\n//\n// Returns nothing.\nSelectorObserver.prototype._abortObserving = function (observer) {\n  var elements = observer.elements;\n  for (var i = 0; i < elements.length; i++) {\n    runRemove(observer, elements[i]);\n  }\n  this.selectorSet.remove(observer.selector, observer);\n  delete this.observers[observer.id];\n};\n\n// Internal: For hacking in dirty changes that aren't getting picked up\nSelectorObserver.prototype.triggerObservers = function (container) {\n  var changes = [];\n  revalidateDescendantObservers(this, changes, container);\n  applyChanges(this, changes);\n};\n\nfunction onReady(selectorObserver) {\n  selectorObserver.mutationObserver.observe(selectorObserver.rootNode, {\n    childList: true,\n    attributes: true,\n    subtree: true\n  });\n  selectorObserver._scheduleAddRootNodes();\n}\n\nfunction addRootNodes(selectorObserver) {\n  var changes = [];\n  addNodes(selectorObserver, changes, [selectorObserver.rootNode]);\n  applyChanges(selectorObserver, changes);\n}\n\nfunction handleRootMutations(selectorObserver, mutations) {\n  var changes = [];\n  handleMutations$1(selectorObserver, changes, mutations);\n  applyChanges(selectorObserver, changes);\n}\n\nfunction handleChangeEvents(selectorObserver, event) {\n  selectorObserver._handleThrottledChangedTargets(event.target);\n}\n\nfunction handleChangedTargets(selectorObserver, inputs) {\n  var changes = [];\n  revalidateInputObservers(selectorObserver, changes, inputs);\n  applyChanges(selectorObserver, changes);\n}\n\n// observe\n//\n// Observe provides a declarative hook thats informed when an element becomes\n// matched by a selector, and then when it stops matching the selector.\n//\n// Examples\n//\n//   observe('.js-foo', (el) => {\n//     console.log(el, 'was added to the DOM')\n//   })\n//\n//   observe('.js-bar', {\n//     add(el) { console.log('js-bar was added to', el) },\n//     remove(el) { console.log 'js-bar was removed from', el) }\n//   })\n//\n\nvar documentObserver = void 0;\n\nfunction getDocumentObserver() {\n  if (!documentObserver) {\n    documentObserver = new SelectorObserver(window.document);\n  }\n  return documentObserver;\n}\n\nfunction observe() {\n  var _getDocumentObserver;\n\n  return (_getDocumentObserver = getDocumentObserver()).observe.apply(_getDocumentObserver, arguments);\n}\n\nfunction triggerObservers() {\n  var _getDocumentObserver2;\n\n  return (_getDocumentObserver2 = getDocumentObserver()).triggerObservers.apply(_getDocumentObserver2, arguments);\n}\n\nexport default SelectorObserver;\nexport { getDocumentObserver, observe, triggerObservers };\n", "function isNativeField(field) {\n    return field instanceof HTMLInputElement || field instanceof HTMLTextAreaElement;\n}\n/** Call a function after focusing a field and then restore the previous focus afterwards if necessary */\nfunction withFocus(field, callback) {\n    const document = field.ownerDocument;\n    const initialFocus = document.activeElement;\n    if (initialFocus === field) {\n        return callback();\n    }\n    try {\n        field.focus();\n        return callback();\n    }\n    finally {\n        field.blur(); // Supports `intialFocus === body`\n        if (initialFocus instanceof HTMLElement) {\n            initialFocus.focus();\n        }\n    }\n}\n// This will insert into the focused field. It shouild always be called inside withFocus.\n// Use this one locally if there are multiple `insertTextIntoField` or `document.execCommand` calls\nfunction insertTextWhereverTheFocusIs(document, text) {\n    if (text === '') {\n        // https://github.com/fregante/text-field-edit/issues/16\n        document.execCommand('delete');\n    }\n    else {\n        document.execCommand('insertText', false, text);\n    }\n}\n/** Inserts `text` at the cursor\u2019s position, replacing any selection, with **undo** support and by firing the `input` event. */\nexport function insertTextIntoField(field, text) {\n    withFocus(field, () => {\n        insertTextWhereverTheFocusIs(field.ownerDocument, text);\n    });\n}\n/** Replaces the entire content, equivalent to `field.value = text` but with **undo** support and by firing the `input` event. */\nexport function setFieldText(field, text) {\n    if (isNativeField(field)) {\n        field.select();\n        insertTextIntoField(field, text);\n    }\n    else {\n        const document = field.ownerDocument;\n        withFocus(field, () => {\n            document.execCommand('selectAll', false, text);\n            insertTextWhereverTheFocusIs(document, text);\n        });\n    }\n}\n/** Get the selected text in a field or an empty string if nothing is selected. */\nexport function getFieldSelection(field) {\n    if (isNativeField(field)) {\n        return field.value.slice(field.selectionStart, field.selectionEnd);\n    }\n    const selection = field.ownerDocument.getSelection();\n    if (selection && field.contains(selection.anchorNode)) {\n        // The selection is inside the field\n        return selection.toString();\n    }\n    return '';\n}\nfunction wrapFieldSelectionNative(field, wrap, wrapEnd) {\n    const { selectionStart, selectionEnd } = field;\n    const selection = getFieldSelection(field);\n    insertTextIntoField(field, wrap + selection + wrapEnd);\n    // Restore the selection around the previously-selected text\n    field.selectionStart = selectionStart + wrap.length;\n    field.selectionEnd = selectionEnd + wrap.length;\n}\nfunction collapseCursor(selection, range, toStart) {\n    const alteredRange = range.cloneRange();\n    alteredRange.collapse(toStart);\n    selection.removeAllRanges();\n    selection.addRange(alteredRange);\n}\nfunction wrapFieldSelectionContentEditable(field, before, after) {\n    const document = field.ownerDocument;\n    const selection = document.getSelection();\n    const selectionRange = selection.getRangeAt(0);\n    if (after) {\n        collapseCursor(selection, selectionRange, false);\n        insertTextIntoField(field, after);\n    }\n    if (before) {\n        collapseCursor(selection, selectionRange, true);\n        insertTextIntoField(field, before);\n        // The text added by at the beginning is included in the new selection, while wrapEnd isn't.\n        // This nudges the selection after the newly-inserted text.\n        selectionRange.setStart(selectionRange.startContainer, selectionRange.startOffset + before.length);\n    }\n    if (after ?? before) {\n        // Restore selection\n        selection.removeAllRanges();\n        selection.addRange(selectionRange);\n    }\n}\n/** Adds the `wrappingText` before and after field\u2019s selection (or cursor). If `endWrappingText` is provided, it will be used instead of `wrappingText` at on the right. */\nexport function wrapFieldSelection(field, wrap, \n// TODO: Ensure that it works regardless of direction\nwrapEnd = wrap) {\n    if (isNativeField(field)) {\n        wrapFieldSelectionNative(field, wrap, wrapEnd);\n    }\n    else {\n        wrapFieldSelectionContentEditable(field, wrap, wrapEnd);\n    }\n}\n/** Finds and replaces strings and regex in the field\u2019s value, like `field.value = field.value.replace()` but better */\nexport function replaceFieldText(field, searchValue, replacer, cursor = 'select') {\n    if (!isNativeField(field)) {\n        throw new TypeError('replaceFieldText only supports input and textarea fields');\n    }\n    /** Keeps track of how much each match offset should be adjusted */\n    let drift = 0;\n    withFocus(field, () => {\n        field.value.replace(searchValue, (...arguments_) => {\n            // Select current match to replace it later\n            const matchStart = drift + arguments_.at(-2);\n            const matchLength = arguments_[0].length;\n            field.selectionStart = matchStart;\n            field.selectionEnd = matchStart + matchLength;\n            const replacement = typeof replacer === 'string' ? replacer : replacer(...arguments_);\n            insertTextWhereverTheFocusIs(field.ownerDocument, replacement);\n            if (cursor === 'select') {\n                // Select replacement. Without this, the cursor would be after the replacement\n                field.selectionStart = matchStart;\n            }\n            drift += replacement.length - matchLength;\n            return replacement;\n        });\n    });\n}\n/** @deprecated Import `insertTextIntoField` instead */\nexport const insert = insertTextIntoField;\n/** @deprecated Import `setFieldText` instead */\nexport const set = setFieldText;\n/** @deprecated Import `replaceFieldText` instead */\nexport const replace = replaceFieldText;\n/** @deprecated Import `wrapFieldSelection` instead */\nexport const wrapSelection = wrapFieldSelection;\n/** @deprecated Import `getFieldSelection` instead */\nexport const getSelection = getFieldSelection;\n// Note: Don't reuse deprecated constant from above\nconst textFieldEdit = {\n    insert: insertTextIntoField,\n    set: setFieldText,\n    replace: replaceFieldText,\n    wrapSelection: wrapFieldSelection,\n    getSelection: getFieldSelection,\n};\nexport default textFieldEdit;\nexport { withFocus as _TEST_ONLY_withFocus };\n", "import { insertTextIntoField } from 'text-field-edit';\n/*\n\n# Global notes\n\nIndent and unindent affect characters outside the selection, so the selection has to be expanded (`newSelection`) before applying the replacement regex.\n\nThe unindent selection expansion logic is a bit convoluted and I wish a genius would rewrite it more efficiently.\n\n*/\nexport function indentSelection(element) {\n    const { selectionStart, selectionEnd, value } = element;\n    const selectedText = value.slice(selectionStart, selectionEnd);\n    // The first line should be indented, even if it starts with `\\n`\n    // The last line should only be indented if includes any character after `\\n`\n    const lineBreakCount = /\\n/g.exec(selectedText)?.length;\n    if (lineBreakCount > 0) {\n        // Select full first line to replace everything at once\n        const firstLineStart = value.lastIndexOf('\\n', selectionStart - 1) + 1;\n        const newSelection = element.value.slice(firstLineStart, selectionEnd - 1);\n        const indentedText = newSelection.replaceAll(/^|\\n/g, // Match all line starts\n        '$&\\t');\n        const replacementsCount = indentedText.length - newSelection.length;\n        // Replace newSelection with indentedText\n        element.setSelectionRange(firstLineStart, selectionEnd - 1);\n        insertTextIntoField(element, indentedText);\n        // Restore selection position, including the indentation\n        element.setSelectionRange(selectionStart + 1, selectionEnd + replacementsCount);\n    }\n    else {\n        insertTextIntoField(element, '\\t');\n    }\n}\nfunction findLineEnd(value, currentEnd) {\n    // Go to the beginning of the last line\n    const lastLineStart = value.lastIndexOf('\\n', currentEnd - 1) + 1;\n    // There's nothing to unindent after the last cursor, so leave it as is\n    if (value.charAt(lastLineStart) !== '\\t') {\n        return currentEnd;\n    }\n    return lastLineStart + 1; // Include the first character, which will be a tab\n}\n// The first line should always be unindented\n// The last line should only be unindented if the selection includes any characters after `\\n`\nexport function unindentSelection(element) {\n    const { selectionStart, selectionEnd, value } = element;\n    // Select the whole first line because it might contain \\t\n    const firstLineStart = value.lastIndexOf('\\n', selectionStart - 1) + 1;\n    const minimumSelectionEnd = findLineEnd(value, selectionEnd);\n    const newSelection = element.value.slice(firstLineStart, minimumSelectionEnd);\n    const indentedText = newSelection.replaceAll(/(^|\\n)(\\t| {1,2})/g, '$1');\n    const replacementsCount = newSelection.length - indentedText.length;\n    // Replace newSelection with indentedText\n    element.setSelectionRange(firstLineStart, minimumSelectionEnd);\n    insertTextIntoField(element, indentedText);\n    // Restore selection position, including the indentation\n    const firstLineIndentation = /\\t| {1,2}/.exec(value.slice(firstLineStart, selectionStart));\n    const difference = firstLineIndentation\n        ? firstLineIndentation[0].length\n        : 0;\n    const newSelectionStart = selectionStart - difference;\n    element.setSelectionRange(selectionStart - difference, Math.max(newSelectionStart, selectionEnd - replacementsCount));\n}\nexport function tabToIndentListener(event) {\n    if (event.defaultPrevented\n        || event.metaKey\n        || event.altKey\n        || event.ctrlKey) {\n        return;\n    }\n    const textarea = event.target;\n    if (event.key === 'Tab') {\n        if (event.shiftKey) {\n            unindentSelection(textarea);\n        }\n        else {\n            indentSelection(textarea);\n        }\n        event.preventDefault();\n        event.stopImmediatePropagation();\n    }\n    else if (event.key === 'Escape'\n        && !event.shiftKey) {\n        textarea.blur();\n        event.preventDefault();\n        event.stopImmediatePropagation();\n    }\n}\nexport function enableTabToIndent(elements, signal) {\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n    else if (elements instanceof HTMLTextAreaElement) {\n        elements = [elements];\n    }\n    for (const element of elements) {\n        element.addEventListener('keydown', tabToIndentListener, { signal });\n    }\n}\n/** @deprecated Renamed to indentSelection */\nexport const indent = indentSelection;\n/** @deprecated Renamed to unindentSelection */\nexport const unindent = unindentSelection;\n/** @deprecated Renamed to tabToIndentListener */\nexport const eventHandler = tabToIndentListener;\n/** @deprecated Renamed to enableTabToIndent */\nexport const watch = enableTabToIndent;\n", "/** @returns {void} */\nexport function noop() {}\n\nexport const identity = (x) => x;\n\n/**\n * @template T\n * @template S\n * @param {T} tar\n * @param {S} src\n * @returns {T & S}\n */\nexport function assign(tar, src) {\n\t// @ts-ignore\n\tfor (const k in src) tar[k] = src[k];\n\treturn /** @type {T & S} */ (tar);\n}\n\n// Adapted from https://github.com/then/is-promise/blob/master/index.js\n// Distributed under MIT License https://github.com/then/is-promise/blob/master/LICENSE\n/**\n * @param {any} value\n * @returns {value is PromiseLike<any>}\n */\nexport function is_promise(value) {\n\treturn (\n\t\t!!value &&\n\t\t(typeof value === 'object' || typeof value === 'function') &&\n\t\ttypeof (/** @type {any} */ (value).then) === 'function'\n\t);\n}\n\n/** @returns {void} */\nexport function add_location(element, file, line, column, char) {\n\telement.__svelte_meta = {\n\t\tloc: { file, line, column, char }\n\t};\n}\n\nexport function run(fn) {\n\treturn fn();\n}\n\nexport function blank_object() {\n\treturn Object.create(null);\n}\n\n/**\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function run_all(fns) {\n\tfns.forEach(run);\n}\n\n/**\n * @param {any} thing\n * @returns {thing is Function}\n */\nexport function is_function(thing) {\n\treturn typeof thing === 'function';\n}\n\n/** @returns {boolean} */\nexport function safe_not_equal(a, b) {\n\treturn a != a ? b == b : a !== b || (a && typeof a === 'object') || typeof a === 'function';\n}\n\nlet src_url_equal_anchor;\n\n/**\n * @param {string} element_src\n * @param {string} url\n * @returns {boolean}\n */\nexport function src_url_equal(element_src, url) {\n\tif (element_src === url) return true;\n\tif (!src_url_equal_anchor) {\n\t\tsrc_url_equal_anchor = document.createElement('a');\n\t}\n\t// This is actually faster than doing URL(..).href\n\tsrc_url_equal_anchor.href = url;\n\treturn element_src === src_url_equal_anchor.href;\n}\n\n/** @param {string} srcset */\nfunction split_srcset(srcset) {\n\treturn srcset.split(',').map((src) => src.trim().split(' ').filter(Boolean));\n}\n\n/**\n * @param {HTMLSourceElement | HTMLImageElement} element_srcset\n * @param {string | undefined | null} srcset\n * @returns {boolean}\n */\nexport function srcset_url_equal(element_srcset, srcset) {\n\tconst element_urls = split_srcset(element_srcset.srcset);\n\tconst urls = split_srcset(srcset || '');\n\n\treturn (\n\t\turls.length === element_urls.length &&\n\t\turls.every(\n\t\t\t([url, width], i) =>\n\t\t\t\twidth === element_urls[i][1] &&\n\t\t\t\t// We need to test both ways because Vite will create an a full URL with\n\t\t\t\t// `new URL(asset, import.meta.url).href` for the client when `base: './'`, and the\n\t\t\t\t// relative URLs inside srcset are not automatically resolved to absolute URLs by\n\t\t\t\t// browsers (in contrast to img.src). This means both SSR and DOM code could\n\t\t\t\t// contain relative or absolute URLs.\n\t\t\t\t(src_url_equal(element_urls[i][0], url) || src_url_equal(url, element_urls[i][0]))\n\t\t)\n\t);\n}\n\n/** @returns {boolean} */\nexport function not_equal(a, b) {\n\treturn a != a ? b == b : a !== b;\n}\n\n/** @returns {boolean} */\nexport function is_empty(obj) {\n\treturn Object.keys(obj).length === 0;\n}\n\n/** @returns {void} */\nexport function validate_store(store, name) {\n\tif (store != null && typeof store.subscribe !== 'function') {\n\t\tthrow new Error(`'${name}' is not a store with a 'subscribe' method`);\n\t}\n}\n\nexport function subscribe(store, ...callbacks) {\n\tif (store == null) {\n\t\tfor (const callback of callbacks) {\n\t\t\tcallback(undefined);\n\t\t}\n\t\treturn noop;\n\t}\n\tconst unsub = store.subscribe(...callbacks);\n\treturn unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\n\n/**\n * Get the current value from a store by subscribing and immediately unsubscribing.\n *\n * https://svelte.dev/docs/svelte-store#get\n * @template T\n * @param {import('../store/public.js').Readable<T>} store\n * @returns {T}\n */\nexport function get_store_value(store) {\n\tlet value;\n\tsubscribe(store, (_) => (value = _))();\n\treturn value;\n}\n\n/** @returns {void} */\nexport function component_subscribe(component, store, callback) {\n\tcomponent.$$.on_destroy.push(subscribe(store, callback));\n}\n\nexport function create_slot(definition, ctx, $$scope, fn) {\n\tif (definition) {\n\t\tconst slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n\t\treturn definition[0](slot_ctx);\n\t}\n}\n\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n\treturn definition[1] && fn ? assign($$scope.ctx.slice(), definition[1](fn(ctx))) : $$scope.ctx;\n}\n\nexport function get_slot_changes(definition, $$scope, dirty, fn) {\n\tif (definition[2] && fn) {\n\t\tconst lets = definition[2](fn(dirty));\n\t\tif ($$scope.dirty === undefined) {\n\t\t\treturn lets;\n\t\t}\n\t\tif (typeof lets === 'object') {\n\t\t\tconst merged = [];\n\t\t\tconst len = Math.max($$scope.dirty.length, lets.length);\n\t\t\tfor (let i = 0; i < len; i += 1) {\n\t\t\t\tmerged[i] = $$scope.dirty[i] | lets[i];\n\t\t\t}\n\t\t\treturn merged;\n\t\t}\n\t\treturn $$scope.dirty | lets;\n\t}\n\treturn $$scope.dirty;\n}\n\n/** @returns {void} */\nexport function update_slot_base(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tslot_changes,\n\tget_slot_context_fn\n) {\n\tif (slot_changes) {\n\t\tconst slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n\t\tslot.p(slot_context, slot_changes);\n\t}\n}\n\n/** @returns {void} */\nexport function update_slot(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tdirty,\n\tget_slot_changes_fn,\n\tget_slot_context_fn\n) {\n\tconst slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n\tupdate_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\n\n/** @returns {any[] | -1} */\nexport function get_all_dirty_from_scope($$scope) {\n\tif ($$scope.ctx.length > 32) {\n\t\tconst dirty = [];\n\t\tconst length = $$scope.ctx.length / 32;\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tdirty[i] = -1;\n\t\t}\n\t\treturn dirty;\n\t}\n\treturn -1;\n}\n\n/** @returns {{}} */\nexport function exclude_internal_props(props) {\n\tconst result = {};\n\tfor (const k in props) if (k[0] !== '$') result[k] = props[k];\n\treturn result;\n}\n\n/** @returns {{}} */\nexport function compute_rest_props(props, keys) {\n\tconst rest = {};\n\tkeys = new Set(keys);\n\tfor (const k in props) if (!keys.has(k) && k[0] !== '$') rest[k] = props[k];\n\treturn rest;\n}\n\n/** @returns {{}} */\nexport function compute_slots(slots) {\n\tconst result = {};\n\tfor (const key in slots) {\n\t\tresult[key] = true;\n\t}\n\treturn result;\n}\n\n/** @returns {(this: any, ...args: any[]) => void} */\nexport function once(fn) {\n\tlet ran = false;\n\treturn function (...args) {\n\t\tif (ran) return;\n\t\tran = true;\n\t\tfn.call(this, ...args);\n\t};\n}\n\nexport function null_to_empty(value) {\n\treturn value == null ? '' : value;\n}\n\nexport function set_store_value(store, ret, value) {\n\tstore.set(value);\n\treturn ret;\n}\n\nexport const has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\n\nexport function action_destroyer(action_result) {\n\treturn action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\n/** @param {number | string} value\n * @returns {[number, string]}\n */\nexport function split_css_unit(value) {\n\tconst split = typeof value === 'string' && value.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*$/);\n\treturn split ? [parseFloat(split[1]), split[2] || 'px'] : [/** @type {number} */ (value), 'px'];\n}\n\nexport const contenteditable_truthy_values = ['', true, 1, 'true', 'contenteditable'];\n", "import { noop } from './utils.js';\n\nexport const is_client = typeof window !== 'undefined';\n\n/** @type {() => number} */\nexport let now = is_client ? () => window.performance.now() : () => Date.now();\n\nexport let raf = is_client ? (cb) => requestAnimationFrame(cb) : noop;\n\n// used internally for testing\n/** @returns {void} */\nexport function set_now(fn) {\n\tnow = fn;\n}\n\n/** @returns {void} */\nexport function set_raf(fn) {\n\traf = fn;\n}\n", "import { raf } from './environment.js';\n\nconst tasks = new Set();\n\n/**\n * @param {number} now\n * @returns {void}\n */\nfunction run_tasks(now) {\n\ttasks.forEach((task) => {\n\t\tif (!task.c(now)) {\n\t\t\ttasks.delete(task);\n\t\t\ttask.f();\n\t\t}\n\t});\n\tif (tasks.size !== 0) raf(run_tasks);\n}\n\n/**\n * For testing purposes only!\n * @returns {void}\n */\nexport function clear_loops() {\n\ttasks.clear();\n}\n\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n * @param {import('./private.js').TaskCallback} callback\n * @returns {import('./private.js').Task}\n */\nexport function loop(callback) {\n\t/** @type {import('./private.js').TaskEntry} */\n\tlet task;\n\tif (tasks.size === 0) raf(run_tasks);\n\treturn {\n\t\tpromise: new Promise((fulfill) => {\n\t\t\ttasks.add((task = { c: callback, f: fulfill }));\n\t\t}),\n\t\tabort() {\n\t\t\ttasks.delete(task);\n\t\t}\n\t};\n}\n", "/** @type {typeof globalThis} */\nexport const globals =\n\ttypeof window !== 'undefined'\n\t\t? window\n\t\t: typeof globalThis !== 'undefined'\n\t\t? globalThis\n\t\t: // @ts-ignore Node typings have this\n\t\t  global;\n", "import { globals } from './globals.js';\n\n/**\n * Resize observer singleton.\n * One listener per element only!\n * https://groups.google.com/a/chromium.org/g/blink-dev/c/z6ienONUb5A/m/F5-VcUZtBAAJ\n */\nexport class ResizeObserverSingleton {\n\t/**\n\t * @private\n\t * @readonly\n\t * @type {WeakMap<Element, import('./private.js').Listener>}\n\t */\n\t_listeners = 'WeakMap' in globals ? new WeakMap() : undefined;\n\n\t/**\n\t * @private\n\t * @type {ResizeObserver}\n\t */\n\t_observer = undefined;\n\n\t/** @type {ResizeObserverOptions} */\n\toptions;\n\n\t/** @param {ResizeObserverOptions} options */\n\tconstructor(options) {\n\t\tthis.options = options;\n\t}\n\n\t/**\n\t * @param {Element} element\n\t * @param {import('./private.js').Listener} listener\n\t * @returns {() => void}\n\t */\n\tobserve(element, listener) {\n\t\tthis._listeners.set(element, listener);\n\t\tthis._getObserver().observe(element, this.options);\n\t\treturn () => {\n\t\t\tthis._listeners.delete(element);\n\t\t\tthis._observer.unobserve(element); // this line can probably be removed\n\t\t};\n\t}\n\n\t/**\n\t * @private\n\t */\n\t_getObserver() {\n\t\treturn (\n\t\t\tthis._observer ??\n\t\t\t(this._observer = new ResizeObserver((entries) => {\n\t\t\t\tfor (const entry of entries) {\n\t\t\t\t\tResizeObserverSingleton.entries.set(entry.target, entry);\n\t\t\t\t\tthis._listeners.get(entry.target)?.(entry);\n\t\t\t\t}\n\t\t\t}))\n\t\t);\n\t}\n}\n\n// Needs to be written like this to pass the tree-shake-test\nResizeObserverSingleton.entries = 'WeakMap' in globals ? new WeakMap() : undefined;\n", "import { contenteditable_truthy_values, has_prop } from './utils.js';\n\nimport { ResizeObserverSingleton } from './ResizeObserverSingleton.js';\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\n\n/**\n * @returns {void}\n */\nexport function start_hydrating() {\n\tis_hydrating = true;\n}\n\n/**\n * @returns {void}\n */\nexport function end_hydrating() {\n\tis_hydrating = false;\n}\n\n/**\n * @param {number} low\n * @param {number} high\n * @param {(index: number) => number} key\n * @param {number} value\n * @returns {number}\n */\nfunction upper_bound(low, high, key, value) {\n\t// Return first index of value larger than input value in the range [low, high)\n\twhile (low < high) {\n\t\tconst mid = low + ((high - low) >> 1);\n\t\tif (key(mid) <= value) {\n\t\t\tlow = mid + 1;\n\t\t} else {\n\t\t\thigh = mid;\n\t\t}\n\t}\n\treturn low;\n}\n\n/**\n * @param {NodeEx} target\n * @returns {void}\n */\nfunction init_hydrate(target) {\n\tif (target.hydrate_init) return;\n\ttarget.hydrate_init = true;\n\t// We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n\n\tlet children = /** @type {ArrayLike<NodeEx2>} */ (target.childNodes);\n\t// If target is <head>, there may be children without claim_order\n\tif (target.nodeName === 'HEAD') {\n\t\tconst my_children = [];\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\tconst node = children[i];\n\t\t\tif (node.claim_order !== undefined) {\n\t\t\t\tmy_children.push(node);\n\t\t\t}\n\t\t}\n\t\tchildren = my_children;\n\t}\n\t/*\n\t * Reorder claimed children optimally.\n\t * We can reorder claimed children optimally by finding the longest subsequence of\n\t * nodes that are already claimed in order and only moving the rest. The longest\n\t * subsequence of nodes that are claimed in order can be found by\n\t * computing the longest increasing subsequence of .claim_order values.\n\t *\n\t * This algorithm is optimal in generating the least amount of reorder operations\n\t * possible.\n\t *\n\t * Proof:\n\t * We know that, given a set of reordering operations, the nodes that do not move\n\t * always form an increasing subsequence, since they do not move among each other\n\t * meaning that they must be already ordered among each other. Thus, the maximal\n\t * set of nodes that do not move form a longest increasing subsequence.\n\t */\n\t// Compute longest increasing subsequence\n\t// m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n\tconst m = new Int32Array(children.length + 1);\n\t// Predecessor indices + 1\n\tconst p = new Int32Array(children.length);\n\tm[0] = -1;\n\tlet longest = 0;\n\tfor (let i = 0; i < children.length; i++) {\n\t\tconst current = children[i].claim_order;\n\t\t// Find the largest subsequence length such that it ends in a value less than our current value\n\t\t// upper_bound returns first greater value, so we subtract one\n\t\t// with fast path for when we are on the current longest subsequence\n\t\tconst seq_len =\n\t\t\t(longest > 0 && children[m[longest]].claim_order <= current\n\t\t\t\t? longest + 1\n\t\t\t\t: upper_bound(1, longest, (idx) => children[m[idx]].claim_order, current)) - 1;\n\t\tp[i] = m[seq_len] + 1;\n\t\tconst new_len = seq_len + 1;\n\t\t// We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n\t\tm[new_len] = i;\n\t\tlongest = Math.max(new_len, longest);\n\t}\n\t// The longest increasing subsequence of nodes (initially reversed)\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst lis = [];\n\t// The rest of the nodes, nodes that will be moved\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst to_move = [];\n\tlet last = children.length - 1;\n\tfor (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n\t\tlis.push(children[cur - 1]);\n\t\tfor (; last >= cur; last--) {\n\t\t\tto_move.push(children[last]);\n\t\t}\n\t\tlast--;\n\t}\n\tfor (; last >= 0; last--) {\n\t\tto_move.push(children[last]);\n\t}\n\tlis.reverse();\n\t// We sort the nodes being moved to guarantee that their insertion order matches the claim order\n\tto_move.sort((a, b) => a.claim_order - b.claim_order);\n\t// Finally, we move the nodes\n\tfor (let i = 0, j = 0; i < to_move.length; i++) {\n\t\twhile (j < lis.length && to_move[i].claim_order >= lis[j].claim_order) {\n\t\t\tj++;\n\t\t}\n\t\tconst anchor = j < lis.length ? lis[j] : null;\n\t\ttarget.insertBefore(to_move[i], anchor);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @returns {void}\n */\nexport function append(target, node) {\n\ttarget.appendChild(node);\n}\n\n/**\n * @param {Node} target\n * @param {string} style_sheet_id\n * @param {string} styles\n * @returns {void}\n */\nexport function append_styles(target, style_sheet_id, styles) {\n\tconst append_styles_to = get_root_for_style(target);\n\tif (!append_styles_to.getElementById(style_sheet_id)) {\n\t\tconst style = element('style');\n\t\tstyle.id = style_sheet_id;\n\t\tstyle.textContent = styles;\n\t\tappend_stylesheet(append_styles_to, style);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {ShadowRoot | Document}\n */\nexport function get_root_for_style(node) {\n\tif (!node) return document;\n\tconst root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n\tif (root && /** @type {ShadowRoot} */ (root).host) {\n\t\treturn /** @type {ShadowRoot} */ (root);\n\t}\n\treturn node.ownerDocument;\n}\n\n/**\n * @param {Node} node\n * @returns {CSSStyleSheet}\n */\nexport function append_empty_stylesheet(node) {\n\tconst style_element = element('style');\n\t// For transitions to work without 'style-src: unsafe-inline' Content Security Policy,\n\t// these empty tags need to be allowed with a hash as a workaround until we move to the Web Animations API.\n\t// Using the hash for the empty string (for an empty tag) works in all browsers except Safari.\n\t// So as a workaround for the workaround, when we append empty style tags we set their content to /* empty */.\n\t// The hash 'sha256-9OlNO0DNEeaVzHL4RZwCLsBHA8WBQ8toBp/4F5XV2nc=' will then work even in Safari.\n\tstyle_element.textContent = '/* empty */';\n\tappend_stylesheet(get_root_for_style(node), style_element);\n\treturn style_element.sheet;\n}\n\n/**\n * @param {ShadowRoot | Document} node\n * @param {HTMLStyleElement} style\n * @returns {CSSStyleSheet}\n */\nfunction append_stylesheet(node, style) {\n\tappend(/** @type {Document} */ (node).head || node, style);\n\treturn style.sheet;\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @returns {void}\n */\nexport function append_hydration(target, node) {\n\tif (is_hydrating) {\n\t\tinit_hydrate(target);\n\t\tif (\n\t\t\ttarget.actual_end_child === undefined ||\n\t\t\t(target.actual_end_child !== null && target.actual_end_child.parentNode !== target)\n\t\t) {\n\t\t\ttarget.actual_end_child = target.firstChild;\n\t\t}\n\t\t// Skip nodes of undefined ordering\n\t\twhile (target.actual_end_child !== null && target.actual_end_child.claim_order === undefined) {\n\t\t\ttarget.actual_end_child = target.actual_end_child.nextSibling;\n\t\t}\n\t\tif (node !== target.actual_end_child) {\n\t\t\t// We only insert if the ordering of this node should be modified or the parent node is not target\n\t\t\tif (node.claim_order !== undefined || node.parentNode !== target) {\n\t\t\t\ttarget.insertBefore(node, target.actual_end_child);\n\t\t\t}\n\t\t} else {\n\t\t\ttarget.actual_end_child = node.nextSibling;\n\t\t}\n\t} else if (node.parentNode !== target || node.nextSibling !== null) {\n\t\ttarget.appendChild(node);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @param {Node} [anchor]\n * @returns {void}\n */\nexport function insert(target, node, anchor) {\n\ttarget.insertBefore(node, anchor || null);\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @param {NodeEx} [anchor]\n * @returns {void}\n */\nexport function insert_hydration(target, node, anchor) {\n\tif (is_hydrating && !anchor) {\n\t\tappend_hydration(target, node);\n\t} else if (node.parentNode !== target || node.nextSibling != anchor) {\n\t\ttarget.insertBefore(node, anchor || null);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {void}\n */\nexport function detach(node) {\n\tif (node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function destroy_each(iterations, detaching) {\n\tfor (let i = 0; i < iterations.length; i += 1) {\n\t\tif (iterations[i]) iterations[i].d(detaching);\n\t}\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element(name) {\n\treturn document.createElement(name);\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @param {string} is\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element_is(name, is) {\n\treturn document.createElement(name, { is });\n}\n\n/**\n * @template T\n * @template {keyof T} K\n * @param {T} obj\n * @param {K[]} exclude\n * @returns {Pick<T, Exclude<keyof T, K>>}\n */\nexport function object_without_properties(obj, exclude) {\n\tconst target = /** @type {Pick<T, Exclude<keyof T, K>>} */ ({});\n\tfor (const k in obj) {\n\t\tif (\n\t\t\thas_prop(obj, k) &&\n\t\t\t// @ts-ignore\n\t\t\texclude.indexOf(k) === -1\n\t\t) {\n\t\t\t// @ts-ignore\n\t\t\ttarget[k] = obj[k];\n\t\t}\n\t}\n\treturn target;\n}\n\n/**\n * @template {keyof SVGElementTagNameMap} K\n * @param {K} name\n * @returns {SVGElement}\n */\nexport function svg_element(name) {\n\treturn document.createElementNS('http://www.w3.org/2000/svg', name);\n}\n\n/**\n * @param {string} data\n * @returns {Text}\n */\nexport function text(data) {\n\treturn document.createTextNode(data);\n}\n\n/**\n * @returns {Text} */\nexport function space() {\n\treturn text(' ');\n}\n\n/**\n * @returns {Text} */\nexport function empty() {\n\treturn text('');\n}\n\n/**\n * @param {string} content\n * @returns {Comment}\n */\nexport function comment(content) {\n\treturn document.createComment(content);\n}\n\n/**\n * @param {EventTarget} node\n * @param {string} event\n * @param {EventListenerOrEventListenerObject} handler\n * @param {boolean | AddEventListenerOptions | EventListenerOptions} [options]\n * @returns {() => void}\n */\nexport function listen(node, event, handler, options) {\n\tnode.addEventListener(event, handler, options);\n\treturn () => node.removeEventListener(event, handler, options);\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function prevent_default(fn) {\n\treturn function (event) {\n\t\tevent.preventDefault();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopPropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_immediate_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopImmediatePropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function self(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.target === this) fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function trusted(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.isTrusted) fn.call(this, event);\n\t};\n}\n\n/**\n * @param {Element} node\n * @param {string} attribute\n * @param {string} [value]\n * @returns {void}\n */\nexport function attr(node, attribute, value) {\n\tif (value == null) node.removeAttribute(attribute);\n\telse if (node.getAttribute(attribute) !== value) node.setAttribute(attribute, value);\n}\n/**\n * List of attributes that should always be set through the attr method,\n * because updating them through the property setter doesn't work reliably.\n * In the example of `width`/`height`, the problem is that the setter only\n * accepts numeric values, but the attribute can also be set to a string like `50%`.\n * If this list becomes too big, rethink this approach.\n */\nconst always_set_through_set_attribute = ['width', 'height'];\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_attributes(node, attributes) {\n\t// @ts-ignore\n\tconst descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n\tfor (const key in attributes) {\n\t\tif (attributes[key] == null) {\n\t\t\tnode.removeAttribute(key);\n\t\t} else if (key === 'style') {\n\t\t\tnode.style.cssText = attributes[key];\n\t\t} else if (key === '__value') {\n\t\t\t/** @type {any} */ (node).value = node[key] = attributes[key];\n\t\t} else if (\n\t\t\tdescriptors[key] &&\n\t\t\tdescriptors[key].set &&\n\t\t\talways_set_through_set_attribute.indexOf(key) === -1\n\t\t) {\n\t\t\tnode[key] = attributes[key];\n\t\t} else {\n\t\t\tattr(node, key, attributes[key]);\n\t\t}\n\t}\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_svg_attributes(node, attributes) {\n\tfor (const key in attributes) {\n\t\tattr(node, key, attributes[key]);\n\t}\n}\n\n/**\n * @param {Record<string, unknown>} data_map\n * @returns {void}\n */\nexport function set_custom_element_data_map(node, data_map) {\n\tObject.keys(data_map).forEach((key) => {\n\t\tset_custom_element_data(node, key, data_map[key]);\n\t});\n}\n\n/**\n * @returns {void} */\nexport function set_custom_element_data(node, prop, value) {\n\tconst lower = prop.toLowerCase(); // for backwards compatibility with existing behavior we do lowercase first\n\tif (lower in node) {\n\t\tnode[lower] = typeof node[lower] === 'boolean' && value === '' ? true : value;\n\t} else if (prop in node) {\n\t\tnode[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n\t} else {\n\t\tattr(node, prop, value);\n\t}\n}\n\n/**\n * @param {string} tag\n */\nexport function set_dynamic_element_data(tag) {\n\treturn /-/.test(tag) ? set_custom_element_data_map : set_attributes;\n}\n\n/**\n * @returns {void}\n */\nexport function xlink_attr(node, attribute, value) {\n\tnode.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\n\n/**\n * @param {HTMLElement} node\n * @returns {string}\n */\nexport function get_svelte_dataset(node) {\n\treturn node.dataset.svelteH;\n}\n\n/**\n * @returns {unknown[]} */\nexport function get_binding_group_value(group, __value, checked) {\n\tconst value = new Set();\n\tfor (let i = 0; i < group.length; i += 1) {\n\t\tif (group[i].checked) value.add(group[i].__value);\n\t}\n\tif (!checked) {\n\t\tvalue.delete(__value);\n\t}\n\treturn Array.from(value);\n}\n\n/**\n * @param {HTMLInputElement[]} group\n * @returns {{ p(...inputs: HTMLInputElement[]): void; r(): void; }}\n */\nexport function init_binding_group(group) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\treturn {\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\t_inputs.forEach((input) => group.push(input));\n\t\t},\n\t\t/* remove */ r() {\n\t\t\t_inputs.forEach((input) => group.splice(group.indexOf(input), 1));\n\t\t}\n\t};\n}\n\n/**\n * @param {number[]} indexes\n * @returns {{ u(new_indexes: number[]): void; p(...inputs: HTMLInputElement[]): void; r: () => void; }}\n */\nexport function init_binding_group_dynamic(group, indexes) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _group = get_binding_group(group);\n\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\n\tfunction get_binding_group(group) {\n\t\tfor (let i = 0; i < indexes.length; i++) {\n\t\t\tgroup = group[indexes[i]] = group[indexes[i]] || [];\n\t\t}\n\t\treturn group;\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction push() {\n\t\t_inputs.forEach((input) => _group.push(input));\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction remove() {\n\t\t_inputs.forEach((input) => _group.splice(_group.indexOf(input), 1));\n\t}\n\treturn {\n\t\t/* update */ u(new_indexes) {\n\t\t\tindexes = new_indexes;\n\t\t\tconst new_group = get_binding_group(group);\n\t\t\tif (new_group !== _group) {\n\t\t\t\tremove();\n\t\t\t\t_group = new_group;\n\t\t\t\tpush();\n\t\t\t}\n\t\t},\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\tpush();\n\t\t},\n\t\t/* remove */ r: remove\n\t};\n}\n\n/** @returns {number} */\nexport function to_number(value) {\n\treturn value === '' ? null : +value;\n}\n\n/** @returns {any[]} */\nexport function time_ranges_to_array(ranges) {\n\tconst array = [];\n\tfor (let i = 0; i < ranges.length; i += 1) {\n\t\tarray.push({ start: ranges.start(i), end: ranges.end(i) });\n\t}\n\treturn array;\n}\n\n/**\n * @param {Element} element\n * @returns {ChildNode[]}\n */\nexport function children(element) {\n\treturn Array.from(element.childNodes);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {void}\n */\nfunction init_claim_info(nodes) {\n\tif (nodes.claim_info === undefined) {\n\t\tnodes.claim_info = { last_index: 0, total_claimed: 0 };\n\t}\n}\n\n/**\n * @template {ChildNodeEx} R\n * @param {ChildNodeArray} nodes\n * @param {(node: ChildNodeEx) => node is R} predicate\n * @param {(node: ChildNodeEx) => ChildNodeEx | undefined} process_node\n * @param {() => R} create_node\n * @param {boolean} dont_update_last_index\n * @returns {R}\n */\nfunction claim_node(nodes, predicate, process_node, create_node, dont_update_last_index = false) {\n\t// Try to find nodes in an order such that we lengthen the longest increasing subsequence\n\tinit_claim_info(nodes);\n\tconst result_node = (() => {\n\t\t// We first try to find an element after the previous one\n\t\tfor (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = process_node(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dont_update_last_index) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// Otherwise, we try to find one before\n\t\t// We iterate in reverse so that we don't go too far back\n\t\tfor (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = process_node(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dont_update_last_index) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t} else if (replacement === undefined) {\n\t\t\t\t\t// Since we spliced before the last_index, we decrease it\n\t\t\t\t\tnodes.claim_info.last_index--;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// If we can't find any matching node, we create a new one\n\t\treturn create_node();\n\t})();\n\tresult_node.claim_order = nodes.claim_info.total_claimed;\n\tnodes.claim_info.total_claimed += 1;\n\treturn result_node;\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @param {(name: string) => Element | SVGElement} create_element\n * @returns {Element | SVGElement}\n */\nfunction claim_element_base(nodes, name, attributes, create_element) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Element | SVGElement} */\n\t\t(node) => node.nodeName === name,\n\t\t/** @param {Element} node */\n\t\t(node) => {\n\t\t\tconst remove = [];\n\t\t\tfor (let j = 0; j < node.attributes.length; j++) {\n\t\t\t\tconst attribute = node.attributes[j];\n\t\t\t\tif (!attributes[attribute.name]) {\n\t\t\t\t\tremove.push(attribute.name);\n\t\t\t\t}\n\t\t\t}\n\t\t\tremove.forEach((v) => node.removeAttribute(v));\n\t\t\treturn undefined;\n\t\t},\n\t\t() => create_element(name)\n\t);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_svg_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, svg_element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Text}\n */\nexport function claim_text(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Text} */\n\t\t(node) => node.nodeType === 3,\n\t\t/** @param {Text} node */\n\t\t(node) => {\n\t\t\tconst data_str = '' + data;\n\t\t\tif (node.data.startsWith(data_str)) {\n\t\t\t\tif (node.data.length !== data_str.length) {\n\t\t\t\t\treturn node.splitText(data_str.length);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnode.data = data_str;\n\t\t\t}\n\t\t},\n\t\t() => text(data),\n\t\ttrue // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n\t);\n}\n\n/**\n * @returns {Text} */\nexport function claim_space(nodes) {\n\treturn claim_text(nodes, ' ');\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Comment}\n */\nexport function claim_comment(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Comment} */\n\t\t(node) => node.nodeType === 8,\n\t\t/** @param {Comment} node */\n\t\t(node) => {\n\t\t\tnode.data = '' + data;\n\t\t\treturn undefined;\n\t\t},\n\t\t() => comment(data),\n\t\ttrue\n\t);\n}\n\nfunction get_comment_idx(nodes, text, start) {\n\tfor (let i = start; i < nodes.length; i += 1) {\n\t\tconst node = nodes[i];\n\t\tif (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n}\n\n/**\n * @param {boolean} is_svg\n * @returns {HtmlTagHydration}\n */\nexport function claim_html_tag(nodes, is_svg) {\n\t// find html opening tag\n\tconst start_index = get_comment_idx(nodes, 'HTML_TAG_START', 0);\n\tconst end_index = get_comment_idx(nodes, 'HTML_TAG_END', start_index + 1);\n\tif (start_index === -1 || end_index === -1) {\n\t\treturn new HtmlTagHydration(is_svg);\n\t}\n\n\tinit_claim_info(nodes);\n\tconst html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n\tdetach(html_tag_nodes[0]);\n\tdetach(html_tag_nodes[html_tag_nodes.length - 1]);\n\tconst claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n\tif (claimed_nodes.length === 0) {\n\t\treturn new HtmlTagHydration(is_svg);\n\t}\n\tfor (const n of claimed_nodes) {\n\t\tn.claim_order = nodes.claim_info.total_claimed;\n\t\tnodes.claim_info.total_claimed += 1;\n\t}\n\treturn new HtmlTagHydration(is_svg, claimed_nodes);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data(text, data) {\n\tdata = '' + data;\n\tif (text.data === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data_contenteditable(text, data) {\n\tdata = '' + data;\n\tif (text.wholeText === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @param {string} attr_value\n * @returns {void}\n */\nexport function set_data_maybe_contenteditable(text, data, attr_value) {\n\tif (~contenteditable_truthy_values.indexOf(attr_value)) {\n\t\tset_data_contenteditable(text, data);\n\t} else {\n\t\tset_data(text, data);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_input_value(input, value) {\n\tinput.value = value == null ? '' : value;\n}\n\n/**\n * @returns {void} */\nexport function set_input_type(input, type) {\n\ttry {\n\t\tinput.type = type;\n\t} catch (e) {\n\t\t// do nothing\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_style(node, key, value, important) {\n\tif (value == null) {\n\t\tnode.style.removeProperty(key);\n\t} else {\n\t\tnode.style.setProperty(key, value, important ? 'important' : '');\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_option(select, value, mounting) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\tif (option.__value === value) {\n\t\t\toption.selected = true;\n\t\t\treturn;\n\t\t}\n\t}\n\tif (!mounting || value !== undefined) {\n\t\tselect.selectedIndex = -1; // no option should be selected\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_options(select, value) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\toption.selected = ~value.indexOf(option.__value);\n\t}\n}\n\nexport function select_value(select) {\n\tconst selected_option = select.querySelector(':checked');\n\treturn selected_option && selected_option.__value;\n}\n\nexport function select_multiple_value(select) {\n\treturn [].map.call(select.querySelectorAll(':checked'), (option) => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\n\n/**\n * @type {boolean} */\nlet crossorigin;\n\n/**\n * @returns {boolean} */\nexport function is_crossorigin() {\n\tif (crossorigin === undefined) {\n\t\tcrossorigin = false;\n\t\ttry {\n\t\t\tif (typeof window !== 'undefined' && window.parent) {\n\t\t\t\tvoid window.parent.document;\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tcrossorigin = true;\n\t\t}\n\t}\n\treturn crossorigin;\n}\n\n/**\n * @param {HTMLElement} node\n * @param {() => void} fn\n * @returns {() => void}\n */\nexport function add_iframe_resize_listener(node, fn) {\n\tconst computed_style = getComputedStyle(node);\n\tif (computed_style.position === 'static') {\n\t\tnode.style.position = 'relative';\n\t}\n\tconst iframe = element('iframe');\n\tiframe.setAttribute(\n\t\t'style',\n\t\t'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n\t\t\t'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;'\n\t);\n\tiframe.setAttribute('aria-hidden', 'true');\n\tiframe.tabIndex = -1;\n\tconst crossorigin = is_crossorigin();\n\n\t/**\n\t * @type {() => void}\n\t */\n\tlet unsubscribe;\n\tif (crossorigin) {\n\t\tiframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n\t\tunsubscribe = listen(\n\t\t\twindow,\n\t\t\t'message',\n\t\t\t/** @param {MessageEvent} event */ (event) => {\n\t\t\t\tif (event.source === iframe.contentWindow) fn();\n\t\t\t}\n\t\t);\n\t} else {\n\t\tiframe.src = 'about:blank';\n\t\tiframe.onload = () => {\n\t\t\tunsubscribe = listen(iframe.contentWindow, 'resize', fn);\n\t\t\t// make sure an initial resize event is fired _after_ the iframe is loaded (which is asynchronous)\n\t\t\t// see https://github.com/sveltejs/svelte/issues/4233\n\t\t\tfn();\n\t\t};\n\t}\n\tappend(node, iframe);\n\treturn () => {\n\t\tif (crossorigin) {\n\t\t\tunsubscribe();\n\t\t} else if (unsubscribe && iframe.contentWindow) {\n\t\t\tunsubscribe();\n\t\t}\n\t\tdetach(iframe);\n\t};\n}\nexport const resize_observer_content_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'content-box'\n});\nexport const resize_observer_border_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'border-box'\n});\nexport const resize_observer_device_pixel_content_box = /* @__PURE__ */ new ResizeObserverSingleton(\n\t{ box: 'device-pixel-content-box' }\n);\nexport { ResizeObserverSingleton };\n\n/**\n * @returns {void} */\nexport function toggle_class(element, name, toggle) {\n\t// The `!!` is required because an `undefined` flag means flipping the current state.\n\telement.classList.toggle(name, !!toggle);\n}\n\n/**\n * @template T\n * @param {string} type\n * @param {T} [detail]\n * @param {{ bubbles?: boolean, cancelable?: boolean }} [options]\n * @returns {CustomEvent<T>}\n */\nexport function custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n\treturn new CustomEvent(type, { detail, bubbles, cancelable });\n}\n\n/**\n * @param {string} selector\n * @param {HTMLElement} parent\n * @returns {ChildNodeArray}\n */\nexport function query_selector_all(selector, parent = document.body) {\n\treturn Array.from(parent.querySelectorAll(selector));\n}\n\n/**\n * @param {string} nodeId\n * @param {HTMLElement} head\n * @returns {any[]}\n */\nexport function head_selector(nodeId, head) {\n\tconst result = [];\n\tlet started = 0;\n\tfor (const node of head.childNodes) {\n\t\tif (node.nodeType === 8 /* comment node */) {\n\t\t\tconst comment = node.textContent.trim();\n\t\t\tif (comment === `HEAD_${nodeId}_END`) {\n\t\t\t\tstarted -= 1;\n\t\t\t\tresult.push(node);\n\t\t\t} else if (comment === `HEAD_${nodeId}_START`) {\n\t\t\t\tstarted += 1;\n\t\t\t\tresult.push(node);\n\t\t\t}\n\t\t} else if (started > 0) {\n\t\t\tresult.push(node);\n\t\t}\n\t}\n\treturn result;\n}\n/** */\nexport class HtmlTag {\n\t/**\n\t * @private\n\t * @default false\n\t */\n\tis_svg = false;\n\t/** parent for creating node */\n\te = undefined;\n\t/** html tag nodes */\n\tn = undefined;\n\t/** target */\n\tt = undefined;\n\t/** anchor */\n\ta = undefined;\n\tconstructor(is_svg = false) {\n\t\tthis.is_svg = is_svg;\n\t\tthis.e = this.n = null;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tthis.h(html);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @param {HTMLElement | SVGElement} target\n\t * @param {HTMLElement | SVGElement} anchor\n\t * @returns {void}\n\t */\n\tm(html, target, anchor = null) {\n\t\tif (!this.e) {\n\t\t\tif (this.is_svg)\n\t\t\t\tthis.e = svg_element(/** @type {keyof SVGElementTagNameMap} */ (target.nodeName));\n\t\t\t/** #7364  target for <template> may be provided as #document-fragment(11) */ else\n\t\t\t\tthis.e = element(\n\t\t\t\t\t/** @type {keyof HTMLElementTagNameMap} */ (\n\t\t\t\t\t\ttarget.nodeType === 11 ? 'TEMPLATE' : target.nodeName\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\tthis.t =\n\t\t\t\ttarget.tagName !== 'TEMPLATE'\n\t\t\t\t\t? target\n\t\t\t\t\t: /** @type {HTMLTemplateElement} */ (target).content;\n\t\t\tthis.c(html);\n\t\t}\n\t\tthis.i(anchor);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\th(html) {\n\t\tthis.e.innerHTML = html;\n\t\tthis.n = Array.from(\n\t\t\tthis.e.nodeName === 'TEMPLATE' ? this.e.content.childNodes : this.e.childNodes\n\t\t);\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert(this.t, this.n[i], anchor);\n\t\t}\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tp(html) {\n\t\tthis.d();\n\t\tthis.h(html);\n\t\tthis.i(this.a);\n\t}\n\n\t/**\n\t * @returns {void} */\n\td() {\n\t\tthis.n.forEach(detach);\n\t}\n}\n\nexport class HtmlTagHydration extends HtmlTag {\n\t/** @type {Element[]} hydration claimed nodes */\n\tl = undefined;\n\n\tconstructor(is_svg = false, claimed_nodes) {\n\t\tsuper(is_svg);\n\t\tthis.e = this.n = null;\n\t\tthis.l = claimed_nodes;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tif (this.l) {\n\t\t\tthis.n = this.l;\n\t\t} else {\n\t\t\tsuper.c(html);\n\t\t}\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert_hydration(this.t, this.n[i], anchor);\n\t\t}\n\t}\n}\n\n/**\n * @param {NamedNodeMap} attributes\n * @returns {{}}\n */\nexport function attribute_to_object(attributes) {\n\tconst result = {};\n\tfor (const attribute of attributes) {\n\t\tresult[attribute.name] = attribute.value;\n\t}\n\treturn result;\n}\n\nconst escaped = {\n\t'\"': '&quot;',\n\t'&': '&amp;',\n\t'<': '&lt;'\n};\n\nconst regex_attribute_characters_to_escape = /[\"&<]/g;\n\n/**\n * Note that the attribute itself should be surrounded in double quotes\n * @param {any} attribute\n */\nfunction escape_attribute(attribute) {\n\treturn String(attribute).replace(regex_attribute_characters_to_escape, (match) => escaped[match]);\n}\n\n/**\n * @param {Record<string, string>} attributes\n */\nexport function stringify_spread(attributes) {\n\tlet str = ' ';\n\tfor (const key in attributes) {\n\t\tif (attributes[key] != null) {\n\t\t\tstr += `${key}=\"${escape_attribute(attributes[key])}\" `;\n\t\t}\n\t}\n\n\treturn str;\n}\n\n/**\n * @param {HTMLElement} element\n * @returns {{}}\n */\nexport function get_custom_elements_slots(element) {\n\tconst result = {};\n\telement.childNodes.forEach(\n\t\t/** @param {Element} node */ (node) => {\n\t\t\tresult[node.slot || 'default'] = true;\n\t\t}\n\t);\n\treturn result;\n}\n\nexport function construct_svelte_component(component, props) {\n\treturn new component(props);\n}\n\n/**\n * @typedef {Node & {\n * \tclaim_order?: number;\n * \thydrate_init?: true;\n * \tactual_end_child?: NodeEx;\n * \tchildNodes: NodeListOf<NodeEx>;\n * }} NodeEx\n */\n\n/** @typedef {ChildNode & NodeEx} ChildNodeEx */\n\n/** @typedef {NodeEx & { claim_order: number }} NodeEx2 */\n\n/**\n * @typedef {ChildNodeEx[] & {\n * \tclaim_info?: {\n * \t\tlast_index: number;\n * \t\ttotal_claimed: number;\n * \t};\n * }} ChildNodeArray\n */\n", "import { append_empty_stylesheet, detach, get_root_for_style } from './dom.js';\nimport { raf } from './environment.js';\n\n// we need to store the information for multiple documents because a Svelte application could also contain iframes\n// https://github.com/sveltejs/svelte/issues/3624\n/** @type {Map<Document | ShadowRoot, import('./private.d.ts').StyleInformation>} */\nconst managed_styles = new Map();\n\nlet active = 0;\n\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\n/**\n * @param {string} str\n * @returns {number}\n */\nfunction hash(str) {\n\tlet hash = 5381;\n\tlet i = str.length;\n\twhile (i--) hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n\treturn hash >>> 0;\n}\n\n/**\n * @param {Document | ShadowRoot} doc\n * @param {Element & ElementCSSInlineStyle} node\n * @returns {{ stylesheet: any; rules: {}; }}\n */\nfunction create_style_information(doc, node) {\n\tconst info = { stylesheet: append_empty_stylesheet(node), rules: {} };\n\tmanaged_styles.set(doc, info);\n\treturn info;\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {number} a\n * @param {number} b\n * @param {number} duration\n * @param {number} delay\n * @param {(t: number) => number} ease\n * @param {(t: number, u: number) => string} fn\n * @param {number} uid\n * @returns {string}\n */\nexport function create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n\tconst step = 16.666 / duration;\n\tlet keyframes = '{\\n';\n\tfor (let p = 0; p <= 1; p += step) {\n\t\tconst t = a + (b - a) * ease(p);\n\t\tkeyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n\t}\n\tconst rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n\tconst name = `__svelte_${hash(rule)}_${uid}`;\n\tconst doc = get_root_for_style(node);\n\tconst { stylesheet, rules } = managed_styles.get(doc) || create_style_information(doc, node);\n\tif (!rules[name]) {\n\t\trules[name] = true;\n\t\tstylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n\t}\n\tconst animation = node.style.animation || '';\n\tnode.style.animation = `${\n\t\tanimation ? `${animation}, ` : ''\n\t}${name} ${duration}ms linear ${delay}ms 1 both`;\n\tactive += 1;\n\treturn name;\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {string} [name]\n * @returns {void}\n */\nexport function delete_rule(node, name) {\n\tconst previous = (node.style.animation || '').split(', ');\n\tconst next = previous.filter(\n\t\tname\n\t\t\t? (anim) => anim.indexOf(name) < 0 // remove specific animation\n\t\t\t: (anim) => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n\t);\n\tconst deleted = previous.length - next.length;\n\tif (deleted) {\n\t\tnode.style.animation = next.join(', ');\n\t\tactive -= deleted;\n\t\tif (!active) clear_rules();\n\t}\n}\n\n/** @returns {void} */\nexport function clear_rules() {\n\traf(() => {\n\t\tif (active) return;\n\t\tmanaged_styles.forEach((info) => {\n\t\t\tconst { ownerNode } = info.stylesheet;\n\t\t\t// there is no ownerNode if it runs on jsdom.\n\t\t\tif (ownerNode) detach(ownerNode);\n\t\t});\n\t\tmanaged_styles.clear();\n\t});\n}\n", "import { custom_event } from './dom.js';\n\nexport let current_component;\n\n/** @returns {void} */\nexport function set_current_component(component) {\n\tcurrent_component = component;\n}\n\nexport function get_current_component() {\n\tif (!current_component) throw new Error('Function called outside component initialization');\n\treturn current_component;\n}\n\n/**\n * Schedules a callback to run immediately before the component is updated after any state change.\n *\n * The first time the callback runs will be before the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#beforeupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function beforeUpdate(fn) {\n\tget_current_component().$$.before_update.push(fn);\n}\n\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * If a function is returned _synchronously_ from `onMount`, it will be called when the component is unmounted.\n *\n * `onMount` does not run inside a [server-side component](https://svelte.dev/docs#run-time-server-side-component-api).\n *\n * https://svelte.dev/docs/svelte#onmount\n * @template T\n * @param {() => import('./private.js').NotFunction<T> | Promise<import('./private.js').NotFunction<T>> | (() => any)} fn\n * @returns {void}\n */\nexport function onMount(fn) {\n\tget_current_component().$$.on_mount.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately after the component has been updated.\n *\n * The first time the callback runs will be after the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#afterupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function afterUpdate(fn) {\n\tget_current_component().$$.after_update.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately before the component is unmounted.\n *\n * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the\n * only one that runs inside a server-side component.\n *\n * https://svelte.dev/docs/svelte#ondestroy\n * @param {() => any} fn\n * @returns {void}\n */\nexport function onDestroy(fn) {\n\tget_current_component().$$.on_destroy.push(fn);\n}\n\n/**\n * Creates an event dispatcher that can be used to dispatch [component events](https://svelte.dev/docs#template-syntax-component-directives-on-eventname).\n * Event dispatchers are functions that can take two arguments: `name` and `detail`.\n *\n * Component events created with `createEventDispatcher` create a\n * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).\n * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).\n * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)\n * property and can contain any type of data.\n *\n * The event dispatcher can be typed to narrow the allowed event names and the type of the `detail` argument:\n * ```ts\n * const dispatch = createEventDispatcher<{\n *  loaded: never; // does not take a detail argument\n *  change: string; // takes a detail argument of type string, which is required\n *  optional: number | null; // takes an optional detail argument of type number\n * }>();\n * ```\n *\n * https://svelte.dev/docs/svelte#createeventdispatcher\n * @template {Record<string, any>} [EventMap=any]\n * @returns {import('./public.js').EventDispatcher<EventMap>}\n */\nexport function createEventDispatcher() {\n\tconst component = get_current_component();\n\treturn (type, detail, { cancelable = false } = {}) => {\n\t\tconst callbacks = component.$$.callbacks[type];\n\t\tif (callbacks) {\n\t\t\t// TODO are there situations where events could be dispatched\n\t\t\t// in a server (non-DOM) environment?\n\t\t\tconst event = custom_event(/** @type {string} */ (type), detail, { cancelable });\n\t\t\tcallbacks.slice().forEach((fn) => {\n\t\t\t\tfn.call(component, event);\n\t\t\t});\n\t\t\treturn !event.defaultPrevented;\n\t\t}\n\t\treturn true;\n\t};\n}\n\n/**\n * Associates an arbitrary `context` object with the current component and the specified `key`\n * and returns that object. The context is then available to children of the component\n * (including slotted content) with `getContext`.\n *\n * Like lifecycle functions, this must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#setcontext\n * @template T\n * @param {any} key\n * @param {T} context\n * @returns {T}\n */\nexport function setContext(key, context) {\n\tget_current_component().$$.context.set(key, context);\n\treturn context;\n}\n\n/**\n * Retrieves the context that belongs to the closest parent component with the specified `key`.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#getcontext\n * @template T\n * @param {any} key\n * @returns {T}\n */\nexport function getContext(key) {\n\treturn get_current_component().$$.context.get(key);\n}\n\n/**\n * Retrieves the whole context map that belongs to the closest parent component.\n * Must be called during component initialisation. Useful, for example, if you\n * programmatically create a component and want to pass the existing context to it.\n *\n * https://svelte.dev/docs/svelte#getallcontexts\n * @template {Map<any, any>} [T=Map<any, any>]\n * @returns {T}\n */\nexport function getAllContexts() {\n\treturn get_current_component().$$.context;\n}\n\n/**\n * Checks whether a given `key` has been set in the context of a parent component.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#hascontext\n * @param {any} key\n * @returns {boolean}\n */\nexport function hasContext(key) {\n\treturn get_current_component().$$.context.has(key);\n}\n\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\n/**\n * @param component\n * @param event\n * @returns {void}\n */\nexport function bubble(component, event) {\n\tconst callbacks = component.$$.callbacks[event.type];\n\tif (callbacks) {\n\t\t// @ts-ignore\n\t\tcallbacks.slice().forEach((fn) => fn.call(this, event));\n\t}\n}\n", "import { run_all } from './utils.js';\nimport { current_component, set_current_component } from './lifecycle.js';\n\nexport const dirty_components = [];\nexport const intros = { enabled: false };\nexport const binding_callbacks = [];\n\nlet render_callbacks = [];\n\nconst flush_callbacks = [];\n\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\n\nlet update_scheduled = false;\n\n/** @returns {void} */\nexport function schedule_update() {\n\tif (!update_scheduled) {\n\t\tupdate_scheduled = true;\n\t\tresolved_promise.then(flush);\n\t}\n}\n\n/** @returns {Promise<void>} */\nexport function tick() {\n\tschedule_update();\n\treturn resolved_promise;\n}\n\n/** @returns {void} */\nexport function add_render_callback(fn) {\n\trender_callbacks.push(fn);\n}\n\n/** @returns {void} */\nexport function add_flush_callback(fn) {\n\tflush_callbacks.push(fn);\n}\n\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\n\nlet flushidx = 0; // Do *not* move this inside the flush() function\n\n/** @returns {void} */\nexport function flush() {\n\t// Do not reenter flush while dirty components are updated, as this can\n\t// result in an infinite loop. Instead, let the inner flush handle it.\n\t// Reentrancy is ok afterwards for bindings etc.\n\tif (flushidx !== 0) {\n\t\treturn;\n\t}\n\tconst saved_component = current_component;\n\tdo {\n\t\t// first, call beforeUpdate functions\n\t\t// and update components\n\t\ttry {\n\t\t\twhile (flushidx < dirty_components.length) {\n\t\t\t\tconst component = dirty_components[flushidx];\n\t\t\t\tflushidx++;\n\t\t\t\tset_current_component(component);\n\t\t\t\tupdate(component.$$);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t// reset dirty state to not end up in a deadlocked state and then rethrow\n\t\t\tdirty_components.length = 0;\n\t\t\tflushidx = 0;\n\t\t\tthrow e;\n\t\t}\n\t\tset_current_component(null);\n\t\tdirty_components.length = 0;\n\t\tflushidx = 0;\n\t\twhile (binding_callbacks.length) binding_callbacks.pop()();\n\t\t// then, once components are updated, call\n\t\t// afterUpdate functions. This may cause\n\t\t// subsequent updates...\n\t\tfor (let i = 0; i < render_callbacks.length; i += 1) {\n\t\t\tconst callback = render_callbacks[i];\n\t\t\tif (!seen_callbacks.has(callback)) {\n\t\t\t\t// ...so guard against infinite loops\n\t\t\t\tseen_callbacks.add(callback);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}\n\t\trender_callbacks.length = 0;\n\t} while (dirty_components.length);\n\twhile (flush_callbacks.length) {\n\t\tflush_callbacks.pop()();\n\t}\n\tupdate_scheduled = false;\n\tseen_callbacks.clear();\n\tset_current_component(saved_component);\n}\n\n/** @returns {void} */\nfunction update($$) {\n\tif ($$.fragment !== null) {\n\t\t$$.update();\n\t\trun_all($$.before_update);\n\t\tconst dirty = $$.dirty;\n\t\t$$.dirty = [-1];\n\t\t$$.fragment && $$.fragment.p($$.ctx, dirty);\n\t\t$$.after_update.forEach(add_render_callback);\n\t}\n}\n\n/**\n * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function flush_render_callbacks(fns) {\n\tconst filtered = [];\n\tconst targets = [];\n\trender_callbacks.forEach((c) => (fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c)));\n\ttargets.forEach((c) => c());\n\trender_callbacks = filtered;\n}\n", "import { identity as linear, is_function, noop, run_all } from './utils.js';\nimport { now } from './environment.js';\nimport { loop } from './loop.js';\nimport { create_rule, delete_rule } from './style_manager.js';\nimport { custom_event } from './dom.js';\nimport { add_render_callback } from './scheduler.js';\n\n/**\n * @type {Promise<void> | null}\n */\nlet promise;\n\n/**\n * @returns {Promise<void>}\n */\nfunction wait() {\n\tif (!promise) {\n\t\tpromise = Promise.resolve();\n\t\tpromise.then(() => {\n\t\t\tpromise = null;\n\t\t});\n\t}\n\treturn promise;\n}\n\n/**\n * @param {Element} node\n * @param {INTRO | OUTRO | boolean} direction\n * @param {'start' | 'end'} kind\n * @returns {void}\n */\nfunction dispatch(node, direction, kind) {\n\tnode.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\n\nconst outroing = new Set();\n\n/**\n * @type {Outro}\n */\nlet outros;\n\n/**\n * @returns {void} */\nexport function group_outros() {\n\toutros = {\n\t\tr: 0,\n\t\tc: [],\n\t\tp: outros // parent group\n\t};\n}\n\n/**\n * @returns {void} */\nexport function check_outros() {\n\tif (!outros.r) {\n\t\trun_all(outros.c);\n\t}\n\toutros = outros.p;\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} [local]\n * @returns {void}\n */\nexport function transition_in(block, local) {\n\tif (block && block.i) {\n\t\toutroing.delete(block);\n\t\tblock.i(local);\n\t}\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} local\n * @param {0 | 1} [detach]\n * @param {() => void} [callback]\n * @returns {void}\n */\nexport function transition_out(block, local, detach, callback) {\n\tif (block && block.o) {\n\t\tif (outroing.has(block)) return;\n\t\toutroing.add(block);\n\t\toutros.c.push(() => {\n\t\t\toutroing.delete(block);\n\t\t\tif (callback) {\n\t\t\t\tif (detach) block.d(1);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t});\n\t\tblock.o(local);\n\t} else if (callback) {\n\t\tcallback();\n\t}\n}\n\n/**\n * @type {import('../transition/public.js').TransitionConfig}\n */\nconst null_transition = { duration: 0 };\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ start(): void; invalidate(): void; end(): void; }}\n */\nexport function create_in_transition(node, fn, params) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'in' };\n\tlet config = fn(node, params, options);\n\tlet running = false;\n\tlet animation_name;\n\tlet task;\n\tlet uid = 0;\n\n\t/**\n\t * @returns {void} */\n\tfunction cleanup() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\t\tif (css) animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n\t\ttick(0, 1);\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tif (task) task.abort();\n\t\trunning = true;\n\t\tadd_render_callback(() => dispatch(node, true, 'start'));\n\t\ttask = loop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(1, 0);\n\t\t\t\t\tdispatch(node, true, 'end');\n\t\t\t\t\tcleanup();\n\t\t\t\t\treturn (running = false);\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\tlet started = false;\n\treturn {\n\t\tstart() {\n\t\t\tif (started) return;\n\t\t\tstarted = true;\n\t\t\tdelete_rule(node);\n\t\t\tif (is_function(config)) {\n\t\t\t\tconfig = config(options);\n\t\t\t\twait().then(go);\n\t\t\t} else {\n\t\t\t\tgo();\n\t\t\t}\n\t\t},\n\t\tinvalidate() {\n\t\t\tstarted = false;\n\t\t},\n\t\tend() {\n\t\t\tif (running) {\n\t\t\t\tcleanup();\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ end(reset: any): void; }}\n */\nexport function create_out_transition(node, fn, params) {\n\t/** @type {TransitionOptions} */\n\tconst options = { direction: 'out' };\n\tlet config = fn(node, params, options);\n\tlet running = true;\n\tlet animation_name;\n\tconst group = outros;\n\tgroup.r += 1;\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\tif (css) animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tadd_render_callback(() => dispatch(node, false, 'start'));\n\n\t\tif ('inert' in node) {\n\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\tnode.inert = true;\n\t\t}\n\n\t\tloop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(0, 1);\n\t\t\t\t\tdispatch(node, false, 'end');\n\t\t\t\t\tif (!--group.r) {\n\t\t\t\t\t\t// this will result in `end()` being called,\n\t\t\t\t\t\t// so we don't need to clean up here\n\t\t\t\t\t\trun_all(group.c);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(1 - t, t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\n\tif (is_function(config)) {\n\t\twait().then(() => {\n\t\t\t// @ts-ignore\n\t\t\tconfig = config(options);\n\t\t\tgo();\n\t\t});\n\t} else {\n\t\tgo();\n\t}\n\n\treturn {\n\t\tend(reset) {\n\t\t\tif (reset && 'inert' in node) {\n\t\t\t\tnode.inert = original_inert_value;\n\t\t\t}\n\t\t\tif (reset && config.tick) {\n\t\t\t\tconfig.tick(1, 0);\n\t\t\t}\n\t\t\tif (running) {\n\t\t\t\tif (animation_name) delete_rule(node, animation_name);\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @param {boolean} intro\n * @returns {{ run(b: 0 | 1): void; end(): void; }}\n */\nexport function create_bidirectional_transition(node, fn, params, intro) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'both' };\n\tlet config = fn(node, params, options);\n\tlet t = intro ? 0 : 1;\n\n\t/**\n\t * @type {Program | null} */\n\tlet running_program = null;\n\n\t/**\n\t * @type {PendingProgram | null} */\n\tlet pending_program = null;\n\tlet animation_name = null;\n\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction clear_animation() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @param {PendingProgram} program\n\t * @param {number} duration\n\t * @returns {Program}\n\t */\n\tfunction init(program, duration) {\n\t\tconst d = /** @type {Program['d']} */ (program.b - t);\n\t\tduration *= Math.abs(d);\n\t\treturn {\n\t\t\ta: t,\n\t\t\tb: program.b,\n\t\t\td,\n\t\t\tduration,\n\t\t\tstart: program.start,\n\t\t\tend: program.start + duration,\n\t\t\tgroup: program.group\n\t\t};\n\t}\n\n\t/**\n\t * @param {INTRO | OUTRO} b\n\t * @returns {void}\n\t */\n\tfunction go(b) {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\t/**\n\t\t * @type {PendingProgram} */\n\t\tconst program = {\n\t\t\tstart: now() + delay,\n\t\t\tb\n\t\t};\n\n\t\tif (!b) {\n\t\t\t// @ts-ignore todo: improve typings\n\t\t\tprogram.group = outros;\n\t\t\toutros.r += 1;\n\t\t}\n\n\t\tif ('inert' in node) {\n\t\t\tif (b) {\n\t\t\t\tif (original_inert_value !== undefined) {\n\t\t\t\t\t// aborted/reversed outro \u2014 restore previous inert value\n\t\t\t\t\tnode.inert = original_inert_value;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\t\tnode.inert = true;\n\t\t\t}\n\t\t}\n\n\t\tif (running_program || pending_program) {\n\t\t\tpending_program = program;\n\t\t} else {\n\t\t\t// if this is an intro, and there's a delay, we need to do\n\t\t\t// an initial tick and/or apply CSS animation immediately\n\t\t\tif (css) {\n\t\t\t\tclear_animation();\n\t\t\t\tanimation_name = create_rule(node, t, b, duration, delay, easing, css);\n\t\t\t}\n\t\t\tif (b) tick(0, 1);\n\t\t\trunning_program = init(program, duration);\n\t\t\tadd_render_callback(() => dispatch(node, b, 'start'));\n\t\t\tloop((now) => {\n\t\t\t\tif (pending_program && now > pending_program.start) {\n\t\t\t\t\trunning_program = init(pending_program, duration);\n\t\t\t\t\tpending_program = null;\n\t\t\t\t\tdispatch(node, running_program.b, 'start');\n\t\t\t\t\tif (css) {\n\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\tanimation_name = create_rule(\n\t\t\t\t\t\t\tnode,\n\t\t\t\t\t\t\tt,\n\t\t\t\t\t\t\trunning_program.b,\n\t\t\t\t\t\t\trunning_program.duration,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\teasing,\n\t\t\t\t\t\t\tconfig.css\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (running_program) {\n\t\t\t\t\tif (now >= running_program.end) {\n\t\t\t\t\t\ttick((t = running_program.b), 1 - t);\n\t\t\t\t\t\tdispatch(node, running_program.b, 'end');\n\t\t\t\t\t\tif (!pending_program) {\n\t\t\t\t\t\t\t// we're done\n\t\t\t\t\t\t\tif (running_program.b) {\n\t\t\t\t\t\t\t\t// intro \u2014 we can tidy up immediately\n\t\t\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// outro \u2014 needs to be coordinated\n\t\t\t\t\t\t\t\tif (!--running_program.group.r) run_all(running_program.group.c);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\trunning_program = null;\n\t\t\t\t\t} else if (now >= running_program.start) {\n\t\t\t\t\t\tconst p = now - running_program.start;\n\t\t\t\t\t\tt = running_program.a + running_program.d * easing(p / running_program.duration);\n\t\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn !!(running_program || pending_program);\n\t\t\t});\n\t\t}\n\t}\n\treturn {\n\t\trun(b) {\n\t\t\tif (is_function(config)) {\n\t\t\t\twait().then(() => {\n\t\t\t\t\tconst opts = { direction: b ? 'in' : 'out' };\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tconfig = config(opts);\n\t\t\t\t\tgo(b);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tgo(b);\n\t\t\t}\n\t\t},\n\t\tend() {\n\t\t\tclear_animation();\n\t\t\trunning_program = pending_program = null;\n\t\t}\n\t};\n}\n\n/** @typedef {1} INTRO */\n/** @typedef {0} OUTRO */\n/** @typedef {{ direction: 'in' | 'out' | 'both' }} TransitionOptions */\n/** @typedef {(node: Element, params: any, options: TransitionOptions) => import('../transition/public.js').TransitionConfig} TransitionFn */\n\n/**\n * @typedef {Object} Outro\n * @property {number} r\n * @property {Function[]} c\n * @property {Object} p\n */\n\n/**\n * @typedef {Object} PendingProgram\n * @property {number} start\n * @property {INTRO|OUTRO} b\n * @property {Outro} [group]\n */\n\n/**\n * @typedef {Object} Program\n * @property {number} a\n * @property {INTRO|OUTRO} b\n * @property {1|-1} d\n * @property {number} duration\n * @property {number} start\n * @property {number} end\n * @property {Outro} [group]\n */\n", "import { is_promise } from './utils.js';\nimport { check_outros, group_outros, transition_in, transition_out } from './transitions.js';\nimport { flush } from './scheduler.js';\nimport { get_current_component, set_current_component } from './lifecycle.js';\n\n/**\n * @template T\n * @param {Promise<T>} promise\n * @param {import('./private.js').PromiseInfo<T>} info\n * @returns {boolean}\n */\nexport function handle_promise(promise, info) {\n\tconst token = (info.token = {});\n\t/**\n\t * @param {import('./private.js').FragmentFactory} type\n\t * @param {0 | 1 | 2} index\n\t * @param {number} [key]\n\t * @param {any} [value]\n\t * @returns {void}\n\t */\n\tfunction update(type, index, key, value) {\n\t\tif (info.token !== token) return;\n\t\tinfo.resolved = value;\n\t\tlet child_ctx = info.ctx;\n\t\tif (key !== undefined) {\n\t\t\tchild_ctx = child_ctx.slice();\n\t\t\tchild_ctx[key] = value;\n\t\t}\n\t\tconst block = type && (info.current = type)(child_ctx);\n\t\tlet needs_flush = false;\n\t\tif (info.block) {\n\t\t\tif (info.blocks) {\n\t\t\t\tinfo.blocks.forEach((block, i) => {\n\t\t\t\t\tif (i !== index && block) {\n\t\t\t\t\t\tgroup_outros();\n\t\t\t\t\t\ttransition_out(block, 1, 1, () => {\n\t\t\t\t\t\t\tif (info.blocks[i] === block) {\n\t\t\t\t\t\t\t\tinfo.blocks[i] = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcheck_outros();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tinfo.block.d(1);\n\t\t\t}\n\t\t\tblock.c();\n\t\t\ttransition_in(block, 1);\n\t\t\tblock.m(info.mount(), info.anchor);\n\t\t\tneeds_flush = true;\n\t\t}\n\t\tinfo.block = block;\n\t\tif (info.blocks) info.blocks[index] = block;\n\t\tif (needs_flush) {\n\t\t\tflush();\n\t\t}\n\t}\n\tif (is_promise(promise)) {\n\t\tconst current_component = get_current_component();\n\t\tpromise.then(\n\t\t\t(value) => {\n\t\t\t\tset_current_component(current_component);\n\t\t\t\tupdate(info.then, 1, info.value, value);\n\t\t\t\tset_current_component(null);\n\t\t\t},\n\t\t\t(error) => {\n\t\t\t\tset_current_component(current_component);\n\t\t\t\tupdate(info.catch, 2, info.error, error);\n\t\t\t\tset_current_component(null);\n\t\t\t\tif (!info.hasCatch) {\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t\t// if we previously had a then/catch block, destroy it\n\t\tif (info.current !== info.pending) {\n\t\t\tupdate(info.pending, 0);\n\t\t\treturn true;\n\t\t}\n\t} else {\n\t\tif (info.current !== info.then) {\n\t\t\tupdate(info.then, 1, info.value, promise);\n\t\t\treturn true;\n\t\t}\n\t\tinfo.resolved = /** @type {T} */ (promise);\n\t}\n}\n\n/** @returns {void} */\nexport function update_await_block_branch(info, ctx, dirty) {\n\tconst child_ctx = ctx.slice();\n\tconst { resolved } = info;\n\tif (info.current === info.then) {\n\t\tchild_ctx[info.value] = resolved;\n\t}\n\tif (info.current === info.catch) {\n\t\tchild_ctx[info.error] = resolved;\n\t}\n\tinfo.block.p(child_ctx, dirty);\n}\n", "import { transition_in, transition_out } from './transitions.js';\nimport { run_all } from './utils.js';\n\n// general each functions:\n\nexport function ensure_array_like(array_like_or_iterator) {\n\treturn array_like_or_iterator?.length !== undefined\n\t\t? array_like_or_iterator\n\t\t: Array.from(array_like_or_iterator);\n}\n\n// keyed each functions:\n\n/** @returns {void} */\nexport function destroy_block(block, lookup) {\n\tblock.d(1);\n\tlookup.delete(block.key);\n}\n\n/** @returns {void} */\nexport function outro_and_destroy_block(block, lookup) {\n\ttransition_out(block, 1, 1, () => {\n\t\tlookup.delete(block.key);\n\t});\n}\n\n/** @returns {void} */\nexport function fix_and_destroy_block(block, lookup) {\n\tblock.f();\n\tdestroy_block(block, lookup);\n}\n\n/** @returns {void} */\nexport function fix_and_outro_and_destroy_block(block, lookup) {\n\tblock.f();\n\toutro_and_destroy_block(block, lookup);\n}\n\n/** @returns {any[]} */\nexport function update_keyed_each(\n\told_blocks,\n\tdirty,\n\tget_key,\n\tdynamic,\n\tctx,\n\tlist,\n\tlookup,\n\tnode,\n\tdestroy,\n\tcreate_each_block,\n\tnext,\n\tget_context\n) {\n\tlet o = old_blocks.length;\n\tlet n = list.length;\n\tlet i = o;\n\tconst old_indexes = {};\n\twhile (i--) old_indexes[old_blocks[i].key] = i;\n\tconst new_blocks = [];\n\tconst new_lookup = new Map();\n\tconst deltas = new Map();\n\tconst updates = [];\n\ti = n;\n\twhile (i--) {\n\t\tconst child_ctx = get_context(ctx, list, i);\n\t\tconst key = get_key(child_ctx);\n\t\tlet block = lookup.get(key);\n\t\tif (!block) {\n\t\t\tblock = create_each_block(key, child_ctx);\n\t\t\tblock.c();\n\t\t} else if (dynamic) {\n\t\t\t// defer updates until all the DOM shuffling is done\n\t\t\tupdates.push(() => block.p(child_ctx, dirty));\n\t\t}\n\t\tnew_lookup.set(key, (new_blocks[i] = block));\n\t\tif (key in old_indexes) deltas.set(key, Math.abs(i - old_indexes[key]));\n\t}\n\tconst will_move = new Set();\n\tconst did_move = new Set();\n\t/** @returns {void} */\n\tfunction insert(block) {\n\t\ttransition_in(block, 1);\n\t\tblock.m(node, next);\n\t\tlookup.set(block.key, block);\n\t\tnext = block.first;\n\t\tn--;\n\t}\n\twhile (o && n) {\n\t\tconst new_block = new_blocks[n - 1];\n\t\tconst old_block = old_blocks[o - 1];\n\t\tconst new_key = new_block.key;\n\t\tconst old_key = old_block.key;\n\t\tif (new_block === old_block) {\n\t\t\t// do nothing\n\t\t\tnext = new_block.first;\n\t\t\to--;\n\t\t\tn--;\n\t\t} else if (!new_lookup.has(old_key)) {\n\t\t\t// remove old block\n\t\t\tdestroy(old_block, lookup);\n\t\t\to--;\n\t\t} else if (!lookup.has(new_key) || will_move.has(new_key)) {\n\t\t\tinsert(new_block);\n\t\t} else if (did_move.has(old_key)) {\n\t\t\to--;\n\t\t} else if (deltas.get(new_key) > deltas.get(old_key)) {\n\t\t\tdid_move.add(new_key);\n\t\t\tinsert(new_block);\n\t\t} else {\n\t\t\twill_move.add(old_key);\n\t\t\to--;\n\t\t}\n\t}\n\twhile (o--) {\n\t\tconst old_block = old_blocks[o];\n\t\tif (!new_lookup.has(old_block.key)) destroy(old_block, lookup);\n\t}\n\twhile (n) insert(new_blocks[n - 1]);\n\trun_all(updates);\n\treturn new_blocks;\n}\n\n/** @returns {void} */\nexport function validate_each_keys(ctx, list, get_context, get_key) {\n\tconst keys = new Map();\n\tfor (let i = 0; i < list.length; i++) {\n\t\tconst key = get_key(get_context(ctx, list, i));\n\t\tif (keys.has(key)) {\n\t\t\tlet value = '';\n\t\t\ttry {\n\t\t\t\tvalue = `with value '${String(key)}' `;\n\t\t\t} catch (e) {\n\t\t\t\t// can't stringify\n\t\t\t}\n\t\t\tthrow new Error(\n\t\t\t\t`Cannot have duplicate keys in a keyed each: Keys at index ${keys.get(\n\t\t\t\t\tkey\n\t\t\t\t)} and ${i} ${value}are duplicates`\n\t\t\t);\n\t\t}\n\t\tkeys.set(key, i);\n\t}\n}\n", "const _boolean_attributes = /** @type {const} */ ([\n\t'allowfullscreen',\n\t'allowpaymentrequest',\n\t'async',\n\t'autofocus',\n\t'autoplay',\n\t'checked',\n\t'controls',\n\t'default',\n\t'defer',\n\t'disabled',\n\t'formnovalidate',\n\t'hidden',\n\t'inert',\n\t'ismap',\n\t'loop',\n\t'multiple',\n\t'muted',\n\t'nomodule',\n\t'novalidate',\n\t'open',\n\t'playsinline',\n\t'readonly',\n\t'required',\n\t'reversed',\n\t'selected'\n]);\n\n/**\n * List of HTML boolean attributes (e.g. `<input disabled>`).\n * Source: https://html.spec.whatwg.org/multipage/indices.html\n *\n * @type {Set<string>}\n */\nexport const boolean_attributes = new Set([..._boolean_attributes]);\n\n/** @typedef {typeof _boolean_attributes[number]} BooleanAttributes */\n", "import {\n\tadd_render_callback,\n\tflush,\n\tflush_render_callbacks,\n\tschedule_update,\n\tdirty_components\n} from './scheduler.js';\nimport { current_component, set_current_component } from './lifecycle.js';\nimport { blank_object, is_empty, is_function, run, run_all, noop } from './utils.js';\nimport {\n\tchildren,\n\tdetach,\n\tstart_hydrating,\n\tend_hydrating,\n\tget_custom_elements_slots,\n\tinsert,\n\telement,\n\tattr\n} from './dom.js';\nimport { transition_in } from './transitions.js';\n\n/** @returns {void} */\nexport function bind(component, name, callback) {\n\tconst index = component.$$.props[name];\n\tif (index !== undefined) {\n\t\tcomponent.$$.bound[index] = callback;\n\t\tcallback(component.$$.ctx[index]);\n\t}\n}\n\n/** @returns {void} */\nexport function create_component(block) {\n\tblock && block.c();\n}\n\n/** @returns {void} */\nexport function claim_component(block, parent_nodes) {\n\tblock && block.l(parent_nodes);\n}\n\n/** @returns {void} */\nexport function mount_component(component, target, anchor) {\n\tconst { fragment, after_update } = component.$$;\n\tfragment && fragment.m(target, anchor);\n\t// onMount happens before the initial afterUpdate\n\tadd_render_callback(() => {\n\t\tconst new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n\t\t// if the component was destroyed immediately\n\t\t// it will update the `$$.on_destroy` reference to `null`.\n\t\t// the destructured on_destroy may still reference to the old array\n\t\tif (component.$$.on_destroy) {\n\t\t\tcomponent.$$.on_destroy.push(...new_on_destroy);\n\t\t} else {\n\t\t\t// Edge case - component was destroyed immediately,\n\t\t\t// most likely as a result of a binding initialising\n\t\t\trun_all(new_on_destroy);\n\t\t}\n\t\tcomponent.$$.on_mount = [];\n\t});\n\tafter_update.forEach(add_render_callback);\n}\n\n/** @returns {void} */\nexport function destroy_component(component, detaching) {\n\tconst $$ = component.$$;\n\tif ($$.fragment !== null) {\n\t\tflush_render_callbacks($$.after_update);\n\t\trun_all($$.on_destroy);\n\t\t$$.fragment && $$.fragment.d(detaching);\n\t\t// TODO null out other refs, including component.$$ (but need to\n\t\t// preserve final state?)\n\t\t$$.on_destroy = $$.fragment = null;\n\t\t$$.ctx = [];\n\t}\n}\n\n/** @returns {void} */\nfunction make_dirty(component, i) {\n\tif (component.$$.dirty[0] === -1) {\n\t\tdirty_components.push(component);\n\t\tschedule_update();\n\t\tcomponent.$$.dirty.fill(0);\n\t}\n\tcomponent.$$.dirty[(i / 31) | 0] |= 1 << i % 31;\n}\n\n// TODO: Document the other params\n/**\n * @param {SvelteComponent} component\n * @param {import('./public.js').ComponentConstructorOptions} options\n *\n * @param {import('./utils.js')['not_equal']} not_equal Used to compare props and state values.\n * @param {(target: Element | ShadowRoot) => void} [append_styles] Function that appends styles to the DOM when the component is first initialised.\n * This will be the `add_css` function from the compiled component.\n *\n * @returns {void}\n */\nexport function init(\n\tcomponent,\n\toptions,\n\tinstance,\n\tcreate_fragment,\n\tnot_equal,\n\tprops,\n\tappend_styles = null,\n\tdirty = [-1]\n) {\n\tconst parent_component = current_component;\n\tset_current_component(component);\n\t/** @type {import('./private.js').T$$} */\n\tconst $$ = (component.$$ = {\n\t\tfragment: null,\n\t\tctx: [],\n\t\t// state\n\t\tprops,\n\t\tupdate: noop,\n\t\tnot_equal,\n\t\tbound: blank_object(),\n\t\t// lifecycle\n\t\ton_mount: [],\n\t\ton_destroy: [],\n\t\ton_disconnect: [],\n\t\tbefore_update: [],\n\t\tafter_update: [],\n\t\tcontext: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n\t\t// everything else\n\t\tcallbacks: blank_object(),\n\t\tdirty,\n\t\tskip_bound: false,\n\t\troot: options.target || parent_component.$$.root\n\t});\n\tappend_styles && append_styles($$.root);\n\tlet ready = false;\n\t$$.ctx = instance\n\t\t? instance(component, options.props || {}, (i, ret, ...rest) => {\n\t\t\t\tconst value = rest.length ? rest[0] : ret;\n\t\t\t\tif ($$.ctx && not_equal($$.ctx[i], ($$.ctx[i] = value))) {\n\t\t\t\t\tif (!$$.skip_bound && $$.bound[i]) $$.bound[i](value);\n\t\t\t\t\tif (ready) make_dirty(component, i);\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t  })\n\t\t: [];\n\t$$.update();\n\tready = true;\n\trun_all($$.before_update);\n\t// `false` as a special case of no DOM component\n\t$$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n\tif (options.target) {\n\t\tif (options.hydrate) {\n\t\t\tstart_hydrating();\n\t\t\t// TODO: what is the correct type here?\n\t\t\t// @ts-expect-error\n\t\t\tconst nodes = children(options.target);\n\t\t\t$$.fragment && $$.fragment.l(nodes);\n\t\t\tnodes.forEach(detach);\n\t\t} else {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t$$.fragment && $$.fragment.c();\n\t\t}\n\t\tif (options.intro) transition_in(component.$$.fragment);\n\t\tmount_component(component, options.target, options.anchor);\n\t\tend_hydrating();\n\t\tflush();\n\t}\n\tset_current_component(parent_component);\n}\n\nexport let SvelteElement;\n\nif (typeof HTMLElement === 'function') {\n\tSvelteElement = class extends HTMLElement {\n\t\t/** The Svelte component constructor */\n\t\t$$ctor;\n\t\t/** Slots */\n\t\t$$s;\n\t\t/** The Svelte component instance */\n\t\t$$c;\n\t\t/** Whether or not the custom element is connected */\n\t\t$$cn = false;\n\t\t/** Component props data */\n\t\t$$d = {};\n\t\t/** `true` if currently in the process of reflecting component props back to attributes */\n\t\t$$r = false;\n\t\t/** @type {Record<string, CustomElementPropDefinition>} Props definition (name, reflected, type etc) */\n\t\t$$p_d = {};\n\t\t/** @type {Record<string, Function[]>} Event listeners */\n\t\t$$l = {};\n\t\t/** @type {Map<Function, Function>} Event listener unsubscribe functions */\n\t\t$$l_u = new Map();\n\n\t\tconstructor($$componentCtor, $$slots, use_shadow_dom) {\n\t\t\tsuper();\n\t\t\tthis.$$ctor = $$componentCtor;\n\t\t\tthis.$$s = $$slots;\n\t\t\tif (use_shadow_dom) {\n\t\t\t\tthis.attachShadow({ mode: 'open' });\n\t\t\t}\n\t\t}\n\n\t\taddEventListener(type, listener, options) {\n\t\t\t// We can't determine upfront if the event is a custom event or not, so we have to\n\t\t\t// listen to both. If someone uses a custom event with the same name as a regular\n\t\t\t// browser event, this fires twice - we can't avoid that.\n\t\t\tthis.$$l[type] = this.$$l[type] || [];\n\t\t\tthis.$$l[type].push(listener);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t}\n\t\t\tsuper.addEventListener(type, listener, options);\n\t\t}\n\n\t\tremoveEventListener(type, listener, options) {\n\t\t\tsuper.removeEventListener(type, listener, options);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$l_u.get(listener);\n\t\t\t\tif (unsub) {\n\t\t\t\t\tunsub();\n\t\t\t\t\tthis.$$l_u.delete(listener);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tasync connectedCallback() {\n\t\t\tthis.$$cn = true;\n\t\t\tif (!this.$$c) {\n\t\t\t\t// We wait one tick to let possible child slot elements be created/mounted\n\t\t\t\tawait Promise.resolve();\n\t\t\t\tif (!this.$$cn || this.$$c) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfunction create_slot(name) {\n\t\t\t\t\treturn () => {\n\t\t\t\t\t\tlet node;\n\t\t\t\t\t\tconst obj = {\n\t\t\t\t\t\t\tc: function create() {\n\t\t\t\t\t\t\t\tnode = element('slot');\n\t\t\t\t\t\t\t\tif (name !== 'default') {\n\t\t\t\t\t\t\t\t\tattr(node, 'name', name);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * @param {HTMLElement} target\n\t\t\t\t\t\t\t * @param {HTMLElement} [anchor]\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tm: function mount(target, anchor) {\n\t\t\t\t\t\t\t\tinsert(target, node, anchor);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\td: function destroy(detaching) {\n\t\t\t\t\t\t\t\tif (detaching) {\n\t\t\t\t\t\t\t\t\tdetach(node);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn obj;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tconst $$slots = {};\n\t\t\t\tconst existing_slots = get_custom_elements_slots(this);\n\t\t\t\tfor (const name of this.$$s) {\n\t\t\t\t\tif (name in existing_slots) {\n\t\t\t\t\t\t$$slots[name] = [create_slot(name)];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (const attribute of this.attributes) {\n\t\t\t\t\t// this.$$data takes precedence over this.attributes\n\t\t\t\t\tconst name = this.$$g_p(attribute.name);\n\t\t\t\t\tif (!(name in this.$$d)) {\n\t\t\t\t\t\tthis.$$d[name] = get_custom_element_value(name, attribute.value, this.$$p_d, 'toProp');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Port over props that were set programmatically before ce was initialized\n\t\t\t\tfor (const key in this.$$p_d) {\n\t\t\t\t\tif (!(key in this.$$d) && this[key] !== undefined) {\n\t\t\t\t\t\tthis.$$d[key] = this[key]; // don't transform, these were set through JavaScript\n\t\t\t\t\t\tdelete this[key]; // remove the property that shadows the getter/setter\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$c = new this.$$ctor({\n\t\t\t\t\ttarget: this.shadowRoot || this,\n\t\t\t\t\tprops: {\n\t\t\t\t\t\t...this.$$d,\n\t\t\t\t\t\t$$slots,\n\t\t\t\t\t\t$$scope: {\n\t\t\t\t\t\t\tctx: []\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Reflect component props as attributes\n\t\t\t\tconst reflect_attributes = () => {\n\t\t\t\t\tthis.$$r = true;\n\t\t\t\t\tfor (const key in this.$$p_d) {\n\t\t\t\t\t\tthis.$$d[key] = this.$$c.$$.ctx[this.$$c.$$.props[key]];\n\t\t\t\t\t\tif (this.$$p_d[key].reflect) {\n\t\t\t\t\t\t\tconst attribute_value = get_custom_element_value(\n\t\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\t\tthis.$$d[key],\n\t\t\t\t\t\t\t\tthis.$$p_d,\n\t\t\t\t\t\t\t\t'toAttribute'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (attribute_value == null) {\n\t\t\t\t\t\t\t\tthis.removeAttribute(this.$$p_d[key].attribute || key);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.setAttribute(this.$$p_d[key].attribute || key, attribute_value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.$$r = false;\n\t\t\t\t};\n\t\t\t\tthis.$$c.$$.after_update.push(reflect_attributes);\n\t\t\t\treflect_attributes(); // once initially because after_update is added too late for first render\n\n\t\t\t\tfor (const type in this.$$l) {\n\t\t\t\t\tfor (const listener of this.$$l[type]) {\n\t\t\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$l = {};\n\t\t\t}\n\t\t}\n\n\t\t// We don't need this when working within Svelte code, but for compatibility of people using this outside of Svelte\n\t\t// and setting attributes through setAttribute etc, this is helpful\n\t\tattributeChangedCallback(attr, _oldValue, newValue) {\n\t\t\tif (this.$$r) return;\n\t\t\tattr = this.$$g_p(attr);\n\t\t\tthis.$$d[attr] = get_custom_element_value(attr, newValue, this.$$p_d, 'toProp');\n\t\t\tthis.$$c?.$set({ [attr]: this.$$d[attr] });\n\t\t}\n\n\t\tdisconnectedCallback() {\n\t\t\tthis.$$cn = false;\n\t\t\t// In a microtask, because this could be a move within the DOM\n\t\t\tPromise.resolve().then(() => {\n\t\t\t\tif (!this.$$cn) {\n\t\t\t\t\tthis.$$c.$destroy();\n\t\t\t\t\tthis.$$c = undefined;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t$$g_p(attribute_name) {\n\t\t\treturn (\n\t\t\t\tObject.keys(this.$$p_d).find(\n\t\t\t\t\t(key) =>\n\t\t\t\t\t\tthis.$$p_d[key].attribute === attribute_name ||\n\t\t\t\t\t\t(!this.$$p_d[key].attribute && key.toLowerCase() === attribute_name)\n\t\t\t\t) || attribute_name\n\t\t\t);\n\t\t}\n\t};\n}\n\n/**\n * @param {string} prop\n * @param {any} value\n * @param {Record<string, CustomElementPropDefinition>} props_definition\n * @param {'toAttribute' | 'toProp'} [transform]\n */\nfunction get_custom_element_value(prop, value, props_definition, transform) {\n\tconst type = props_definition[prop]?.type;\n\tvalue = type === 'Boolean' && typeof value !== 'boolean' ? value != null : value;\n\tif (!transform || !props_definition[prop]) {\n\t\treturn value;\n\t} else if (transform === 'toAttribute') {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value == null ? null : JSON.stringify(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value ? '' : null;\n\t\t\tcase 'Number':\n\t\t\t\treturn value == null ? null : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t} else {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value && JSON.parse(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value; // conversion already handled above\n\t\t\tcase 'Number':\n\t\t\t\treturn value != null ? +value : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t}\n}\n\n/**\n * @internal\n *\n * Turn a Svelte component into a custom element.\n * @param {import('./public.js').ComponentType} Component  A Svelte component constructor\n * @param {Record<string, CustomElementPropDefinition>} props_definition  The props to observe\n * @param {string[]} slots  The slots to create\n * @param {string[]} accessors  Other accessors besides the ones for props the component has\n * @param {boolean} use_shadow_dom  Whether to use shadow DOM\n * @param {(ce: new () => HTMLElement) => new () => HTMLElement} [extend]\n */\nexport function create_custom_element(\n\tComponent,\n\tprops_definition,\n\tslots,\n\taccessors,\n\tuse_shadow_dom,\n\textend\n) {\n\tlet Class = class extends SvelteElement {\n\t\tconstructor() {\n\t\t\tsuper(Component, slots, use_shadow_dom);\n\t\t\tthis.$$p_d = props_definition;\n\t\t}\n\t\tstatic get observedAttributes() {\n\t\t\treturn Object.keys(props_definition).map((key) =>\n\t\t\t\t(props_definition[key].attribute || key).toLowerCase()\n\t\t\t);\n\t\t}\n\t};\n\tObject.keys(props_definition).forEach((prop) => {\n\t\tObject.defineProperty(Class.prototype, prop, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c && prop in this.$$c ? this.$$c[prop] : this.$$d[prop];\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tvalue = get_custom_element_value(prop, value, props_definition);\n\t\t\t\tthis.$$d[prop] = value;\n\t\t\t\tthis.$$c?.$set({ [prop]: value });\n\t\t\t}\n\t\t});\n\t});\n\taccessors.forEach((accessor) => {\n\t\tObject.defineProperty(Class.prototype, accessor, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c?.[accessor];\n\t\t\t}\n\t\t});\n\t});\n\tif (extend) {\n\t\t// @ts-expect-error - assigning here is fine\n\t\tClass = extend(Class);\n\t}\n\tComponent.element = /** @type {any} */ (Class);\n\treturn Class;\n}\n\n/**\n * Base class for Svelte components. Used when dev=false.\n *\n * @template {Record<string, any>} [Props=any]\n * @template {Record<string, any>} [Events=any]\n */\nexport class SvelteComponent {\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$ = undefined;\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$set = undefined;\n\n\t/** @returns {void} */\n\t$destroy() {\n\t\tdestroy_component(this, 1);\n\t\tthis.$destroy = noop;\n\t}\n\n\t/**\n\t * @template {Extract<keyof Events, string>} K\n\t * @param {K} type\n\t * @param {((e: Events[K]) => void) | null | undefined} callback\n\t * @returns {() => void}\n\t */\n\t$on(type, callback) {\n\t\tif (!is_function(callback)) {\n\t\t\treturn noop;\n\t\t}\n\t\tconst callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);\n\t\tcallbacks.push(callback);\n\t\treturn () => {\n\t\t\tconst index = callbacks.indexOf(callback);\n\t\t\tif (index !== -1) callbacks.splice(index, 1);\n\t\t};\n\t}\n\n\t/**\n\t * @param {Partial<Props>} props\n\t * @returns {void}\n\t */\n\t$set(props) {\n\t\tif (this.$$set && !is_empty(props)) {\n\t\t\tthis.$$.skip_bound = true;\n\t\t\tthis.$$set(props);\n\t\t\tthis.$$.skip_bound = false;\n\t\t}\n\t}\n}\n\n/**\n * @typedef {Object} CustomElementPropDefinition\n * @property {string} [attribute]\n * @property {boolean} [reflect]\n * @property {'String'|'Boolean'|'Number'|'Array'|'Object'} [type]\n */\n", "// generated during release, do not modify\n\n/**\n * The current version, as set in package.json.\n *\n * https://svelte.dev/docs/svelte-compiler#svelte-version\n * @type {string}\n */\nexport const VERSION = '4.2.15';\nexport const PUBLIC_VERSION = '4';\n", "import { tick } from 'svelte'\n\nexport function query_selector_all(selector: string) {\n  return Array.from(document.querySelectorAll(selector))\n}\n\nexport function stop(event: Event) {\n  event.stopPropagation()\n  if (event.cancelable) {\n    event.preventDefault()\n  }\n}\n\nexport function send_input(selector: string) {\n  tick().then(() => {\n    for (const textarea of query_selector_all(selector))\n      textarea.dispatchEvent(new InputEvent('input', { bubbles: true, cancelable: true }))\n  })\n}\n\nexport function focus_last(selector: string) {\n  tick().then(() => {\n    const elements = query_selector_all(selector)\n    const last = elements[elements.length - 1] as HTMLInputElement\n    if (last) {\n      last.focus && last.focus()\n      last.select && last.select()\n    }\n  })\n}\n\nexport const is_client = typeof window !== 'undefined'\n", "// Stolen from github's source code :D\nimport { observe } from 'selector-observer'\n// import { default as autosize } from '@github/textarea-autosize'\nimport { tabToIndentListener } from 'indent-textarea'\nimport { insert, wrapSelection } from 'text-field-edit'\nimport { stop } from '../helpers/dom'\n\ninterface Subscriber {\n  unsubscribe(): void\n}\n\ninterface SubscribeFn {\n  (el: Element): Subscriber\n}\n\nfunction compose(...subs: Subscriber[]): Subscriber {\n  return {\n    unsubscribe() {\n      for (const sub of subs) {\n        sub.unsubscribe()\n      }\n    },\n  }\n}\n\nlet isIMEVisible = false\nconst onCompositionStart = () => {\n  isIMEVisible = true\n}\nconst onCompositionEnd = () => {\n  isIMEVisible = false\n}\n\nfunction detectIME(el: Element): Subscriber {\n  const textarea = el as HTMLTextAreaElement\n  textarea.addEventListener('compositionstart', onCompositionStart)\n  textarea.addEventListener('compositionstart', onCompositionEnd)\n  return {\n    unsubscribe() {\n      textarea.removeEventListener('compositionstart', onCompositionStart)\n      textarea.removeEventListener('compositionstart', onCompositionEnd)\n      onCompositionEnd()\n    },\n  }\n}\n\nfunction onKeydown(handler: (event: KeyboardEvent) => void): SubscribeFn {\n  return function subscribe(el: Element): Subscriber {\n    const textarea = el as HTMLTextAreaElement\n    textarea.addEventListener('keydown', handler)\n    return {\n      unsubscribe() {\n        textarea.removeEventListener('keydown', handler)\n      },\n    }\n  }\n}\n\nconst commonKeymaps = onKeydown((event) => {\n  if (isIMEVisible) return\n\n  const textarea = event.target as HTMLTextAreaElement\n\n  if (event.key === 'Enter') {\n    const primary = event.metaKey || event.ctrlKey\n    const shift = event.shiftKey\n    if (!primary && !shift) return\n\n    stop(event)\n    const text = textarea.value\n    const offset = textarea.selectionStart\n    if (text === '' || offset === 0) return\n\n    const lines = text.slice(0, offset).split('\\n')\n    const current = lines[lines.length - 1]\n    const match = current?.match(/^(\\s*)/)\n    if (!match) return\n\n    const indentation = match[1] || ''\n    if (shift && !primary) {\n      insert(textarea, '\\n' + indentation)\n    } else if (primary && !shift) {\n      let i = Math.max(textarea.selectionStart, textarea.selectionEnd)\n      i = text.indexOf('\\n', i)\n      if (i === -1) i = text.length\n      textarea.selectionStart = textarea.selectionEnd = i\n      insert(textarea, '\\n' + indentation)\n    } else if (primary && shift) {\n      let i = Math.min(textarea.selectionStart, textarea.selectionEnd)\n      i = text.lastIndexOf('\\n', i)\n      if (i === -1) i = 0\n      textarea.selectionStart = textarea.selectionEnd = i\n      insert(textarea, indentation + '\\n')\n      textarea.selectionStart = textarea.selectionEnd = i\n    }\n\n    return\n  }\n\n  if (event.key === 'Escape') {\n    if (textarea.selectionDirection === 'backward') {\n      textarea.selectionEnd = textarea.selectionStart\n    } else {\n      textarea.selectionStart = textarea.selectionEnd\n    }\n    return\n  }\n\n  if (event.key === 'Tab' && !event.metaKey && !event.ctrlKey && !event.shiftKey && !event.altKey) {\n    stop(event)\n    insert(textarea, '  ')\n    return\n  }\n})\n\n// Stolen from refined-github source/features/tab-to-indent.tsx :D\nconst tabToIndent = onKeydown(tabToIndentListener)\n\n// Stolen from refined-github source/features/one-key-formatting.tsx :D\nconst formattingCharacters = ['`', \"'\", '\"', '[', '(', '{', '*', '_', '~', '\u201C', '\u2018']\nconst matchingCharacters = ['`', \"'\", '\"', ']', ')', '}', '*', '_', '~', '\u201D', '\u2019']\nconst quoteCharacters = new Set(['`', \"'\", '\"'])\n\nconst oneKeyFormatting = onKeydown((event) => {\n  if (isIMEVisible) return\n\n  const textarea = event.target as HTMLTextAreaElement\n  const formattingChar = event.key\n\n  if (!formattingCharacters.includes(formattingChar)) return\n\n  const [start, end] = [textarea.selectionStart, textarea.selectionEnd]\n  if (start === end) return\n\n  if (\n    quoteCharacters.has(formattingChar) &&\n    end - start === 1 &&\n    quoteCharacters.has(textarea.value.at(start) as string)\n  ) {\n    // Skip quote if it's already there\n    return\n  }\n\n  stop(event)\n  const matchingEndChar = matchingCharacters[formattingCharacters.indexOf(formattingChar)]\n  wrapSelection(textarea, formattingChar, matchingEndChar)\n})\n\nconst autosize = function autosize(el: Element): Subscriber {\n  const textarea = el as HTMLTextAreaElement\n\n  function fitSize() {\n    textarea.style.height = '0'\n    textarea.style.height = Math.max(textarea.scrollHeight + 2, 36) + 'px'\n  }\n\n  if (textarea.value) fitSize()\n\n  textarea.addEventListener('input', fitSize)\n\n  return {\n    unsubscribe() {\n      textarea.removeEventListener('keydown', fitSize)\n    },\n  }\n}\n\nobserve('textarea.editor', {\n  constructor: HTMLTextAreaElement,\n  // prettier-ignore\n  subscribe: (el: Element) => compose(\n    autosize(el),\n    detectIME(el),\n    commonKeymaps(el),\n    tabToIndent(el),\n    oneKeyFormatting(el),\n  ),\n})\n", "import { PUBLIC_VERSION } from '../../../shared/version.js';\n\nif (typeof window !== 'undefined')\n\t// @ts-ignore\n\t(window.__svelte || (window.__svelte = { v: new Set() })).v.add(PUBLIC_VERSION);\n", "import {\n\trun_all,\n\tsubscribe,\n\tnoop,\n\tsafe_not_equal,\n\tis_function,\n\tget_store_value\n} from '../internal/index.js';\n\nconst subscriber_queue = [];\n\n/**\n * Creates a `Readable` store that allows reading by subscription.\n *\n * https://svelte.dev/docs/svelte-store#readable\n * @template T\n * @param {T} [value] initial value\n * @param {import('./public.js').StartStopNotifier<T>} [start]\n * @returns {import('./public.js').Readable<T>}\n */\nexport function readable(value, start) {\n\treturn {\n\t\tsubscribe: writable(value, start).subscribe\n\t};\n}\n\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n *\n * https://svelte.dev/docs/svelte-store#writable\n * @template T\n * @param {T} [value] initial value\n * @param {import('./public.js').StartStopNotifier<T>} [start]\n * @returns {import('./public.js').Writable<T>}\n */\nexport function writable(value, start = noop) {\n\t/** @type {import('./public.js').Unsubscriber} */\n\tlet stop;\n\t/** @type {Set<import('./private.js').SubscribeInvalidateTuple<T>>} */\n\tconst subscribers = new Set();\n\t/** @param {T} new_value\n\t * @returns {void}\n\t */\n\tfunction set(new_value) {\n\t\tif (safe_not_equal(value, new_value)) {\n\t\t\tvalue = new_value;\n\t\t\tif (stop) {\n\t\t\t\t// store is ready\n\t\t\t\tconst run_queue = !subscriber_queue.length;\n\t\t\t\tfor (const subscriber of subscribers) {\n\t\t\t\t\tsubscriber[1]();\n\t\t\t\t\tsubscriber_queue.push(subscriber, value);\n\t\t\t\t}\n\t\t\t\tif (run_queue) {\n\t\t\t\t\tfor (let i = 0; i < subscriber_queue.length; i += 2) {\n\t\t\t\t\t\tsubscriber_queue[i][0](subscriber_queue[i + 1]);\n\t\t\t\t\t}\n\t\t\t\t\tsubscriber_queue.length = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @param {import('./public.js').Updater<T>} fn\n\t * @returns {void}\n\t */\n\tfunction update(fn) {\n\t\tset(fn(value));\n\t}\n\n\t/**\n\t * @param {import('./public.js').Subscriber<T>} run\n\t * @param {import('./private.js').Invalidator<T>} [invalidate]\n\t * @returns {import('./public.js').Unsubscriber}\n\t */\n\tfunction subscribe(run, invalidate = noop) {\n\t\t/** @type {import('./private.js').SubscribeInvalidateTuple<T>} */\n\t\tconst subscriber = [run, invalidate];\n\t\tsubscribers.add(subscriber);\n\t\tif (subscribers.size === 1) {\n\t\t\tstop = start(set, update) || noop;\n\t\t}\n\t\trun(value);\n\t\treturn () => {\n\t\t\tsubscribers.delete(subscriber);\n\t\t\tif (subscribers.size === 0 && stop) {\n\t\t\t\tstop();\n\t\t\t\tstop = null;\n\t\t\t}\n\t\t};\n\t}\n\treturn { set, update, subscribe };\n}\n\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n *\n * https://svelte.dev/docs/svelte-store#derived\n * @template {import('./private.js').Stores} S\n * @template T\n * @overload\n * @param {S} stores - input stores\n * @param {(values: import('./private.js').StoresValues<S>, set: (value: T) => void, update: (fn: import('./public.js').Updater<T>) => void) => import('./public.js').Unsubscriber | void} fn - function callback that aggregates the values\n * @param {T} [initial_value] - initial value\n * @returns {import('./public.js').Readable<T>}\n */\n\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n *\n * https://svelte.dev/docs/svelte-store#derived\n * @template {import('./private.js').Stores} S\n * @template T\n * @overload\n * @param {S} stores - input stores\n * @param {(values: import('./private.js').StoresValues<S>) => T} fn - function callback that aggregates the values\n * @param {T} [initial_value] - initial value\n * @returns {import('./public.js').Readable<T>}\n */\n\n/**\n * @template {import('./private.js').Stores} S\n * @template T\n * @param {S} stores\n * @param {Function} fn\n * @param {T} [initial_value]\n * @returns {import('./public.js').Readable<T>}\n */\nexport function derived(stores, fn, initial_value) {\n\tconst single = !Array.isArray(stores);\n\t/** @type {Array<import('./public.js').Readable<any>>} */\n\tconst stores_array = single ? [stores] : stores;\n\tif (!stores_array.every(Boolean)) {\n\t\tthrow new Error('derived() expects stores as input, got a falsy value');\n\t}\n\tconst auto = fn.length < 2;\n\treturn readable(initial_value, (set, update) => {\n\t\tlet started = false;\n\t\tconst values = [];\n\t\tlet pending = 0;\n\t\tlet cleanup = noop;\n\t\tconst sync = () => {\n\t\t\tif (pending) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcleanup();\n\t\t\tconst result = fn(single ? values[0] : values, set, update);\n\t\t\tif (auto) {\n\t\t\t\tset(result);\n\t\t\t} else {\n\t\t\t\tcleanup = is_function(result) ? result : noop;\n\t\t\t}\n\t\t};\n\t\tconst unsubscribers = stores_array.map((store, i) =>\n\t\t\tsubscribe(\n\t\t\t\tstore,\n\t\t\t\t(value) => {\n\t\t\t\t\tvalues[i] = value;\n\t\t\t\t\tpending &= ~(1 << i);\n\t\t\t\t\tif (started) {\n\t\t\t\t\t\tsync();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tpending |= 1 << i;\n\t\t\t\t}\n\t\t\t)\n\t\t);\n\t\tstarted = true;\n\t\tsync();\n\t\treturn function stop() {\n\t\t\trun_all(unsubscribers);\n\t\t\tcleanup();\n\t\t\t// We need to set this to false because callbacks can still happen despite having unsubscribed:\n\t\t\t// Callbacks might already be placed in the queue which doesn't know it should no longer\n\t\t\t// invoke this derived store.\n\t\t\tstarted = false;\n\t\t};\n\t});\n}\n\n/**\n * Takes a store and returns a new one derived from the old one that is readable.\n *\n * https://svelte.dev/docs/svelte-store#readonly\n * @template T\n * @param {import('./public.js').Readable<T>} store  - store to make readonly\n * @returns {import('./public.js').Readable<T>}\n */\nexport function readonly(store) {\n\treturn {\n\t\tsubscribe: store.subscribe.bind(store)\n\t};\n}\n\nexport { get_store_value as get };\n", "export type _ = undefined;\nexport const _ = undefined;\nexport function noop() {}\nexport function run(fn: () => void) {\n  fn();\n}\nexport function runAll(fns: Array<() => void> | Set<() => void>) {\n  fns.forEach(run);\n}\nexport function times(n: number, fn: (() => void) | ((i: number) => void)) {\n  for (let i = 0; i < n; ++i) fn(i);\n}\nexport function wait(ms: number) {\n  return new Promise<void>((resolve) => setTimeout(resolve, ms));\n}\n/**\n * Borrow from svelte/interval.\n * It treats `-0 === +0` and `NaN === NaN`.\n */\nexport function notEqual(a: unknown, b: unknown) {\n  return a != a ? b == b : a !== b;\n}\n/**\n * Borrow from svelte/interval.\n * It treats any object / function as not equal to itself.\n */\nexport function safeNotEqual(a: unknown, b: unknown) {\n  return a != a ? b == b : a !== b || ((a as boolean) && typeof a === \"object\") || typeof a === \"function\";\n}\n/**\n * Helper function to extract tuple values.\n * ```js\n * const [str, num] = spread<[string, number]>(document.querySelectorAll('*'))\n * ```\n */\nexport function spread<T = any[]>(args: Iterable<unknown> | ArrayLike<unknown>): T {\n  return Array.from(args) as unknown as T;\n}\nexport function isFunction(a: unknown): a is Function {\n  return typeof a === \"function\";\n}\n/**\n * Deep clone, but only for plain objects.\n * Hint: shallow clone is `Object.assign({}, x)`.\n */\nexport function clone<T>(x: T): T {\n  if (typeof structuredClone === \"function\") {\n    return structuredClone(x);\n  }\n  return _clone(x);\n}\nfunction _clone(x: any): any {\n  if (Array.isArray(x)) {\n    return x.map(_clone);\n  } else if (typeof x === \"object\" && x !== null) {\n    let o: any = {};\n    for (const k in x) {\n      o[k] = _clone(x[k]);\n    }\n    return o;\n  }\n  return x;\n}\n/**\n * Check if a value is JSON-serializable.\n * It does not check deeper.\n */\nexport function isJSON(x: any): boolean {\n  if (x === _) return false;\n  const t = typeof x;\n  if (t === \"string\" || t === \"number\" || t === \"boolean\") return true;\n  if (t !== \"object\") return false; // bigint, function, symbol\n  if (Array.isArray(x)) return true;\n  return (x.constructor && x.constructor.name === \"Object\") || typeof x.toJSON === \"function\";\n}\nexport function debounce<Args extends unknown[], Ret, Fn extends (...args: Args) => Ret>(\n  fn: Fn,\n  ms = 200,\n  name = fn.name\n): Fn {\n  let token = 0; // should be ok in both node and browser\n  function wrapper() {\n    clearTimeout(token);\n    // @ts-ignore\n    token = setTimeout(fn.bind(this, ...arguments), ms);\n  }\n  Object.defineProperty(wrapper, \"name\", { value: name, configurable: true });\n  Object.defineProperty(wrapper, \"length\", { value: fn.length, configurable: true });\n  return wrapper as any;\n}\nexport function tap<T>(x: T, f: (x: T) => void): T {\n  f(x);\n  return x;\n}\nexport function isDate(x: unknown): x is Date {\n  return Object.prototype.toString.call(x) === \"[object Date]\";\n}\n", "import { _ } from \"./misc\";\n\nexport function uniq<T>(a: readonly T[]): T[] {\n  return Array.from(new Set(a));\n}\n\n/** This function mutates input! */\nexport function shuffle<T>(a: T[]): T[] {\n  for (let i = a.length - 1; i > 0; --i) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [a[i], a[j]] = [a[j], a[i]];\n  }\n  return a;\n}\n\nexport function last<T>(a: T[]): T | _ {\n  return at(a, -1);\n}\n\nexport function at<T>(a: T[], i: number): T | _ {\n  const l = a.length;\n  if (!l) {\n    return _;\n  }\n  if (i < 0) {\n    i += l;\n  }\n  return a[i];\n}\n\nexport type First<T extends any[]> = T extends [infer F extends any, ...any] ? F : never;\n\nexport type Last<T extends any[]> = T extends [...any, infer L extends any] ? L : never;\n", "/**\n * Borrow from Solid JS, use with caution! (it uses `innerHTML`)\n * ```js\n * let $btn = template(`<button></button>`)\n * let count$ = writable(0)\n * count$.subscribe(count => { $btn.textContent = count })\n * $btn.onclick = () => update(count$, a => a + 1)\n * ```\n */\nexport function template(html: string, isSVG?: boolean): Element {\n  const t = document.createElement(\"template\");\n  t.innerHTML = html;\n  let node = t.content.firstChild;\n  if (isSVG) node = node!.firstChild;\n  return node as Element;\n}\n\n/**\n * Borrow from Svelte.\n * ```js\n * let $btn = element('button')\n * let count$ = writable(0)\n * count$.subscribe(count => { $btn.textContent = count })\n * $btn.onclick = () => update(count$, a => a + 1)\n * ```\n */\nexport function element<T extends keyof HTMLElementTagNameMap>(tag: T) {\n  return document.createElement(tag);\n}\n\nexport function svg<T extends keyof SVGElementTagNameMap>(tag: T) {\n  return document.createElementNS(\"http://www.w3.org/2000/svg\", tag);\n}\n\nexport type QuerySelector = typeof document.querySelector;\nexport const $: QuerySelector = function querySelector(selector: any) {\n  return document.querySelector(selector);\n};\n\nexport type QuerySelectorAll = typeof document.querySelectorAll;\nexport const $$: QuerySelectorAll = function querySelectorAll(selector: any) {\n  return document.querySelectorAll(selector);\n};\n\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\nexport function tick() {\n  return resolved_promise;\n}\n\n/**\n * ```js\n * const scheduleUpdate = batch(rerender)\n * scheduleUpdate()\n * scheduleUpdate()\n * expect(rerender).toBeCalledTimes(1)\n * ```\n */\nexport function batch(impl: () => void): () => void {\n  let scheduled = false;\n  function flush() {\n    scheduled = false;\n    impl();\n  }\n  return function scheduleUpdate() {\n    if (!scheduled) {\n      scheduled = true;\n      resolved_promise.then(flush);\n    }\n  };\n}\n", "import { _ } from \"./misc\";\n\ntype VoidType = _ | void | never;\ntype VoidKeys<Data> = {\n  [K in keyof Data]: Data[K] extends VoidType ? K : never;\n}[keyof Data];\ntype Keys<Data> = Extract<keyof Data, string>;\n\nexport type EmitterListener<Data, K extends Keys<Data> = Keys<Data>> = Data[K] extends VoidType\n  ? () => void\n  : (data: Data[K]) => void;\n\n/**\n * For more complex usage, see https://github.com/crimx/remitter\n * ```js\n * const emitter = new Emitter<{ a: number, b: string }>()\n * const dispose = emitter.on(\"a\", a => console.log(a))\n * emitter.emit(\"a\", 1) // logs: 1\n * dispose()\n * ```\n */\nexport class Emitter<Data = any> {\n  declare readonly subs: Map<Keys<Data>, Set<EmitterListener<Data, any>>>;\n  constructor(_sample?: Data) {\n    this.subs = new Map();\n  }\n  /**\n   * Emit an event to all listeners.\n   */\n  emit<K extends VoidKeys<Data>>(ev: K): void;\n  emit<K extends Keys<Data>>(ev: K, data: Data[K]): void;\n  emit<K extends Keys<Data>>(ev: K, data?: Data[K]) {\n    const subs = this.subs.get(ev);\n    if (subs) subs.forEach((sub) => sub(data as Data[K]));\n  }\n  /**\n   * Add a listener to some event.\n   */\n  on<K extends Keys<Data>>(ev: K, listener: EmitterListener<Data, K>): () => void {\n    let subs = this.subs.get(ev);\n    if (!subs) {\n      subs = new Set();\n      this.subs.set(ev, subs);\n    }\n    subs.add(listener);\n    return () => this.off(ev, listener);\n  }\n  /**\n   * Remove a listener from some event.\n   * Returns true if the listener did exist.\n   */\n  off<K extends Keys<Data>>(ev: K, listener: EmitterListener<Data, K>) {\n    const subs = this.subs.get(ev);\n    if (subs) {\n      const ret = subs.delete(listener);\n      if (subs.size === 0) {\n        this.subs.delete(ev);\n      }\n      return ret;\n    }\n    return false;\n  }\n  /**\n   * Remove all listeners from some/all event(s).\n   */\n  clear<K extends Keys<Data>>(ev?: K) {\n    if (ev) {\n      const subs = this.subs.get(ev);\n      if (subs) {\n        subs.clear();\n        this.subs.delete(ev);\n      }\n    } else {\n      this.subs.clear();\n    }\n  }\n}\n\n/**\n * For more complex usage, see https://github.com/crimx/remitter\n * ```js\n * const emitter = observable({ a: 1, b: '' }) // input only for type inferring\n * const dispose = emitter.on(\"a\", a => console.log(a))\n * emitter.emit(\"a\", 1) // logs: 1\n * dispose()\n * ```\n */\nexport function observable<Data = any>(sample?: Data): Emitter<Data> {\n  return new Emitter<Data>(sample);\n}\n", "import { _ } from \"./misc\";\n\nexport const pow = Math.pow;\nexport const random = Math.random;\n\nexport function clamp(x: number, min: number, max: number) {\n  return x < min ? min : x > max ? max : x;\n}\n\n/** `max` is exclusive */\nexport function rand(max?: number): number {\n  return max !== _ ? (random() * max) | 0 : random();\n}\n\n/** Get the number in range [from  to], at t. */\nexport function lerp(from: number, to: number, t: number) {\n  return from * (1 - t) + to * t;\n}\n", "/**\n * Borrow from lib0/mutex.\n * ```js\n * const mux = mutex()\n * mux(() => {\n *   // do something\n *   mux(() => {\n *     // cannot do anything\n *   }, () => {\n *     // fallback if cannot do something\n *   })\n * })\n * ```\n */\nexport function mutex() {\n  let token = true;\n  return (f: () => void, g?: () => void) => {\n    if (token) {\n      token = false;\n      try {\n        f();\n      } finally {\n        token = true;\n      }\n    } else if (g) {\n      g();\n    }\n  };\n}\n", "import { _ } from \"./misc\";\n\n/**\n * Save you a try-catch.\n * ```js\n * const [ok, err] = await go(fetch(...))\n * if (err) {\n *   console.error(err)\n * }\n * ```\n */\nexport async function go<T>(p: Promise<T>): Promise<[Awaited<T>, _] | [_, Error]> {\n  try {\n    return [await p, _];\n  } catch (err) {\n    return [_, err];\n  }\n}\n", "import { First, Last } from \"./array\";\nimport { pow } from \"./math\";\nimport { isFunction, noop, safeNotEqual, _ } from \"./misc\";\n\nexport interface Readable<T = any> {\n  readonly value: T;\n  readonly subs: Set<(v: T) => void>;\n  subscribe(sub: (v: T) => void): () => void;\n}\ntype R<T = any> = Readable<T>;\n\nexport interface Writable<T = any> extends Readable<T> {\n  set(value: T): void;\n}\n\n/**\n * This is somewhat a BehaviorSubject in Rx.\n * If the value is `undefined`, the immediate invoke of the subscribe callback will not happen.\n * Use with caution that every `Val` holds a `subs` and a `value`.\n *\n * If you want to derive / pipe a Val to another, use `combine`, `derived`, `pipe`, `connect`.\n * When in doubt, just use `combine` and `derived`.\n */\nexport class Val<T = any> implements Writable<T> {\n  declare value: T;\n  declare readonly subs: Set<(v: T) => void>;\n  constructor(value?: T) {\n    this.value = value as T;\n    this.subs = new Set();\n  }\n  set(value: T) {\n    if (safeNotEqual(this.value, value)) {\n      this.value = value;\n      this.subs.forEach((sub) => sub(value));\n    }\n  }\n  subscribe(sub: (v: T) => void): () => void {\n    this.subs.add(sub);\n    this.value !== _ && sub(this.value);\n    return () => this.subs.delete(sub);\n  }\n}\n\n/**\n * For more complex usage, see https://github.com/crimx/value-enhancer\n * ```js\n * let count$ = writable(0)\n * count$.subscribe(console.log) // logs: 0\n * count$.set(1)                 // logs: 1\n * count$.value                  // 1\n * ```\n */\nexport function writable<T = any>(value?: T): Writable<T> {\n  return new Val(value);\n}\n\n/**\n * ```js\n * let count$ = writable(0)\n * update(count$, c => c + 1)\n * ```\n */\nexport function update<T = any>(v: Writable<T>, fn: (v: T) => T) {\n  v.set(fn(v.value));\n}\n\n/**\n * Add subscriber to the subscription list but do not invoke it immediately.\n */\nexport function reaction<T = any>(v: Readable<T>, fn: (v: T) => void): () => void {\n  v.subs.add(fn);\n  return () => v.subs.delete(fn);\n}\n\n/**\n * Clear all subscriptions.\n */\nexport function reset(v: Readable) {\n  v.subs.clear();\n}\n\n/**\n * Clear all subscriptions.\n */\nexport function resetAll(vs: Readable[]) {\n  vs.forEach(reset);\n}\n\n/**\n * Tell if a reactive value is not ready (no first value).\n */\nexport function notReady(v: Readable) {\n  return v.value === _;\n}\n\nexport type ValueOf<Val> = Val extends Readable<infer T> ? T : never;\n\nexport type ValuesOf<Vs extends Readable[]> = { [K in keyof Vs]: ValueOf<Vs[K]> };\n\n/**\n * Maximum 53 inputs! Why? see https://mdn.io/MAX_SAFE_INTEGER\n * ```js\n * const foo$ = writable(0)\n * const bar$ = writable('a')\n * const foobar$ = combine([foo$, bar$])\n * foobar$.subscribe(console.log) // logs: [0, 'a']\n * ```\n */\nexport function combine<Vs extends Readable[] = Readable[]>(values: [...Vs]): Readable<[...ValuesOf<Vs>]> {\n  const inner = writable();\n  const value = Array(values.length);\n  let count = 0;\n  let total = pow(2, values.length) - 1;\n  values.forEach(function (val, i) {\n    const bit = pow(2, i);\n    return val.subscribe(function (v) {\n      value[i] = v;\n      count |= bit;\n      if (count === total) {\n        inner.set(value);\n      }\n    });\n  });\n  return inner;\n}\n\n/**\n * Same as `combine`, but with transformer.\n * ```js\n * let sum$ = derived([foo$, bar$], ([foo, bar]) => foo + bar)\n * ```\n */\nexport function derived<T = any, Vs extends Readable[] = Readable[]>(\n  values: [...Vs],\n  fn: (vs: ValuesOf<Vs>, set: (v: T) => void) => (() => void) | void,\n  initial?: T\n): Readable<T>;\nexport function derived<T = any, Vs extends Readable[] = Readable[]>(\n  values: [...Vs],\n  fn: (vs: ValuesOf<Vs>) => T,\n  initial?: T\n): Readable<T>;\nexport function derived<T = any, Vs extends Readable[] = Readable[]>(\n  values: [...Vs],\n  fn: (vs: ValuesOf<Vs>, set: (v: T) => void) => any,\n  initial?: T\n): Readable<T> {\n  const auto = fn.length < 2;\n  const inner = writable(initial);\n  const set = inner.set.bind(inner);\n  const inputs = Array(values.length) as ValuesOf<Vs>;\n  let clean = noop;\n  let count = 0;\n  let total = pow(2, values.length) - 1;\n  values.forEach(function (val, i) {\n    const bit = pow(2, i);\n    return val.subscribe(function (v) {\n      inputs[i] = v;\n      count |= bit;\n      if (count === total) {\n        clean();\n        const result = fn(inputs, set);\n        if (auto) {\n          set(result as T);\n        } else {\n          clean = isFunction(result) ? result : noop;\n        }\n      }\n    });\n  });\n  return inner;\n}\n\n/**\n * ```js\n * let foo$ = writable(0)\n * let bar$ = writable()\n * bar$.subscribe(console.log) // no log\n * connect(foo$, bar$)         // logs: 0\n * foo$.set(1)                 // logs: 1\n * assert(foo$.value === bar$.value)\n * ```\n */\nexport function connect(from: Readable, to: Writable) {\n  return from.subscribe(to.set.bind(to));\n}\n\n/**\n * ```js\n * let addThree: Operator<number> = sub => value => sub(value + 3)\n * ```\n */\nexport interface Operator<In = any, Out = In> {\n  (sub: (v: Out) => void): (v: In) => void;\n}\ntype O<i, o> = Operator<i, o>;\ntype In<O> = O extends Operator<infer In, any> ? In : never;\ntype Out<O> = O extends Operator<any, infer Out> ? Out : never;\n\nexport function mergeOps<Os extends Operator[] = Operator[]>(\n  ops: [...Os]\n): Operator<In<First<Os>>, Out<Last<Os>>> {\n  return (sub) => ops.reduceRight((value, sub) => sub(value), sub) as any;\n}\n\n/**\n * ```js\n * let foo$ = writable(0)\n * let addThree = sub => value => sub(value + 3)\n * pipe(foo$, [addThree]).subscribe(console.log) // logs: 3\n * ```\n */\nexport function pipe<T, O1>(from: R<T>, ops: [O<T, O1>]): R<O1>;\nexport function pipe<T, O1, O2>(from: R<T>, ops: [O<T, O1>, O<O1, O2>]): R<O2>;\nexport function pipe<T, O1, O2, O3>(from: R<T>, ops: [O<T, O1>, O<O1, O2>, O<O2, O3>]): R<O3>;\nexport function pipe<T, O1, O2, O3, O4>(from: R<T>, ops: [O<T, O1>, O<O1, O2>, O<O2, O3>, O<O3, O4>]): R<O4>;\nexport function pipe<T, Os extends Operator[] = Operator[]>(from: R<T>, ops: [...Os]): R<Out<Last<Os>>>;\nexport function pipe<T = any, Os extends Operator[] = Operator[]>(from: Readable<T>, ops: [...Os]): any {\n  const inner = writable();\n  const project = mergeOps(ops)(inner.set.bind(inner)) as (v: T) => void;\n  from.subscribe(project);\n  return inner;\n}\n\nexport function map<T, K>(transform: (v: T) => K): Operator<T, K> {\n  return (sub) => (v) => sub(transform(v));\n}\n\nexport function filter<T>(predicate: (v: T) => boolean): Operator<T, T> {\n  return (sub) => (v) => predicate(v) && sub(v);\n}\n\nexport function scan<T, K>(scanner: (acc: T, v: K) => T, cur: T): Operator<K, T> {\n  return (sub) => (v) => sub((cur = scanner(cur, v)));\n}\n", "import { isFunction } from \"./misc\";\n\n/**\n * ```js\n * const disposers = disposable()\n * disposers.push(effect())\n * return disposers.flush\n * ```\n */\nexport function disposable() {\n  const disposers: (() => void)[] = [];\n\n  function push(f: () => void) {\n    disposers.push(f);\n  }\n\n  function flush() {\n    disposers.forEach((f) => f());\n    disposers.length = 0;\n  }\n\n  return { push, flush };\n}\n\n/**\n * ```js\n * const runner = singleton()\n * runner.run(effect1)\n * runner.run(effect2) // triggers effect1's flush before effect2\n * return runner.flush\n * ```\n */\nexport function singleton() {\n  let cleanup: (() => void) | void;\n\n  function run(effect: () => (() => void) | void) {\n    flush();\n    cleanup = effect();\n    if (!isFunction(cleanup)) cleanup = void 0;\n  }\n\n  function flush() {\n    if (cleanup) {\n      cleanup();\n      cleanup = undefined;\n    }\n  }\n\n  return { run, flush };\n}\n", "const decoder = /* @__PURE__ */ new TextDecoder();\nexport function decode(buffer: Uint8Array) {\n  return decoder.decode(buffer);\n}\n\nconst encoder = /* @__PURE__ */ new TextEncoder();\nexport function encode(string: string) {\n  return encoder.encode(string);\n}\n\n/**\n * ```js\n * hash('') // 0\n * hash('a') // 97\n * hash('ab') // 3135\n * ```\n */\nexport function hash(s: string): number {\n  for (var i = s.length - 1, h = 0; i >= 0; --i) {\n    h = (Math.imul(31, h) + s.charCodeAt(i)) | 0;\n  }\n  return h;\n}\n\nexport function slash(s: string) {\n  return s.replace(/\\\\/g, \"/\");\n}\n", "import { observable } from '@hyrious/utils'\n\nexport const emitter = observable<{\n  // esbuild is just loaded, should rebuild now\n  ready: void\n  // notify to reload esbuild by version, triggering \"status\" and \"ready\"\n  reload: string\n  // show status message\n  status: string\n}>()\n", "import { is_client } from '../helpers/dom'\n\ninterface Query {\n  version?: string\n  t?: string // transform input, like 'let a = 1'\n  b?: { entry: boolean; path: string; content: string }[] // build input, multiple 'e,path,content'\n  o?: string // options, can be '--minify' or '{minify:true}' (json5 value)\n  i?: string[] // installed npm packages, like '&i=jquery&i=react'\n  d?: true // debug\n}\n\nfunction json_parse(raw: any, def: any = {}): any {\n  try {\n    return JSON.parse(raw)\n  } catch (e) {\n    return def\n  }\n}\n\nexport function load_query(): Query {\n  const search = new URLSearchParams(is_client ? location.search : '')\n\n  const query: Query = Object.create(null)\n\n  const version = search.get('version')\n  if (version && /^\\d[.\\d]+$/.test(version)) query.version = version\n\n  const shareable = search.get('shareable')\n  if (shareable) {\n    const legacy = json_parse(decodeURIComponent(atob(shareable))) as {\n      code?: string\n      config?: Record<string, any>\n      modules?: { name: string; code: string; isEntry: boolean }[]\n    }\n    if (legacy.code) query.t = legacy.code\n    if (legacy.config) query.o = JSON.stringify(legacy.config, null, 2)\n    if (legacy.modules)\n      query.b = legacy.modules.map((m) => ({\n        entry: m.isEntry,\n        path: m.name,\n        content: m.code,\n      }))\n  }\n\n  if (search.get('mode') === 'build') {\n    const modules = search.get('modules')\n    if (modules) {\n      query.b = json_parse(modules, []).map((e: any) => ({\n        entry: Boolean(e[2]),\n        path: e[0],\n        content: e[1],\n      }))\n    }\n  } else {\n    const input = search.get('input')\n    if (input) query.t = input\n  }\n\n  const options = search.get('o') || search.get('options') || search.get('buildOptions')\n  if (options) query.o = options\n  if (search.get('mode') === 'build' && query.o) {\n    try {\n      const obj = JSON.parse(query.o)\n      obj.outdir = '/'\n      obj.packages = 'external'\n      obj.allowOverwrite = true\n      query.o = JSON.stringify(obj, null, 2)\n    } catch {\n      // ignore parsing error\n    }\n  }\n\n  if (search.has('d') || search.has('debug')) query.d = true\n\n  const t = search.get('t')\n  if (t) query.t = t\n\n  const b = search.getAll('b')\n  if (b.length > 0) {\n    query.b = []\n    for (const raw of b) {\n      const [entry, path, content] = raw.split('\\0')\n      query.b.push({ entry: entry === 'e', path, content })\n    }\n  }\n\n  const i = search.getAll('i')\n  if (i.length > 0) query.i = i\n\n  const hash = is_client ? location.hash.slice(1) : ''\n  if (hash) {\n    const parts = atob(hash).split('\\0')\n\n    if (parts[0] === 't' && parts.length === 4) {\n      query.version = parts[1]\n      query.o = parts[2]\n      query.t = parts[3]\n    }\n\n    if (parts[0] === 'b' && parts.length % 3 === 0) {\n      query.version = parts[1]\n      query.o = parts[2]\n      query.b = []\n      for (let i = 3; i < parts.length; i += 3) {\n        query.b.push({ entry: parts[i] === 'e', path: parts[i + 1], content: parts[i + 2] })\n      }\n    }\n  }\n\n  return query\n}\n\nexport function save_query(mode: string, query: Query): void {\n  if (!is_client) return\n\n  const search = new URLSearchParams()\n\n  if (query.version && query.version !== 'latest') search.set('version', query.version)\n\n  if (mode === 'transform' && query.t) search.set('t', query.t)\n\n  if (mode === 'build' && query.b) {\n    for (const { entry, path, content } of query.b) {\n      search.append('b', (entry ? 'e' : '') + '\\0' + path + '\\0' + content)\n    }\n    if (query.i) {\n      for (const spec of query.i) search.append('i', spec)\n    }\n  }\n\n  if (query.o) search.set('o', query.o)\n\n  if (query.d) search.set('d', '1')\n\n  const base = location.pathname\n  const suffix = search.toString()\n  history.replaceState({}, '', suffix ? base + '?' + suffix : base)\n}\n", "export async function fetch_versions(name: string): Promise<string[]> {\n  try {\n    const url = `https://data.jsdelivr.com/v1/package/npm/${name}`\n    const { versions } = await fetch(url).then((r) => r.json())\n    if (versions && versions.length) {\n      return versions\n    }\n  } catch (err) {\n    console.error(err)\n  }\n\n  try {\n    const url = `https://registry.npmjs.org/${name}`\n    const { versions } = await fetch(url).then((r) => r.json())\n    if (versions) {\n      return Object.keys(versions).reverse()\n    }\n  } catch (err) {\n    console.error(err)\n  }\n\n  throw new Error(`Failed to fetch versions for ${name}`)\n}\n", "import { get, writable } from 'svelte/store'\nimport { emitter } from './global'\nimport { load_query } from './behaviors/query'\nimport { fetch_versions } from './helpers/versions'\n\nexport const theme = writable<'light' | 'dark'>('dark')\n// @ts-expect-error 'matchMedia' may not exist\nif (is_client && window.matchMedia) {\n  const query = matchMedia('(prefers-color-scheme: dark)')\n  const update = () => theme.set(query.matches ? 'dark' : 'light')\n  query.addEventListener('change', update)\n  update()\n  theme.subscribe((value) => {\n    document.documentElement.dataset.theme = value\n  })\n}\n\nexport const initial_query = load_query()\n\nexport const version = writable(initial_query.version || 'latest')\n\nexport const versions = writable<string[]>([])\nif (is_client) {\n  fetch_versions('esbuild-wasm').then(\n    ($versions) => {\n      // esbuild-repl only works after 0.9.0\n      const index_of_0_9_0 = $versions.indexOf('0.9.0')\n      if (index_of_0_9_0 >= 0) {\n        $versions = $versions.slice(0, index_of_0_9_0 + 1)\n      }\n      versions.set($versions)\n      if (get(version) === 'latest') {\n        version.set($versions[0])\n      }\n    },\n    () => {\n      status.set('Failed to fetch versions.')\n    },\n  )\n}\n\nexport const mode = writable<'transform' | 'build'>(initial_query.b ? 'build' : 'transform')\nexport const input = writable(initial_query.t || 'let a = 1')\nexport const files = writable(initial_query.b || [{ entry: true, path: 'entry.js', content: '' }])\nexport const options = writable(initial_query.o || '')\n\nexport interface InstalledPackage {\n  name: string\n  version: string\n  files: { path: string; content: string }[]\n}\nexport const installed = writable<InstalledPackage[]>([])\n\nexport const ready = writable(0, (set) => {\n  let next = 1\n  emitter.on('ready', () => set(next++))\n})\n\nimport type { IPCResponse } from './ipc'\nimport { is_client } from './helpers/dom'\nexport const output = writable<IPCResponse | null>(null)\n\nexport const status = writable('Loading esbuild\u2026', (set) => emitter.on('status', set))\nif (is_client) {\n  output.subscribe((result) => {\n    if (result) {\n      if (result.duration_) status.set(`Finished in ${result.duration_.toFixed(2)}ms`)\n      else status.set('')\n    }\n  })\n}\n\nexport const debug = writable(import.meta.env.DEV || initial_query.d)\n\nif (is_client) {\n  Object.assign(window, {\n    stores: { theme, version, versions, mode, input, files, options, installed, output, status, debug },\n  })\n}\n", "<script lang=\"ts\">\n  import { onMount } from 'svelte'\n  import { emitter } from '../global'\n  import { mode, theme, version, versions } from '../stores'\n  import { load_query } from '../behaviors/query'\n\n  function toggle_theme() {\n    $theme = $theme === 'dark' ? 'light' : 'dark'\n  }\n\n  async function share(ev: MouseEvent) {\n    try {\n      const url = ev.shiftKey ? share_as_rollup() : ev.altKey ? share_as_esbuild_try() : location.href\n      await navigator.clipboard.writeText(url)\n      alert('Shareable URL has been copied to clipboard.')\n    } catch (err) {\n      console.error(err)\n      alert(err + '')\n    }\n  }\n\n  function share_as_rollup() {\n    const query = load_query()\n    let modules: { name: string; code: string; isEntry: boolean }[] | null = null\n    if (query.t) {\n      modules = [{ name: 'main.js', code: query.t, isEntry: true }]\n    }\n    if (query.b) {\n      modules = query.b.map(({ entry, path, content }) => ({ name: path, code: content, isEntry: entry }))\n    }\n    if (modules) {\n      const shareable = { example: null, modules, options: { output: { format: 'es' }, treeshake: true } }\n      return `https://rollupjs.org/repl/?shareable=${btoa(encodeURIComponent(JSON.stringify(shareable)))}`\n    } else {\n      throw new Error('no code to share')\n    }\n  }\n\n  function share_as_esbuild_try() {\n    const query = load_query()\n    let parts: string[] | null = null\n    if (query.t) {\n      parts = ['t', $version, query.o || '', query.t]\n    }\n    if (query.b) {\n      parts = ['b', $version, query.o || '']\n      for (const { entry, path, content } of query.b) {\n        parts.push(entry ? 'e' : '', path, content)\n      }\n    }\n    if (parts) {\n      const shareable = btoa(parts.join('\\0')).replace(/=+$/, '')\n      return `https://esbuild.github.io/try/#${shareable}`\n    } else {\n      throw new Error('no code to share')\n    }\n  }\n\n  onMount(() =>\n    version.subscribe(($version) => {\n      if ($version !== 'latest') emitter.emit('reload', $version)\n    }),\n  )\n</script>\n\n<header>\n  <h1>\n    <a href=\"https://esbuild.github.io\" target=\"_blank\" rel=\"noreferrer\">esbuild</a>\n    <span>.</span>\n    <a href=\"https://github.com/hyrious/esbuild-repl\" target=\"_blank\">repl</a>\n  </h1>\n  <nav>\n    <label style:width=\"90px\" title=\"esbuild.transform(code)\">\n      <input type=\"radio\" name=\"mode\" value=\"transform\" bind:group={$mode} />\n      <span>Transform</span>\n    </label>\n    <label style:width=\"50px\" title=\"esbuild.build(options)\">\n      <input type=\"radio\" name=\"mode\" value=\"build\" bind:group={$mode} />\n      <span>Build</span>\n    </label>\n    <sup>\n      <a href=\"https://esbuild.github.io/api/#overview\" target=\"_blank\" rel=\"noreferrer\">[?]</a>\n    </sup>\n  </nav>\n  <select title=\"change version\" bind:value={$version}>\n    {#if $versions.length}\n      {#each $versions as version}\n        <option value={version}>{version}</option>\n      {/each}\n    {:else}\n      <option value={$version} disabled selected>{$version}</option>\n    {/if}\n  </select>\n  <div class=\"buttons\">\n    <a\n      class=\"btn\"\n      href=\"https://github.com/hyrious/esbuild-repl\"\n      target=\"_blank\"\n      title=\"hyrious/esbuild-repl\"\n    >\n      <i class=\"i-mdi-github\" />\n    </a>\n    <button\n      data-share\n      class=\"btn\"\n      title=\"share (press shift for rollup, alt/option for esbuild.try)\"\n      on:click={share}\n    >\n      <i class=\"i-mdi-share-variant\" />\n    </button>\n    <button class=\"btn\" title=\"theme: {$theme}\" on:click={toggle_theme}>\n      <i class={$theme === 'dark' ? 'i-mdi-moon-waxing-crescent' : 'i-mdi-white-balance-sunny'} />\n    </button>\n  </div>\n</header>\n\n<style>\n  header {\n    display: flex;\n    padding: 25px 50px 0;\n    gap: 5px;\n  }\n  header h1 {\n    margin: 0;\n    display: inline-flex;\n    font-size: 16px;\n    padding-left: 25px;\n    background: url(../favicon.svg) no-repeat 0 center/20px;\n  }\n  header h1 a {\n    text-decoration: none;\n  }\n  header h1 a:hover {\n    color: var(--fg-on);\n    text-decoration: underline;\n  }\n  header nav {\n    flex-grow: 1;\n    display: inline-flex;\n  }\n  header nav label {\n    position: relative;\n    text-align: center;\n  }\n  header nav label:hover span {\n    color: var(--fg-on);\n  }\n  header nav label:has(:checked) span {\n    color: var(--fg-on);\n    font-weight: 700;\n    border-bottom: 2px solid var(--active);\n  }\n  header nav label input {\n    appearance: none;\n    position: absolute;\n    inset: 0;\n    cursor: pointer;\n  }\n  header nav sup {\n    position: relative;\n    top: -4px;\n    vertical-align: top;\n    font-size: 0.7em;\n  }\n  header nav sup a {\n    text-decoration: none;\n  }\n  header nav sup a:hover {\n    color: var(--fg-on);\n    text-decoration: underline;\n  }\n  header select {\n    appearance: none;\n    background: none;\n    border: none;\n    padding: 0 5px;\n    color: inherit;\n    font: 14px/20px 'Noto Sans Mono', monospace;\n    cursor: pointer;\n  }\n  header select:hover {\n    color: var(--fg-on);\n  }\n  header select option {\n    background: var(--bg);\n    color: var(--fg);\n  }\n  .buttons {\n    display: inline-flex;\n    gap: 5px;\n  }\n  .btn {\n    appearance: none;\n    background: none;\n    border: none;\n    padding: 0 5px;\n    display: inline-flex;\n    color: inherit;\n    font-size: 20px;\n    cursor: pointer;\n  }\n  .btn:hover {\n    color: var(--fg-on);\n  }\n  @media (max-width: 800px) {\n    header {\n      padding: 25px 25px 0;\n    }\n    header h1,\n    header nav sup,\n    header select {\n      display: none;\n    }\n    header nav label:first-child {\n      text-align: left;\n    }\n  }\n  @media (max-width: 300px) {\n    .buttons > *:not([data-share]) {\n      display: none;\n    }\n  }\n</style>\n", "<script lang=\"ts\">\n  import type { Action } from 'svelte/action'\n  import { clamp } from '@hyrious/utils'\n  import { stop } from '../helpers/dom'\n\n  export let show = true\n\n  let pos = 50\n  let dragging = false\n  let left = 0\n  let width = 0\n  let offsetX = 0\n\n  const measure: Action = function measure(node: HTMLElement) {\n    const refresh = () => {\n      const rect = node.getBoundingClientRect()\n      const padding = parseInt(getComputedStyle(node).paddingLeft) || 0\n      left = rect.left + padding\n      width = rect.width - padding * 2\n    }\n\n    const observer = new ResizeObserver(refresh)\n    observer.observe(node)\n    refresh()\n\n    return {\n      destroy() {\n        observer.disconnect()\n      },\n    }\n  }\n\n  const drag: Action<HTMLElement, (ev: PointerEvent) => void> = function drag(node, callback) {\n    const down = (event: PointerEvent) => {\n      if (!event.isPrimary) return\n\n      stop(event)\n      node.setPointerCapture(event.pointerId)\n      dragging = true\n\n      const r = (event.currentTarget as HTMLElement).getBoundingClientRect()\n      offsetX = event.clientX - r.left - r.width / 2\n\n      const up = () => {\n        dragging = false\n        node.releasePointerCapture(event.pointerId)\n        window.removeEventListener('pointermove', callback, false)\n        window.removeEventListener('pointerup', up, false)\n        window.removeEventListener('pointercancel', up, false)\n      }\n\n      window.addEventListener('pointermove', callback, false)\n      window.addEventListener('pointerup', up, false)\n      window.addEventListener('pointercancel', up, false)\n    }\n\n    node.addEventListener('pointerdown', down)\n\n    return {\n      destroy() {\n        node.removeEventListener('pointerdown', down)\n      },\n    }\n  }\n\n  function move(event: PointerEvent) {\n    const px = event.clientX - left - offsetX\n    pos = clamp((100 * px) / width, 0, 100)\n  }\n</script>\n\n<section style={show ? '' : 'display: none'} use:measure>\n  <div class=\"left\" style:width={pos + '%'}>\n    <slot name=\"left\" />\n  </div>\n  <div class=\"divider\" style:left=\"calc({pos}% - 12.5px)\" use:drag={move} />\n  <div class=\"right\" style:width={100 - pos + '%'}>\n    <slot name=\"right\" />\n  </div>\n</section>\n<div class=\"mask\" style={dragging ? '' : 'display: none'} />\n\n<style>\n  section {\n    display: flex;\n    position: relative;\n    height: fit-content;\n  }\n  .divider {\n    position: absolute;\n    width: 25px;\n    height: calc(max(100dvh - 150px, 100%));\n    cursor: col-resize;\n    z-index: 10;\n    touch-action: none;\n  }\n  .divider::after {\n    content: '';\n    position: absolute;\n    inset-inline-start: 11.5px;\n    inline-size: 2px;\n    block-size: 100%;\n    background: var(--active);\n  }\n  .mask {\n    position: absolute;\n    inset: 0;\n  }\n  @media (max-width: 800px) {\n    section {\n      display: block;\n    }\n    section div:not(.divider) {\n      width: auto !important;\n    }\n    .divider {\n      position: static;\n      width: auto;\n      height: auto;\n      pointer-events: none;\n      border-bottom: 2px solid var(--active);\n    }\n    .divider::after {\n      content: none;\n    }\n  }\n</style>\n", "// Credits: https://github.com/esbuild/esbuild.github.io/blob/main/src/try/options.ts\n// This file parses the API options textbox into a JS object that can be passed\n// to esbuild's JS API. It supports both CLI-style options (e.g. \"--minify\")\n// and JS-style options (e.g. \"{ minify: true \"). JS-style options are parsed\n// using a loose JSON syntax that's basically JSON5 with regular expressions.\n\nimport type { TransformOptions, BuildOptions } from \"esbuild\"\n\nexport const enum Mode {\n  Transform = 'transform',\n  Build = 'build',\n}\n\nexport type RichError = Error & { location_?: Location, notes_: { text_: string, location_?: Location }[] }\n\nexport function prettyPrintErrorAsStderr(err: RichError): string {\n  let text = `\\x1B[31m\u2718 \\x1B[41;31m[\\x1B[41;97mERROR\\x1B[41;31m]\\x1B[0m \\x1B[1m${(err && err.message) || err}\\x1B[0m`\n  const location = err && err.location_\n  const notes = err && err.notes_\n  if (location) text += prettyPrintLocationAsStderr(location)\n  if (notes) {\n    for (const note of notes) {\n      text += `\\n  ${note.text_}`\n      if (note.location_) text += prettyPrintLocationAsStderr(note.location_)\n    }\n  }\n  return text\n}\n\nfunction prettyPrintLocationAsStderr({ file_, line_, column_, length_, lineText_, suggestion_ }: Location): string {\n  let last = length_ < 2 ? '^' : '~'.repeat(length_)\n  let result = `\\n\\n    ${file_}:${line_}:${column_}:\\n`\n  result += `\\x1B[37m${line_.toString().padStart(7)} \u2502 ${lineText_.slice(0, column_)}` +\n    `\\x1B[32m${lineText_.slice(column_, column_ + length_)}` +\n    `\\x1B[37m${lineText_.slice(column_ + length_)}\\n`\n  if (suggestion_) {\n    result += `        \u2502 ${' '.repeat(column_)}\\x1B[32m${last}\\x1B[37m\\n`\n    last = suggestion_\n  }\n  result += `        \u2575 ${' '.repeat(column_)}\\x1B[32m${last}\\x1B[0m\\n`\n  return result\n}\n\ninterface Location {\n  file_: string\n  line_: number // 1-based\n  column_: number // 0-based, in UTF-16 code units\n  length_: number // in UTF-16 code units\n  lineText_: string\n  suggestion_?: string\n}\n\nconst enum Kind {\n  // These must be in the order \"-,:[]{}+\"\n  Minus,\n  Comma,\n  Colon,\n  OpenBracket,\n  CloseBracket,\n  OpenBrace,\n  CloseBrace,\n  Plus,\n\n  // The order doesn't matter for these\n  Identifier,\n  Literal,\n  String,\n}\n\ninterface Token {\n  line_: number\n  column_: number\n  kind_: Kind\n  text_: string\n  value_: any\n}\n\nconst commaSeparatedArrays = [\n  'resolveExtensions',\n  'mainFields',\n  'conditions',\n  'target',\n  'dropLabels',\n]\n\nexport function parseOptions(input: string, mode: Mode): Record<string, any> {\n  const trimmed = input.trimStart()\n  if (!trimmed) return {}\n  if (/^{|^\\/[*/]/.test(trimmed)) return parseOptionsAsLooseJSON(input)\n\n  const options = parseOptionsAsShellArgs(input, mode)\n\n  type OptionKey = keyof BuildOptions | keyof TransformOptions\n\n  const toString = (key: OptionKey): void => {\n    if (options[key] !== undefined && typeof options[key] !== 'string') {\n      options[key] = options[key] + ''\n    }\n  }\n\n  const toRegExp = (key: OptionKey): void => {\n    if (options[key] !== undefined) {\n      try {\n        options[key] = new RegExp(options[key] + '')\n      } catch (err) {\n        key = key.replace(/[A-Z]/g, x => '-' + x.toLowerCase()) as OptionKey\n        throw new Error(`Invalid regular expression for \"--${key}=\": ${err.message}`)\n      }\n    }\n  }\n\n  const toBooleanValues = (key: OptionKey): void => {\n    if (options[key] !== undefined && typeof options[key] === 'object') {\n      const record = options[key]\n      for (const key in record) {\n        record[key] = record[key] === 'true' ? true : record[key] === 'false' ? false : record[key]\n      }\n    }\n  }\n\n  const toNumber = (key: OptionKey): void => {\n    if (options[key] !== undefined) {\n      if (Number.isNaN(+options[key])) {\n        throw new Error(`Invalid number for \"--${key}=\": ${options[key]}`)\n      }\n      options[key] = +options[key]\n    }\n  }\n\n  const toJSON = (key: OptionKey): void => {\n    if (options[key] !== undefined) {\n      try {\n        options[key] = JSON.parse(options[key])\n      } catch {\n        // ignore\n      }\n    }\n  }\n\n  // Fix string options which may have been parsed as booleans\n  toString('legalComments')\n\n  // These need to be regular expressions, not strings or booleans\n  toRegExp('mangleProps')\n  toRegExp('reserveProps')\n\n  toBooleanValues('mangleCache')\n  toBooleanValues('supported')\n\n  toNumber('logLimit')\n  toNumber('lineLimit')\n  toJSON('tsconfigRaw')\n\n  // These need to be arrays, not comma-separated strings or booleans\n  for (const key of commaSeparatedArrays) {\n    if (options[key] !== undefined) {\n      options[key] = (options[key] + '').split(',')\n    }\n  }\n\n  return options\n}\n\nfunction parseOptionsAsShellArgs(input: string, mode: Mode): Record<string, any> {\n  type Arg = { text_: string, line_: number, column_: number, length_: number }\n  const args: Arg[] = []\n  const n = input.length\n  let line = 0\n  let lineStart = 0\n  let i = 0\n\n  while (i < n) {\n    const argStart = i\n    const argLine = line\n    const argColumn = i - lineStart\n    let arg = ''\n    let c = input[i]\n\n    // Skip over whitespace\n    if (c === ' ' || c === '\\t' || c === '\\n') {\n      i++\n      if (c === '\\n') {\n        line++\n        lineStart = i\n      }\n      continue\n    }\n\n    // Scan a single argument\n    while (i < n) {\n      c = input[i]\n      if (c === ' ' || c === '\\t' || c === '\\n') break\n      i++\n\n      // Handle unquoted backslashes\n      if (c === '\\\\' && i < n) {\n        c = input[i++]\n        if (c === '\\n') {\n          line++\n          lineStart = i\n        } else {\n          arg += c\n        }\n      }\n\n      // Handle single quotes\n      else if (c === '\\'') {\n        const openLine = line\n        const openColumn = i - lineStart - 1\n        while (true) {\n          if (i === n) throwNoClosingQuoteError(input, '\\'', openLine, openColumn, line, i - lineStart)\n          c = input[i++]\n          if (c === '\\'') break\n          if (c === '\\\\' && i < n && input[i] !== '\\'') {\n            c = input[i++]\n            if (c === '\\n') {\n              line++\n              lineStart = i\n              continue\n            }\n          }\n          if (c === '\\n') {\n            line++\n            lineStart = i\n          }\n          arg += c\n        }\n      }\n\n      // Handle double quotes\n      else if (c === '\"') {\n        const openLine = line\n        const openColumn = i - lineStart - 1\n        while (true) {\n          if (i === n) throwNoClosingQuoteError(input, '\"', openLine, openColumn, line, i - lineStart)\n          c = input[i++]\n          if (c === '\"') break\n          if (c === '\\\\' && i < n) {\n            c = input[i++]\n            if (c === '\\n') {\n              line++\n              lineStart = i\n              continue\n            }\n          }\n          if (c === '\\n') {\n            line++\n            lineStart = i\n          }\n          arg += c\n        }\n      }\n\n      // Handle other unquoted characters\n      else {\n        arg += c\n      }\n    }\n\n    args.push({\n      text_: arg,\n      line_: argLine,\n      column_: argColumn,\n      length_: i - argStart,\n    })\n  }\n\n  const entryPoints: (string | { in: string, out: string })[] = []\n  const output: Record<string, any> = Object.create(null)\n\n  const kebabCaseToCamelCase = (text: string, arg: Omit<Arg, 'text_'>): string => {\n    if (text !== text.toLowerCase())\n      throwRichError(input, 'Invalid CLI-style flag: ' + JSON.stringify('--' + text),\n        arg.line_, arg.column_, text.length + 2)\n    return text.replace(/-(\\w)/g, (_, x) => x.toUpperCase())\n  }\n\n  // Convert CLI-style options to JS-style options\n  for (const { text_: text, ...arg } of args) {\n    const equals = text.indexOf('=')\n\n    if (text.startsWith('--')) {\n      const colon = text.indexOf(':')\n\n      // Array element\n      if (colon >= 0 && equals < 0) {\n        const key = kebabCaseToCamelCase(text.slice(2, colon), arg)\n        const value = text.slice(colon + 1)\n        if (!(key in output) || !Array.isArray(output[key])) {\n          output[key] = []\n        }\n        output[key].push(value)\n      }\n\n      // Map element\n      else if (colon >= 0 && colon < equals) {\n        const key1 = kebabCaseToCamelCase(text.slice(2, colon), arg)\n        const key2 = text.slice(colon + 1, equals)\n        const value = text.slice(equals + 1)\n        if (!(key1 in output) || typeof output[key1] !== 'object' || Array.isArray(output[key1])) {\n          output[key1] = Object.create(null)\n        }\n        output[key1][key2] = value\n      }\n\n      // Key value\n      else if (equals >= 0) {\n        const value = text.slice(equals + 1)\n        output[kebabCaseToCamelCase(text.slice(2, equals), arg)] =\n          value === 'true' ? true : value === 'false' ? false : value\n      }\n\n      // Bare boolean\n      else {\n        output[kebabCaseToCamelCase(text.slice(2), arg)] = true\n      }\n    }\n\n    // Invalid flag\n    else if (text.startsWith('-') || mode === Mode.Transform) {\n      throwRichError(input, 'All CLI-style flags must start with \"--\"', arg.line_, arg.column_, arg.length_)\n    }\n\n    // Entry point\n    else {\n      output['entryPoints'] = entryPoints\n      entryPoints.push(equals < 0 ? text : { in: text.slice(equals + 1), out: text.slice(0, equals) })\n    }\n  }\n\n  return output\n}\n\nfunction parseOptionsAsLooseJSON(input: string): Record<string, any> {\n  const throwUnexpectedToken = (): never => {\n    const what =\n      token.kind_ === Kind.String ? 'string' :\n        (token.kind_ === Kind.Identifier ? 'identifier ' : '') +\n        JSON.stringify(token.text_)\n    return throwRichError(input, `Unexpected ${what} in ${where}`, token.line_, token.column_, token.text_.length)\n  }\n\n  const throwExpectedAfter = (token: Token, expected: string, after: string): never => {\n    return throwRichError(input, `Expected \"${expected}\" after ${after} in ${where}`,\n      token.line_, token.column_ + token.text_.length, 0, '', 0, 0, 0, expected)\n  }\n\n  const nextToken = (expectEndOfFile = false): void => {\n    while (i < n) {\n      const tokenLine = line\n      const tokenColumn = i - lineStart\n      let c = input[i]\n\n      // Newlines\n      if (c === '\\n') {\n        line++\n        lineStart = ++i\n        continue\n      }\n\n      // Whitespace\n      if (c === ' ' || c === '\\t') {\n        i++\n        continue\n      }\n\n      if (c === '/') {\n        const start = i++\n\n        // Single-line comments\n        if (i < n && input[i] === '/') {\n          i++\n          while (i < n && input[i] !== '\\n') i++\n          continue\n        }\n\n        // Multi-line comments\n        if (i < n && input[i] === '*') {\n          i++\n          while (true) {\n            if (i === n) {\n              throwRichError(input,\n                'Expected \"*/\" to terminate multi-line comment', line, i - lineStart, 0,\n                'The multi-line comment starts here:', tokenLine, tokenColumn, 2, '*/')\n            }\n            c = input[i++]\n            if (c === '\\n') {\n              line++\n              lineStart = i\n            } else if (c === '*' && i < n && input[i] === '/') {\n              i++\n              break\n            }\n          }\n          continue\n        }\n\n        // RegExp\n        let openBracket = 0\n        while (true) {\n          if (i === n || input[i] === '\\n') {\n            if (openBracket)\n              throwRichError(input,\n                'Expected \"]\" to terminate character class', line, i - lineStart, 0,\n                'The character class starts here:', line, openBracket - lineStart, 1, ']')\n            else\n              throwRichError(input,\n                'Expected \"/\" to terminate regular expression', line, i - lineStart, 0,\n                'The regular expression starts here:', tokenLine, tokenColumn, 1, '/')\n          }\n          c = input[i++]\n          if (c === '/' && !openBracket) break\n          else if (c === ']' && openBracket) openBracket = 0\n          else if (c === '[') openBracket = i - 1\n          else if (c === '\\\\' && i < n && input[i] !== '\\n') i++\n        }\n        while (i < n && /\\w/.test(input[i])) i++ // Also scan over any trailing flags\n        const text = input.slice(start, i)\n        let value: any\n        try {\n          value = (0, eval)(text)\n        } catch {\n          throwRichError(input, `Invalid regular expression in ${where}`, tokenLine, tokenColumn, i - start)\n        }\n        token = { line_: tokenLine, column_: tokenColumn, kind_: Kind.Literal, text_: text, value_: value }\n        return\n      }\n\n      // End of file\n      if (expectEndOfFile) {\n        throwRichError(input, `Expected end of file after ${where}`, line, i - lineStart, 0)\n      }\n\n      // Punctuation\n      const index = '-,:[]{}+'.indexOf(c)\n      if (index >= 0) {\n        i++\n        token = { line_: tokenLine, column_: tokenColumn, kind_: index as Kind, text_: c, value_: c }\n        return\n      }\n\n      // Number\n      if (c === '.' || (c >= '0' && c <= '9')) {\n        const number = /^[.\\w]$/\n        const start = i++\n        while (i < n && number.test(input[i])) i++\n        const text = input.slice(start, i)\n        if (!/\\d/.test(text)) {\n          i = start // Undo if this was a \".\"\n        } else {\n          const value = +text\n          if (value !== value) {\n            throwRichError(input, `Invalid number \"${text}\" in ${where}`, tokenLine, tokenColumn, i - start)\n          }\n          token = { line_: tokenLine, column_: tokenColumn, kind_: Kind.Literal, text_: text, value_: value }\n          return\n        }\n      }\n\n      // Identifier\n      const identifier = /^[\\w$]$/\n      if (identifier.test(c)) {\n        const start = i++\n        while (i < n && identifier.test(input[i])) i++\n        const text = input.slice(start, i)\n        let kind = Kind.Literal\n        let value: any = text\n        if (text === 'null') value = null\n        else if (text === 'true') value = true\n        else if (text === 'false') value = false\n        else if (text === 'undefined') value = undefined\n        else if (text === 'Infinity') value = Infinity\n        else if (text === 'NaN') value = NaN\n        else kind = Kind.Identifier\n        token = { line_: tokenLine, column_: tokenColumn, kind_: kind, text_: text, value_: value }\n        return\n      }\n\n      // String\n      if (c === '\"' || c === '\\'') {\n        const start = i++\n        while (true) {\n          if (i === n || input[i] === '\\n') throwNoClosingQuoteError(input, c, tokenLine, tokenColumn, line, i - lineStart)\n          if (input[i] === '\\\\' && i + 1 < n) {\n            i += 2\n            if (input[i - 1] === '\\n') {\n              line++\n              lineStart = i\n            }\n          }\n          else if (input[i++] === c) break\n        }\n        const text = input.slice(start, i)\n        let value: any\n        try {\n          value = (0, eval)(text)\n        } catch {\n          throwRichError(input, `Invalid string in ${where}`, tokenLine, tokenColumn, i - start)\n        }\n        token = { line_: tokenLine, column_: tokenColumn, kind_: Kind.String, text_: text, value_: value }\n        return\n      }\n\n      throwRichError(input, `Unexpected ${JSON.stringify(c)} in ${where}`, line, i - lineStart, 1)\n    }\n\n    if (!expectEndOfFile) {\n      throwRichError(input, `Unexpected end of file in ${where}`, line, i - lineStart, 0)\n    }\n  }\n\n  const parseExpression = (): any => {\n    if (token.kind_ as number === Kind.OpenBrace) {\n      const object: Record<string, any> = Object.create(null)\n      while (true) {\n        nextToken()\n        if (token.kind_ === Kind.CloseBrace) break\n        if (token.kind_ !== Kind.String && token.kind_ !== Kind.Identifier) throwUnexpectedToken()\n        const key = token\n        nextToken()\n        if (token.kind_ !== Kind.Colon) throwExpectedAfter(key, ':', 'property ' + JSON.stringify(key.value_))\n        nextToken()\n        object[key.value_] = parseExpression()\n        const beforeComma = token\n        nextToken()\n        if (token.kind_ as number === Kind.CloseBrace) break\n        if (token.kind_ !== Kind.Comma) throwExpectedAfter(beforeComma, ',', 'property ' + JSON.stringify(key.value_))\n      }\n      return object\n    }\n\n    if (token.kind_ as number === Kind.OpenBracket) {\n      const array: any[] = []\n      let element = 0\n      while (true) {\n        nextToken()\n        if (token.kind_ === Kind.CloseBracket) break\n        if (token.kind_ as number !== Kind.Comma) {\n          array[element++] = parseExpression()\n          const beforeComma = token\n          nextToken()\n          if (token.kind_ as number === Kind.CloseBracket) break\n          if (token.kind_ !== Kind.Comma) throwExpectedAfter(beforeComma, ',', 'array element')\n        } else {\n          array.length = ++element\n        }\n      }\n      return array\n    }\n\n    if (token.kind_ === Kind.Literal || token.kind_ === Kind.String) return token.value_\n    if (token.kind_ === Kind.Plus) return nextToken(), +parseExpression()\n    if (token.kind_ === Kind.Minus) return nextToken(), -parseExpression()\n    return throwUnexpectedToken()\n  }\n\n  // This is not really JSON5 because it supports regular expressions too, but\n  // saying it's JSON5 is likely the most concise way to communicate the format\n  const where = 'JSON5 value'\n  const n = input.length\n  let line = 0\n  let lineStart = 0\n  let i = 0\n  let token: Token\n\n  nextToken()\n  const root = parseExpression()\n  nextToken(true)\n  return root\n}\n\nfunction throwRichError(\n  input: string,\n  text: string, line: number, column: number, length: number,\n  noteText = '', noteLine = 0, noteColumn = 0, noteLength = 0,\n  suggestion?: string,\n): never {\n  const lines = input.split('\\n')\n  const err = new Error(text) as RichError\n  err.location_ = {\n    file_: '<options>',\n    line_: line + 1,\n    column_: column,\n    length_: length,\n    lineText_: lines[line],\n    suggestion_: suggestion,\n  }\n  if (noteText) {\n    err.notes_ = [{\n      text_: noteText,\n      location_: {\n        file_: '<options>',\n        line_: noteLine + 1,\n        column_: noteColumn,\n        length_: noteLength,\n        lineText_: lines[noteLine],\n      },\n    }]\n  }\n  throw err\n}\n\nfunction throwNoClosingQuoteError(\n  input: string, quote: string,\n  openLine: number, openColumn: number,\n  closeLine: number, closeColumn: number,\n): never {\n  const kind = quote === '\"' ? 'double' : 'single'\n  throwRichError(input,\n    `Failed to find the closing ${kind} quote`, closeLine, closeColumn, 0,\n    `The opening ${kind} quote is here:`, openLine, openColumn, 1, quote)\n}\n\nexport function printOptionsAsShellArgs(options: Record<string, any>): string {\n  const quoteForShell = (text: string): string => {\n    if (!/[ \\t\\n\\\\'\"]/.test(text)) return text\n    return '\"' + text.replace(/\\\\/g, '\\\\\\\\').replace(/\"/g, '\\\\\"') + '\"'\n  }\n\n  const camelCaseToKebabCase = (text: string): string => {\n    return text.replace(/[A-Z]/g, x => '-' + x.toLowerCase())\n  }\n\n  const args: string[] = []\n\n  for (const key in options) {\n    const kebabKey = camelCaseToKebabCase(key)\n    const it = options[key]\n    const type = typeof it\n\n    if (type === 'string' || type === 'boolean' || type === 'number' || it === null) {\n      args.push(it === true ? '--' + kebabKey : `--${kebabKey}=${it}`)\n    }\n\n    else if (Array.isArray(it)) {\n      if (commaSeparatedArrays.includes(key)) {\n        args.push(`--${kebabKey}=${it}`)\n      } else {\n        for (const x of it) {\n          if (key === 'entryPoints') {\n            if (typeof x === 'object' && x !== null && typeof x.in === 'string' && typeof x.out === 'string') {\n              args.push(`${x.out}=${x.in}`)\n            } else {\n              args.push(x)\n            }\n          } else {\n            args.push(`--${kebabKey}:${x}`)\n          }\n        }\n      }\n    }\n\n    else if (it instanceof RegExp) {\n      args.push(`--${kebabKey}=${it.source}`)\n    }\n\n    else if (key === 'tsconfigRaw') {\n      args.push(`--${kebabKey}=${JSON.stringify(it)}`)\n    }\n\n    else if (type === 'object') {\n      for (const prop in it) {\n        args.push(`--${kebabKey}:${prop}=${it[prop]}`)\n      }\n    }\n\n    else {\n      throw new Error(`Cannot convert option ${key} to a command line argument`)\n    }\n  }\n\n  return args.map(quoteForShell).join(' ')\n}\n\nexport function printOptionsAsLooseJSON(options: Record<string, any>): string {\n  const printForJSON5 = (it: any, indent: string, allowNewline = true): string => {\n    const type = typeof it\n\n    if (type === 'string') {\n      const text = it.replace(/\\\\/g, '\\\\\\\\').replace(/\\n/g, '\\\\n')\n      const single = text.split('\\'')\n      const double = text.split('\"')\n      return double.length < single.length ? '\"' + double.join('\\\\\"') + '\"' : '\\'' + single.join(\"\\\\'\") + '\\''\n    }\n\n    if (type === 'boolean' || type === 'number' || it instanceof RegExp) {\n      return it + ''\n    }\n\n    const nextIndent = indent + '  '\n    if (Array.isArray(it)) {\n      // Format \"entryPoints\" on one line unless the extended \"{ in, out }\"\n      // syntax is used. And in that case, format on multiple lines but format\n      // each \"{ in, out }\" object on one line.\n      const oneLine = it.every(x => typeof x === 'string')\n      let result = '['\n      for (const value of it) {\n        result += result === '[' ? oneLine ? '' : '\\n' + nextIndent : oneLine ? ', ' : nextIndent\n        result += printForJSON5(value, nextIndent, false)\n        if (!oneLine) result += ',\\n'\n      }\n      if (result !== '[' && !oneLine) result += indent\n      return result + ']'\n    }\n\n    let result = '{'\n    for (const key in it) {\n      const value = it[key]\n      result += result === '{' ? allowNewline ? '\\n' + nextIndent : ' ' : allowNewline ? nextIndent : ', '\n      result += `${/^[A-Za-z$_][A-Za-z0-9$_]*$/.test(key) ? key : printForJSON5(key, '')}: ${printForJSON5(value, nextIndent)}`\n      if (allowNewline) result += ',\\n'\n    }\n    if (result !== '{') result += allowNewline ? indent : ' '\n    return result + '}'\n  }\n\n  return printForJSON5(options, '')\n}\n", "// Credits: https://github.com/esbuild/esbuild.github.io/blob/main/src/try/ipc.ts\nimport { emitter } from './global'\n\nexport interface OutputFile {\n  readonly path: string\n  readonly contents: Uint8Array\n}\n\nexport type IPCRequest = TransformRequest | BuildRequest\nexport type IPCResponse = TransformResponse & BuildResponse\n\nexport interface TransformRequest {\n  command_: 'transform'\n  input_: string\n  options_: Record<string, any>\n}\n\nexport interface TransformResponse {\n  code_?: string\n  map_?: string\n  mangleCache_?: Record<string, string | boolean>\n  legalComments_?: string\n  stderr_?: string\n  duration_?: number\n}\n\nexport interface BuildRequest {\n  command_: 'build'\n  input_: Record<string, string>\n  options_: Record<string, any>\n}\n\nexport interface BuildResponse {\n  outputFiles_?: OutputFile[]\n  metafile_?: Record<string, any>\n  mangleCache_?: Record<string, string | boolean>\n  stderr_?: string\n  duration_?: number\n}\n\ninterface Task {\n  message_: any\n  resolve_: (value: any) => void\n  abort_: () => void\n}\n\nlet workerText: Promise<string> | null = null\nlet activeTask: Task | null = null\nlet pendingTask: Task | null = null\n\nlet on_reload: (version: string) => Promise<Worker> = async () => null as any\nemitter.on('reload', (version) => on_reload(version))\n\nlet workerPromise = new Promise<Worker>((resolve, reject) => {\n  on_reload = (version) => {\n    const reloadPromise = reloadWorker(version)\n    reloadPromise.then(resolve, reject)\n    on_reload = (version) => {\n      workerPromise.then((worker) => worker.terminate())\n      workerPromise = reloadWorker(version)\n      return workerPromise\n    }\n    return reloadPromise\n  }\n})\n\nconst do_fetch: typeof fetch = (url, options) => {\n  emitter.emit('status', `Fetching ${url}`)\n  return fetch(url, options)\n}\n\nasync function packageFetch(subpath: string): Promise<Response> {\n  const controller = new AbortController()\n  const timeout = setTimeout(() => controller.abort('Timeout'), 5000)\n\n  // Try to fetch from one CDN, but fall back to another CDN if that fails\n  try {\n    const response = await do_fetch(`https://cdn.jsdelivr.net/npm/${subpath}`)\n    if (response.ok) {\n      clearTimeout(timeout)\n      return response\n    }\n  } catch (err) {\n    console.error(err)\n  }\n  return do_fetch(`https://unpkg.com/${subpath}`)\n}\n\nasync function reloadWorker(version: string): Promise<Worker> {\n  let loadingFailure: string | undefined\n  emitter.emit('status', `Loading esbuild ${version}\u2026`)\n\n  try {\n    if (activeTask) activeTask.abort_()\n    if (pendingTask) pendingTask.abort_()\n    activeTask = null\n    pendingTask = null\n\n    // \"browser.min.js\" was added in version 0.8.33\n    const [major, minor, patch] = version.split('.').map((x) => +x)\n    const min = major === 0 && (minor < 8 || (minor === 8 && patch < 33)) ? '' : '.min'\n\n    const [workerJS, esbuildJS, esbuildWASM] = await Promise.all([\n      (workerText ||= fetch('worker.js').then((r) => r.text())),\n      packageFetch(`esbuild-wasm@${version}/lib/browser${min}.js`).then((r) => r.text()),\n      packageFetch(`esbuild-wasm@${version}/esbuild.wasm`).then((r) => r.arrayBuffer()),\n    ])\n    setupLocal(esbuildJS, esbuildWASM.slice(0))\n\n    const i = workerJS.lastIndexOf('//# sourceMappingURL=')\n    const workerJSWithoutSourceMap = i >= 0 ? workerJS.slice(0, i) : workerJS\n    const parts = [esbuildJS, workerJSWithoutSourceMap]\n    const url = URL.createObjectURL(new Blob(parts, { type: 'application/javascript' }))\n\n    return await new Promise<Worker>((resolve, reject) => {\n      const worker = new Worker(url)\n      worker.onmessage = (e) => {\n        worker.onmessage = null\n        if (e.data.status_ === 'success') {\n          resolve(worker)\n          emitter.emit('status', 'Loaded esbuild ' + version)\n          emitter.emit('ready')\n        } else {\n          reject(new Error('Failed to create worker'))\n          loadingFailure = e.data.error_\n        }\n        URL.revokeObjectURL(url)\n      }\n      worker.postMessage([version, esbuildWASM], [esbuildWASM])\n    })\n  } catch (err) {\n    emitter.emit('status', loadingFailure || err + '')\n    throw err\n  }\n}\n\nlet script: HTMLScriptElement | null = null\nfunction setupLocal(js: string, wasm: ArrayBuffer): void {\n  const url = URL.createObjectURL(new Blob([js], { type: 'application/javascript' }))\n  if (script) script.remove()\n  script = document.createElement('script')\n  script.onload = async () => {\n    const esbuild: typeof import('esbuild') = (window as any).esbuild\n    const options = { wasmURL: URL.createObjectURL(new Blob([wasm], { type: 'application/wasm' })) }\n    if ((esbuild as any).startService) {\n      await (esbuild as any).startService(options)\n    } else {\n      await esbuild.initialize(options)\n    }\n    console.log('loaded esbuild @', esbuild.version, esbuild)\n  }\n  script.src = url\n  document.head.appendChild(script)\n}\n\nexport function sendIPC(message: IPCRequest): Promise<IPCResponse> {\n  function activateTask(worker: Worker, task: Task): void {\n    if (activeTask) {\n      if (pendingTask) pendingTask.abort_()\n      pendingTask = task\n    } else {\n      activeTask = task\n      worker.onmessage = (e) => {\n        worker.onmessage = null\n        task.resolve_(e.data)\n        activeTask = null\n        if (pendingTask) {\n          activateTask(worker, pendingTask)\n          pendingTask = null\n        }\n      }\n      worker.postMessage(task.message_)\n    }\n  }\n\n  return new Promise((resolve, reject) => {\n    workerPromise.then(\n      (worker) =>\n        activateTask(worker, {\n          message_: message,\n          resolve_: resolve,\n          abort_: () => reject(new Error('Task aborted')),\n        }),\n      reject,\n    )\n  })\n}\n", "const BYTE_UNITS = [\n\t'B',\n\t'kB',\n\t'MB',\n\t'GB',\n\t'TB',\n\t'PB',\n\t'EB',\n\t'ZB',\n\t'YB',\n];\n\nconst BIBYTE_UNITS = [\n\t'B',\n\t'KiB',\n\t'MiB',\n\t'GiB',\n\t'TiB',\n\t'PiB',\n\t'EiB',\n\t'ZiB',\n\t'YiB',\n];\n\nconst BIT_UNITS = [\n\t'b',\n\t'kbit',\n\t'Mbit',\n\t'Gbit',\n\t'Tbit',\n\t'Pbit',\n\t'Ebit',\n\t'Zbit',\n\t'Ybit',\n];\n\nconst BIBIT_UNITS = [\n\t'b',\n\t'kibit',\n\t'Mibit',\n\t'Gibit',\n\t'Tibit',\n\t'Pibit',\n\t'Eibit',\n\t'Zibit',\n\t'Yibit',\n];\n\n/*\nFormats the given number using `Number#toLocaleString`.\n- If locale is a string, the value is expected to be a locale-key (for example: `de`).\n- If locale is true, the system default locale is used for translation.\n- If no value for locale is specified, the number is returned unmodified.\n*/\nconst toLocaleString = (number, locale, options) => {\n\tlet result = number;\n\tif (typeof locale === 'string' || Array.isArray(locale)) {\n\t\tresult = number.toLocaleString(locale, options);\n\t} else if (locale === true || options !== undefined) {\n\t\tresult = number.toLocaleString(undefined, options);\n\t}\n\n\treturn result;\n};\n\nexport default function prettyBytes(number, options) {\n\tif (!Number.isFinite(number)) {\n\t\tthrow new TypeError(`Expected a finite number, got ${typeof number}: ${number}`);\n\t}\n\n\toptions = {\n\t\tbits: false,\n\t\tbinary: false,\n\t\tspace: true,\n\t\t...options,\n\t};\n\n\tconst UNITS = options.bits\n\t\t? (options.binary ? BIBIT_UNITS : BIT_UNITS)\n\t\t: (options.binary ? BIBYTE_UNITS : BYTE_UNITS);\n\n\tconst separator = options.space ? ' ' : '';\n\n\tif (options.signed && number === 0) {\n\t\treturn ` 0${separator}${UNITS[0]}`;\n\t}\n\n\tconst isNegative = number < 0;\n\tconst prefix = isNegative ? '-' : (options.signed ? '+' : '');\n\n\tif (isNegative) {\n\t\tnumber = -number;\n\t}\n\n\tlet localeOptions;\n\n\tif (options.minimumFractionDigits !== undefined) {\n\t\tlocaleOptions = {minimumFractionDigits: options.minimumFractionDigits};\n\t}\n\n\tif (options.maximumFractionDigits !== undefined) {\n\t\tlocaleOptions = {maximumFractionDigits: options.maximumFractionDigits, ...localeOptions};\n\t}\n\n\tif (number < 1) {\n\t\tconst numberString = toLocaleString(number, options.locale, localeOptions);\n\t\treturn prefix + numberString + separator + UNITS[0];\n\t}\n\n\tconst exponent = Math.min(Math.floor(options.binary ? Math.log(number) / Math.log(1024) : Math.log10(number) / 3), UNITS.length - 1);\n\tnumber /= (options.binary ? 1024 : 1000) ** exponent;\n\n\tif (!localeOptions) {\n\t\tnumber = number.toPrecision(3);\n\t}\n\n\tconst numberString = toLocaleString(Number(number), options.locale, localeOptions);\n\n\tconst unit = UNITS[exponent];\n\n\treturn prefix + numberString + separator + unit;\n}\n", "import type { Action } from 'svelte/action'\nimport { noop } from '@hyrious/utils'\nimport { is_client, stop } from './dom'\n\nconst hljs = is_client ? new Worker('hljs.js') : null\n\ninterface Request {\n  id: number\n  code: string\n  lang?: string\n}\n\ninterface Response {\n  id: number\n  value: string\n}\n\nconst Tasks = new Map<number, (value: string) => void>()\n\nhljs?.addEventListener('message', (ev: MessageEvent<Response>) => {\n  const { id, value } = ev.data\n  const task = Tasks.get(id)\n  if (task) {\n    task(value)\n    Tasks.delete(id)\n  }\n})\n\nlet id = 1\n\nfunction request(code: string, lang?: string): Promise<string> {\n  if (!hljs) return new Promise(noop)\n  let resolve!: (value: string) => void\n  const task = new Promise<string>((r) => (resolve = r))\n  Tasks.set(id, resolve)\n  hljs.postMessage({ id, code, lang } satisfies Request)\n  id++\n  return task\n}\n\nclass Task {\n  cancelled = false\n  constructor(readonly node: HTMLElement, readonly token: number) {}\n  replaceInnerHTML = (html: string): void => {\n    clearTimeout(this.token)\n    if (!this.cancelled) {\n      this.node.innerHTML = html\n    }\n  }\n  cancel() {\n    clearTimeout(this.token)\n    this.cancelled = true\n  }\n}\n\ninterface Params {\n  code?: string\n  loader?: string\n}\n\nconst MAX_CODE_SIZE = 100_000 // 100 KB\n\nexport const highlight: Action<HTMLElement, Params> = function highlight(node, params) {\n  let activeTask: Task | null = null\n\n  const update = ({ code, loader }: Params) => {\n    if (activeTask) {\n      activeTask.cancel()\n      activeTask = null\n    }\n    if (code && code.length > MAX_CODE_SIZE) {\n      node.innerText = code\n      return\n    }\n    if (code) {\n      activeTask = new Task(\n        node,\n        setTimeout(() => {\n          node.innerText = code\n        }, 50),\n      )\n      request(code, loader).then(activeTask.replaceInnerHTML)\n    } else {\n      node.innerText = ''\n    }\n  }\n  const select_all = (event: MouseEvent) => {\n    stop(event)\n    const range = document.createRange()\n    range.selectNodeContents(node)\n    const selection = window.getSelection()\n    if (selection) {\n      selection.removeAllRanges()\n      selection.addRange(range)\n    }\n  }\n  const destroy = () => {\n    node.removeEventListener('dblclick', select_all)\n    if (activeTask) {\n      activeTask.cancel()\n      activeTask = null\n    }\n  }\n\n  node.addEventListener('dblclick', select_all)\n  update(params)\n\n  return { update, destroy }\n}\n", "<script lang=\"ts\">\n  import { createEventDispatcher } from 'svelte'\n  import prettyBytes from 'pretty-bytes'\n  import { highlight } from '../helpers/hljs'\n\n  export let header = false\n  export let rows = 1\n  export let name = ''\n  export let label = ''\n  export let content = ''\n  export let size = 0\n  export let placeholder = ''\n  export let entry = false\n  export let readonly = false\n  export let lang = ''\n\n  const dispatch = createEventDispatcher()\n\n  function guess_lang(name: string) {\n    if (name.endsWith('.css')) return 'css'\n    if (name.endsWith('.map') || name.endsWith('.json')) return 'json'\n    return 'js'\n  }\n</script>\n\n<article data-label={label}>\n  {#if header || $$slots.header}\n    <slot name=\"header\">\n      <header class:entry>\n        {#if readonly}\n          <input placeholder=\"<stdout>\" spellcheck=\"false\" value={name} readonly />\n          {#if size}<span class=\"size\">{prettyBytes(size, { binary: true })}</span>{/if}\n        {:else}\n          <button class=\"entry\" title=\"entry: {entry ? 'yes' : 'no'}\" on:click={() => (entry = !entry)}>\n            <i class={entry ? 'i-mdi-checkbox-marked-outline' : 'i-mdi-checkbox-blank-outline'} />\n          </button>\n          <input placeholder=\"<stdin>\" spellcheck=\"false\" bind:value={name} />\n          <button class=\"remove\" title=\"remove {name || 'it'}\" on:click={() => dispatch('remove')}>\n            <i class=\"i-mdi-close\" />\n          </button>\n        {/if}\n      </header>\n    </slot>\n  {/if}\n  {#if readonly}\n    {#if lang === 'raw'}\n      <pre>{content}</pre>\n    {:else if lang === 'comment'}\n      <pre class=\"hljs-comment\">{content}</pre>\n    {:else}\n      <pre use:highlight={{ code: content, loader: lang || guess_lang(name) }} />\n    {/if}\n  {:else}\n    <textarea class=\"editor\" {rows} spellcheck=\"false\" bind:value={content} {placeholder} />\n  {/if}\n</article>\n\n<style>\n  [data-label] {\n    position: relative;\n  }\n  [data-label]::after {\n    content: attr(data-label);\n    position: absolute;\n    right: 8px;\n    top: 5px;\n    font: var(--code-font);\n    opacity: 0.5;\n    font-weight: 700;\n    color: var(--fg);\n    pointer-events: none;\n  }\n  [data-label]:has(header)::after {\n    top: 29px;\n  }\n  article {\n    display: flex;\n    flex-direction: column;\n    color: var(--fg);\n  }\n  article:not(:last-child) {\n    margin-bottom: 10px;\n  }\n  header {\n    display: flex;\n    align-items: center;\n    margin-bottom: 4px;\n  }\n  header input {\n    flex: 1;\n    width: 100%;\n    appearance: none;\n    background: transparent;\n    border: none;\n    padding: 0 1px;\n    font: var(--code-font);\n    color: inherit;\n  }\n  header input[readonly] {\n    color: var(--fg-on);\n    font-weight: 700;\n  }\n  header input:focus {\n    outline: none;\n  }\n  header.entry input,\n  header.entry button.entry {\n    color: #58a549;\n  }\n  header.entry input {\n    font-weight: 700;\n  }\n  header button {\n    appearance: none;\n    display: inline-flex;\n    background: transparent;\n    border: none;\n    padding: 0;\n    cursor: pointer;\n    color: inherit;\n    font-size: 20px;\n    transition: opacity 0.2s;\n  }\n  button.entry {\n    position: absolute;\n    right: 100%;\n    z-index: 10;\n    opacity: 0;\n  }\n  :where(header:hover) button.entry {\n    opacity: 0.5;\n  }\n  header:focus-within button.entry,\n  header.entry button.entry,\n  button.entry:hover {\n    opacity: 1;\n  }\n  button.remove {\n    color: #e24834;\n    opacity: 0.5;\n  }\n  button.remove:hover {\n    opacity: 1;\n  }\n  span.size {\n    font: 14px/20px sans-serif;\n    font-variant-numeric: tabular-nums;\n    opacity: 0.5;\n  }\n  pre {\n    margin: 0;\n    padding: 9px; /* 8px + 1px border */\n    border-radius: 4px;\n    min-height: 34px;\n    font: var(--code-font);\n    background: var(--pre);\n    white-space: pre-wrap;\n    cursor: text;\n  }\n  @media (max-width: 800px) {\n    pre {\n      white-space: pre;\n    }\n  }\n  textarea {\n    appearance: none;\n    resize: none;\n    width: 100%;\n    font: var(--code-font);\n    color: inherit;\n    background: var(--pre);\n    border: 1px solid var(--border);\n    border-radius: 4px;\n    outline: none;\n    padding: 8px;\n  }\n  textarea:focus {\n    color: var(--fg-on);\n    border-color: var(--fg);\n  }\n</style>\n", "// prettier-ignore\nconst FLAGS: [string, string][] = [\n  ['--bundle',                 'Bundle all dependencies into the output files'],\n  ['--define:K=V',             'Substitute K with V while parsing'],\n  ['--external:M',             'Exclude module M from the bundle (can use * wildcards)'],\n  ['--format=...',             'Output format (iife | cjs | esm, no default when not bundling, otherwise default is iife when platform is browser and cjs when platform is node)'],\n  ['--loader:X=L',             'Use loader L to load file extension X, where L is one of: base64 | binary | copy | css | dataurl | empty | file | global-css | js | json | jsx | local-css | text | ts | tsx'],\n  ['--minify',                 'Minify the output (sets all --minify-* flags)'],\n  ['--outdir=...',             'The output directory (for multiple entry points)'],\n  ['--outfile=...',            'The output file (for one entry point)'],\n  ['--packages=...',           'Set to \"external\" to avoid bundling any package'],\n  ['--platform=...',           'Platform target (browser | node | neutral, default browser)'],\n  ['--sourcemap',              'Emit a source map'],\n  ['--splitting',              'Enable code splitting (currently only for esm)'],\n  ['--target=...',             'Environment target (e.g. es2017, chrome58, firefox57, safari11, edge16, node10, ie9, opera45, default esnext)'],\n  ['--allow-overwrite',        'Allow output files to overwrite input files'],\n  ['--asset-names=...',        'Path template to use for \"file\" loader files (default \"[name]-[hash]\")'],\n  ['--banner:T=...',           'Text to be prepended to each output file of type T where T is one of: css | js'],\n  ['--charset=utf8',           'Do not escape UTF-8 code points'],\n  ['--chunk-names=...',        'Path template to use for code splitting chunks (default \"[name]-[hash]\")'],\n  ['--color=...',              'Force use of color terminal escapes (true | false)'],\n  ['--drop:...',               'Remove certain constructs (console | debugger)'],\n  ['--drop-labels=...',        'Remove labeled statements with these label names'],\n  ['--entry-names=...',        'Path template to use for entry point output paths (default \"[dir]/[name]\", can also use \"[hash]\")'],\n  ['--footer:T=...',           'Text to be appended to each output file of type T where T is one of: css | js'],\n  ['--global-name=...',        'The name of the global for the IIFE format'],\n  ['--ignore-annotations',     'Enable this to work with packages that have incorrect tree-shaking annotations'],\n  ['--inject:F',               'Import the file F into all input files and automatically replace matching globals with imports'],\n  ['--jsx-dev',                'Use React\\'s automatic runtime in development mode'],\n  ['--jsx-factory=...',        'What to use for JSX instead of React.createElement'],\n  ['--jsx-fragment=...',       'What to use for JSX instead of React.Fragment'],\n  ['--jsx-import-source=...',  'Override the package name for the automatic runtime (default \"react\")'],\n  ['--jsx-side-effects',       'Do not remove unused JSX expressions'],\n  ['--jsx=...',                'Set to \"automatic\" to use React\\'s automatic runtime or to \"preserve\" to disable transforming JSX to JS'],\n  ['--keep-names',             'Preserve \"name\" on functions and classes'],\n  ['--legal-comments=...',     'Where to place legal comments (none | inline | eof | linked | external, default eof when bundling and inline otherwise)'],\n  ['--line-limit=...',         'Lines longer than this will be wrap onto a new line'],\n  ['--log-level=...',          'Disable logging (verbose | debug | info | warning | error | silent, default info)'],\n  ['--log-limit=...',          'Maximum message count or 0 to disable (default 6)'],\n  ['--log-override:X=Y',       'Use log level Y for log messages with identifier X'],\n  ['--main-fields=...',        'Override the main file order in package.json (default \"browser,module,main\" when platform is browser and \"main,module\" when platform is node)'],\n  ['--mangle-cache=...',       'Save \"mangle props\" decisions to a JSON file'],\n  ['--mangle-props=...',       'Rename all properties matching a regular expression'],\n  ['--mangle-quoted=...',      'Enable renaming of quoted properties (true | false)'],\n  ['--metafile=...',           'Write metadata about the build to a JSON file (see also: https://esbuild.github.io/analyze/)'],\n  ['--minify-whitespace',      'Remove whitespace in output files'],\n  ['--minify-identifiers',     'Shorten identifiers in output files'],\n  ['--minify-syntax',          'Use equivalent but shorter syntax in output files'],\n  ['--out-extension:.js=.mjs', 'Use a custom output extension instead of \".js\"'],\n  ['--outbase=...',            'The base path used to determine entry point output paths (for multiple entry points)'],\n  ['--public-path=...',        'Set the base URL for the \"file\" loader'],\n  ['--pure:N',                 'Mark the name N as a pure function for tree shaking'],\n  ['--reserve-props=...',      'Do not mangle these properties'],\n  ['--resolve-extensions=...', 'A comma-separated list of implicit extensions (default \".tsx,.ts,.jsx,.js,.css,.json\")'],\n  ['--source-root=...',        'Sets the \"sourceRoot\" field in generated source maps'],\n  ['--sourcefile=...',         'Set the source file for the source map (for stdin)'],\n  ['--sourcemap=external',     'Do not link to the source map with a comment'],\n  ['--sourcemap=inline',       'Emit the source map with an inline data URL'],\n  ['--sources-content=false',  'Omit \"sourcesContent\" in generated source maps'],\n  ['--supported:F=...',        'Consider syntax F to be supported (true | false)'],\n  ['--tree-shaking=...',       'Force tree shaking on or off (false | true)'],\n  ['--tsconfig=...',           'Use this tsconfig.json file instead of other ones'],\n  ['--tsconfig-raw=...',       'Use this tsconfig.json instead of other ones'],\n]\n\nconst BUILD_ONLY = [\n  '--bundle',\n  '--external',\n  '--outdir',\n  '--outfile',\n  '--packages',\n  '--splitting',\n  '--allow-overwrite',\n  '--asset-names',\n  '--chunk-names',\n  '--entry-names',\n  '--inject',\n  '--main-fields',\n  '--metafile',\n  '--out-extension',\n  '--outbase',\n  '--public-path',\n  '--resolve-extensions',\n  '--tsconfig',\n]\n\nconst TRANSFORM_ONLY = ['--tsconfig-raw']\n\nexport function filter(pattern: string, transform: boolean): [string, string][] {\n  const matches: typeof FLAGS = []\n  for (let [flag, desc] of FLAGS) {\n    if (flag.startsWith(pattern)) {\n      if (transform) {\n        // flags that not supported in transform mode\n        if (BUILD_ONLY.some((e) => flag.startsWith(e)) && !TRANSFORM_ONLY.some((e) => flag.startsWith(e)))\n          continue\n        // different syntax for some flags\n        if (flag.startsWith('--loader')) {\n          flag = '--loader=L'\n          desc = desc.replace('file extension X', 'file')\n        } else if (flag.startsWith('--banner') || flag.startsWith('--footer')) {\n          flag = flag.slice(0, flag.indexOf(':T')) + '=...'\n          desc = desc.slice(0, desc.indexOf(' of type T'))\n        }\n      }\n      matches.push([flag, desc])\n    }\n  }\n  return matches\n}\n", "<script lang=\"ts\">\n  import { createEventDispatcher } from 'svelte'\n  import { insertTextIntoField as insert, setFieldText as set } from 'text-field-edit'\n  import { Mode, parseOptions, printOptionsAsLooseJSON, printOptionsAsShellArgs } from '../helpers/options'\n  import { stop } from '../helpers/dom'\n  import { filter } from '../helpers/completion'\n  import { mode } from '../stores'\n\n  export let content = ''\n\n  $: is_json_like = /^{|^\\/[*/]/.test(content.trimStart())\n\n  const dispatch = createEventDispatcher()\n\n  let textarea: HTMLTextAreaElement\n\n  function format() {\n    const options = parseOptions(content, $mode === 'transform' ? Mode.Transform : Mode.Build)\n    if (is_json_like) {\n      set(textarea, printOptionsAsShellArgs(options))\n    } else {\n      set(textarea, printOptionsAsLooseJSON(options))\n    }\n  }\n\n  function enable_typescript_options() {\n    const options = parseOptions(content, $mode === 'transform' ? Mode.Transform : Mode.Build)\n    options.loader ||= 'ts'\n    if (['ts', 'tsx'].includes(options.loader)) {\n      options.tsconfigRaw = {\n        ...options.tsconfigRaw,\n        compilerOptions: {\n          ...options.tsconfigRaw?.compilerOptions,\n          useDefineForClassFields: false,\n          experimentalDecorators: true,\n          verbatimModuleSyntax: true,\n        },\n      }\n    }\n    if (is_json_like) {\n      set(textarea, printOptionsAsLooseJSON(options))\n    } else {\n      set(textarea, printOptionsAsShellArgs(options))\n    }\n  }\n\n  let comp_x = 0\n  let comp_y = 0\n  let comp_text = ''\n  let comp_info = ''\n  let comp_index = 0\n  let comp_items: [string, string][] = []\n  let comp_pattern = ''\n  let comp_ghost: HTMLPreElement | null = null\n  let comp_caret: HTMLSpanElement | null = null\n\n  function get_caret_position(textarea: HTMLTextAreaElement, before: string, after: string) {\n    if (!comp_ghost) {\n      comp_ghost = document.createElement('pre')\n      comp_ghost.style.position = 'absolute'\n      comp_ghost.style.top = '0'\n      comp_ghost.style.left = '0'\n      comp_ghost.style.visibility = 'hidden'\n      comp_ghost.style.border = '1px solid'\n      comp_ghost.style.padding = '8px'\n      comp_ghost.style.font = 'var(--code-font)'\n      comp_ghost.style.whiteSpace = 'pre-wrap'\n      comp_ghost.style.pointerEvents = 'none'\n    }\n\n    if (!comp_caret) {\n      comp_caret = document.createElement('span')\n    }\n\n    comp_ghost.innerText = ''\n    document.body.append(comp_ghost)\n    comp_ghost.style.width = textarea.clientWidth + 'px'\n    comp_ghost.append(before, comp_caret, after)\n\n    const parent = comp_ghost.getBoundingClientRect()\n    const caret = comp_caret.getBoundingClientRect()\n    comp_x = caret.x - parent.x\n    comp_y = caret.y - parent.y\n\n    comp_ghost.remove()\n  }\n\n  function refresh_comp_text() {\n    const [text, info] = comp_items[comp_index]\n    comp_text = text.slice(comp_pattern.length)\n    comp_info = comp_text ? info : ''\n  }\n\n  let is_mobile: MediaQueryList | null = null\n  function refresh_completions(event: Event) {\n    if (is_json_like) return clear_completions()\n\n    is_mobile ||= matchMedia('(max-width: 800px)')\n    if (is_mobile.matches) return clear_completions()\n\n    const textarea = event.target as HTMLTextAreaElement\n    const [start, end] = [textarea.selectionStart, textarea.selectionEnd]\n    if (start !== end) return clear_completions()\n\n    const text = textarea.value\n    const before = text.slice(0, start)\n    const after = text.slice(start)\n\n    const begin = before.lastIndexOf('--')\n    if (begin < 0) return clear_completions()\n\n    const pattern = before.slice(begin)\n    if (!/^[-\\w]+$/.test(pattern)) return clear_completions()\n\n    comp_pattern = pattern\n    comp_items = filter(pattern, $mode === 'transform')\n    if (comp_items.length) {\n      comp_index = 0\n      get_caret_position(textarea, before, after)\n      refresh_comp_text()\n    } else {\n      clear_completions()\n    }\n  }\n\n  function trigger_completions(event: KeyboardEvent) {\n    if (comp_text) {\n      if (\n        event.key === 'ArrowRight' ||\n        (event.key === 'Tab' && !event.shiftKey) ||\n        (event.key === 'Enter' && !event.ctrlKey && !event.shiftKey)\n      ) {\n        stop(event)\n        const match = comp_text.match(/^[-\\w]*(?:[:=][a-z]*)?/)\n        const text = match ? match[0] : ''\n        if (text) insert(event.target as HTMLTextAreaElement, text)\n        clear_completions()\n        return\n      }\n      if (event.key === 'ArrowUp' && comp_items.length) {\n        stop(event)\n        comp_index = (comp_index + comp_items.length - 1) % comp_items.length\n        refresh_comp_text()\n        return\n      }\n      if (event.key === 'ArrowDown' && comp_items.length) {\n        stop(event)\n        comp_index = (comp_index + 1) % comp_items.length\n        refresh_comp_text()\n        return\n      }\n      if (event.key === 'Escape') {\n        clear_completions()\n      }\n    }\n\n    if (event.key === ' ' && event.ctrlKey) {\n      stop(event)\n      refresh_completions(event)\n    }\n  }\n\n  function clear_completions() {\n    comp_text = ''\n    comp_info = ''\n  }\n</script>\n\n<article>\n  <div>\n    <aside style:left=\"{comp_x}px\" style:top=\"{comp_y}px\">\n      <span class=\"hint\">{comp_text}</span>\n      {#if comp_info}<span class=\"info\">[{comp_index + 1}/{comp_items.length}] {comp_info}</span>{/if}\n    </aside>\n    <textarea\n      bind:this={textarea}\n      data-options\n      class=\"editor\"\n      rows={1}\n      spellcheck=\"false\"\n      bind:value={content}\n      placeholder=\"e.g. --minify or {'{'} minify: true {'}'}\"\n      on:input={refresh_completions}\n      on:keydown|capture={trigger_completions}\n    />\n  </div>\n  <footer>\n    <button class=\"format\" on:click={format}>\n      <i class={is_json_like ? 'i-mdi-bash' : 'i-mdi-code-json'} />\n      <span>Switch to {is_json_like ? 'CLI' : 'JS'} syntax</span>\n    </button>\n    <button class=\"reload\" on:click={() => dispatch('reload')}>\n      <i class=\"i-mdi-reload\" />\n      <span>Reset options</span>\n    </button>\n    <button class=\"typescript\" on:click={enable_typescript_options} title=\"enable TypeScript options\">\n      <i class=\"i-mdi-language-typescript\" />\n    </button>\n  </footer>\n</article>\n\n<style>\n  article {\n    display: flex;\n    flex-direction: column;\n    color: var(--fg);\n  }\n  article:focus-within {\n    border-color: var(--fg);\n  }\n  div {\n    display: flex;\n    border-radius: 4px;\n    background: var(--pre);\n    position: relative;\n  }\n  textarea {\n    appearance: none;\n    resize: none;\n    width: 100%;\n    font: var(--code-font);\n    color: inherit;\n    border: 1px solid var(--border);\n    border-radius: 4px;\n    background: none;\n    outline: none;\n    padding: 8px;\n  }\n  textarea:focus {\n    color: var(--fg-on);\n    border-color: var(--fg);\n  }\n  aside {\n    position: absolute;\n    width: 400px;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    pointer-events: none;\n  }\n  aside span.hint {\n    opacity: 0.5;\n    font: var(--code-font);\n  }\n  aside span.info {\n    margin-top: 4px;\n    padding: 5px 8px;\n    background: var(--bg);\n    border: 1px solid var(--border);\n    border-radius: 4px;\n    box-shadow: 0 1px 5px 1px rgba(0, 0, 0, 0.1);\n    color: var(--fg-on);\n    font: 14px/20px sans-serif;\n    z-index: 10;\n    pointer-events: all;\n  }\n  footer {\n    display: flex;\n    justify-content: flex-end;\n    margin-top: 4px;\n  }\n  button {\n    appearance: none;\n    display: inline-flex;\n    background: transparent;\n    border: none;\n    padding: 0;\n    margin-left: 5px;\n    cursor: pointer;\n    color: inherit;\n    font-size: 20px;\n    opacity: 0.5;\n    transition: opacity 0.2s;\n  }\n  button:hover {\n    opacity: 1;\n  }\n  button span {\n    padding-left: 5px;\n    font: 14px/20px sans-serif;\n    white-space: nowrap;\n  }\n</style>\n", "<script type=\"ts\">\n  import { noop } from '@hyrious/utils'\n  import { mode, input, options, ready, output } from '../stores'\n  import { Mode, parseOptions, prettyPrintErrorAsStderr } from '../helpers/options'\n  import { send_input } from '../helpers/dom'\n  import { sendIPC } from '../ipc'\n  import Editor from './Editor.svelte'\n  import Options from './Options.svelte'\n\n  export let show = true\n\n  let transform_options = $mode === 'transform' ? $options : ''\n\n  $: if ($mode === 'transform') {\n    $options = transform_options\n\n    if ($ready) {\n      try {\n        sendIPC({\n          command_: 'transform',\n          input_: $input,\n          options_: parseOptions($options, Mode.Transform),\n        }).then(output.set, noop)\n      } catch (err) {\n        $output = { stderr_: prettyPrintErrorAsStderr(err) }\n      }\n    }\n  }\n\n  function reset_options() {\n    transform_options = ''\n    send_input('[data-options]')\n  }\n</script>\n\n<div data-transform style={show ? '' : 'display: none'}>\n  <Editor label=\"INPUT\" bind:content={$input} rows={2} placeholder=\"(enter your code here)\" />\n  <Options bind:content={transform_options} on:reload={reset_options} />\n</div>\n\n<style>\n  div {\n    display: flex;\n    flex-direction: column;\n  }\n</style>\n", "function promisifyRequest(request) {\n    return new Promise((resolve, reject) => {\n        // @ts-ignore - file size hacks\n        request.oncomplete = request.onsuccess = () => resolve(request.result);\n        // @ts-ignore - file size hacks\n        request.onabort = request.onerror = () => reject(request.error);\n    });\n}\nfunction createStore(dbName, storeName) {\n    const request = indexedDB.open(dbName);\n    request.onupgradeneeded = () => request.result.createObjectStore(storeName);\n    const dbp = promisifyRequest(request);\n    return (txMode, callback) => dbp.then((db) => callback(db.transaction(storeName, txMode).objectStore(storeName)));\n}\nlet defaultGetStoreFunc;\nfunction defaultGetStore() {\n    if (!defaultGetStoreFunc) {\n        defaultGetStoreFunc = createStore('keyval-store', 'keyval');\n    }\n    return defaultGetStoreFunc;\n}\n/**\n * Get a value by its key.\n *\n * @param key\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction get(key, customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => promisifyRequest(store.get(key)));\n}\n/**\n * Set a value with a key.\n *\n * @param key\n * @param value\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction set(key, value, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.put(value, key);\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Set multiple values at once. This is faster than calling set() multiple times.\n * It's also atomic \u2013 if one of the pairs can't be added, none will be added.\n *\n * @param entries Array of entries, where each entry is an array of `[key, value]`.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction setMany(entries, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        entries.forEach((entry) => store.put(entry[1], entry[0]));\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Get multiple values by their keys\n *\n * @param keys\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction getMany(keys, customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => Promise.all(keys.map((key) => promisifyRequest(store.get(key)))));\n}\n/**\n * Update a value. This lets you see the old value and update it as an atomic operation.\n *\n * @param key\n * @param updater A callback that takes the old value and returns a new value.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction update(key, updater, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => \n    // Need to create the promise manually.\n    // If I try to chain promises, the transaction closes in browsers\n    // that use a promise polyfill (IE10/11).\n    new Promise((resolve, reject) => {\n        store.get(key).onsuccess = function () {\n            try {\n                store.put(updater(this.result), key);\n                resolve(promisifyRequest(store.transaction));\n            }\n            catch (err) {\n                reject(err);\n            }\n        };\n    }));\n}\n/**\n * Delete a particular key from the store.\n *\n * @param key\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction del(key, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.delete(key);\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Delete multiple keys at once.\n *\n * @param keys List of keys to delete.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction delMany(keys, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        keys.forEach((key) => store.delete(key));\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Clear all values in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction clear(customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.clear();\n        return promisifyRequest(store.transaction);\n    });\n}\nfunction eachCursor(store, callback) {\n    store.openCursor().onsuccess = function () {\n        if (!this.result)\n            return;\n        callback(this.result);\n        this.result.continue();\n    };\n    return promisifyRequest(store.transaction);\n}\n/**\n * Get all keys in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction keys(customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => {\n        // Fast path for modern browsers\n        if (store.getAllKeys) {\n            return promisifyRequest(store.getAllKeys());\n        }\n        const items = [];\n        return eachCursor(store, (cursor) => items.push(cursor.key)).then(() => items);\n    });\n}\n/**\n * Get all values in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction values(customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => {\n        // Fast path for modern browsers\n        if (store.getAll) {\n            return promisifyRequest(store.getAll());\n        }\n        const items = [];\n        return eachCursor(store, (cursor) => items.push(cursor.value)).then(() => items);\n    });\n}\n/**\n * Get all entries in the store. Each entry is an array of `[key, value]`.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction entries(customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => {\n        // Fast path for modern browsers\n        // (although, hopefully we'll get a simpler path some day)\n        if (store.getAll && store.getAllKeys) {\n            return Promise.all([\n                promisifyRequest(store.getAllKeys()),\n                promisifyRequest(store.getAll()),\n            ]).then(([keys, values]) => keys.map((key, i) => [key, values[i]]));\n        }\n        const items = [];\n        return customStore('readonly', (store) => eachCursor(store, (cursor) => items.push([cursor.key, cursor.value])).then(() => items));\n    });\n}\n\nexport { clear, createStore, del, delMany, entries, get, getMany, keys, promisifyRequest, set, setMany, update, values };\n", "import * as idb from 'idb-keyval'\nimport { is_client } from './dom'\n\nconst NPM_PACKAGES = is_client ? idb.createStore('npm', 'packages') : undefined\n\nexport function get(name: string, version: string) {\n  return idb.get<Uint8Array>(`${name}@${version}`, NPM_PACKAGES)\n}\n\nexport function set(name: string, version: string, tgz: Uint8Array) {\n  return idb.set(`${name}@${version}`, tgz, NPM_PACKAGES)\n}\n\nif (is_client) {\n  Object.assign(window, {\n    NPM_PACKAGES,\n    idb: { get, set, NPM_PACKAGES },\n    cached: () => idb.keys(NPM_PACKAGES),\n  })\n}\n", "declare class DecompressionStream {\n  constructor(format: 'gzip' | 'deflate' | 'deflate-raw')\n  writable: WritableStream\n  readable: ReadableStream\n}\n\nfunction toUint8Array(data: ArrayBuffer): Uint8Array {\n  return new Uint8Array(data)\n}\n\nasync function packageFetch(subpath: string): Promise<Response> {\n  try {\n    const response = await fetch(`https://cdn.jsdelivr.net/npm/${subpath}`)\n    if (response.ok) return response\n  } catch {\n    // ignore\n  }\n  return fetch(`https://unpkg.com/${subpath}`)\n}\n\nasync function importScript(subpath: string, name: string): Promise<any> {\n  const response = await packageFetch(subpath)\n  if (response.ok) {\n    const js = await response.text()\n    return new Promise((resolve, reject) => {\n      const url = URL.createObjectURL(new Blob([js], { type: 'text/javascript' }))\n      const script = document.createElement('script')\n      const cleanup = () => {\n        URL.revokeObjectURL(url)\n        script.remove()\n      }\n      script.onload = () => {\n        cleanup()\n        if (name in window) resolve((window as any)[name])\n        else reject(new Error(`importScript(): not found ${name} from global`))\n      }\n      script.onerror = () => {\n        cleanup()\n        reject(new Error(`importScript(): failed to load ${name}`))\n      }\n      script.src = url\n      document.head.appendChild(script)\n    })\n  } else {\n    throw new Error(await response.text())\n  }\n}\n\nasync function inflate(data: Uint8Array | ArrayBuffer): Promise<Uint8Array> {\n  if (typeof DecompressionStream !== 'undefined') {\n    const ds = new DecompressionStream('gzip')\n    const writer = ds.writable.getWriter()\n    writer.write(data)\n    writer.close()\n    return new Response(ds.readable).arrayBuffer().then(toUint8Array)\n  } else {\n    const pako = await importScript('pako@2.1.0/dist/pako_inflate.min.js', 'pako')\n    return pako.inflate(data)\n  }\n}\n\ninterface Entry {\n  path: string\n  content: string\n}\n\nconst decoder = /* @__PURE__ */ new TextDecoder()\n\nfunction read_string(view: DataView, offset: number, length: number): string {\n  const temp = new Uint8Array(view.buffer, offset, length)\n  const i = temp.indexOf(0)\n  return decoder.decode(temp.subarray(0, i === -1 ? length : i))\n}\n\nfunction read_pax(view: DataView, offset: number, length: number) {\n  const re = /^(\\d+) ([^=]+)=(.*)$/gm\n  const raw = read_string(view, offset, length)\n  const result: { path?: string; size?: number } = { path: undefined, size: undefined }\n  for (let match: RegExpExecArray | null; (match = re.exec(raw)); ) {\n    const [, _len, key, value] = match\n    if (key === 'path') result.path = value\n    if (key === 'size') result.size = Number.parseInt(value)\n  }\n  return result\n}\n\nconst normalize = (path: string) => path.replace(/\\\\+/g, '/').replace(/^\\.\\/|^\\./, '')\n\nexport async function read_tarball(item: Uint8Array): Promise<Entry[]> {\n  const entries: Entry[] = []\n\n  if (item[0] === 0x1f && item[1] === 0x8b) {\n    item = await inflate(item)\n  }\n\n  const length = item.byteLength\n  const view = new DataView(item.buffer)\n\n  let globalPaxHeader: { path?: string; size?: number } | undefined\n  let localPaxHeader: { path?: string; size?: number } | undefined\n  for (let offset = 0; offset + 4 < length && view.getUint32(offset, true) !== 0; ) {\n    let name: string\n    let content = ''\n    let size: number\n\n    name = read_string(view, offset, 100)\n    // const mode = Number.parseInt(read_string(view, offset + 100, 8), 8)\n    size = Number.parseInt(read_string(view, offset + 124, 12), 8)\n    const type = read_string(view, offset + 156, 1)\n\n    const ustar = read_string(view, offset + 257, 6)\n    if (ustar.includes('ustar')) {\n      const prefix = read_string(view, offset + 345, 155)\n      if (prefix.length > 0) name = prefix + '/' + name\n    }\n\n    offset += 512\n    if (type === '0' || type === '') {\n      content = read_string(view, offset, size)\n    } else if (type === 'g') {\n      globalPaxHeader = read_pax(view, offset, size)\n    } else if (type === 'x') {\n      localPaxHeader = read_pax(view, offset, size)\n    }\n    offset += Math.ceil(size / 512) * 512\n\n    if (type === 'g' || type === 'x') {\n      continue\n    }\n\n    if (globalPaxHeader) {\n      if (globalPaxHeader.path) name = globalPaxHeader.path\n      if (globalPaxHeader.size) size = globalPaxHeader.size\n    }\n\n    if (localPaxHeader) {\n      if (localPaxHeader.path) name = localPaxHeader.path\n      if (localPaxHeader.size) size = localPaxHeader.size\n      localPaxHeader = undefined\n    }\n\n    if (type === '0' || type === '') {\n      name = normalize(name)\n      // Line below strips the first segment of the path, this exists only to support npm package contents.\n      // Arbitrary tarballs may not have this structure.\n      name = name.replace(/^[^/]+\\/?/, '')\n      // Line below dirty fixes a bug in some packages where the path starts with './'\n      name = name.replace(/^\\.\\//, '')\n      entries.push({ path: name, content })\n    }\n  }\n\n  return entries\n}\n", "<script lang=\"ts\">\n  import { files, installed, type InstalledPackage } from '../stores'\n\n  export let name = ''\n  export let version = ''\n  export let size = 0\n\n  function npm_browser() {\n    const url = `https://hyrious.me/npm-browser/?q=${name}@${version}`\n    window.open(url, '_blank')\n  }\n\n  $: index = $installed.findIndex((e) => e.name === name)\n\n  function uninstall() {\n    if (index >= 0) {\n      $installed.splice(index, 1)\n      $installed = $installed\n    }\n  }\n\n  let exploding: InstalledPackage | null = null\n  let exp_list: string[] = []\n  let exp_selected = ''\n\n  function explode() {\n    if (!size) return\n    exploding = $installed[index]\n    exp_selected = 'package.json'\n    exp_list = []\n  }\n\n  function unexplode() {\n    exploding = null\n    exp_selected = ''\n    exp_list = []\n  }\n\n  function exp_list_add() {\n    if (exp_selected && !exp_list.includes(exp_selected)) {\n      exp_list.push(exp_selected)\n      exp_list = exp_list\n    }\n  }\n\n  function exp_list_sub(event: Event) {\n    const button = event.currentTarget as HTMLElement\n    const path = button.dataset?.path\n    if (path) {\n      const index = exp_list.indexOf(path)\n      if (index >= 0) {\n        exp_list.splice(index, 1)\n        exp_list = exp_list\n      }\n    }\n  }\n\n  function do_explode() {\n    if (exploding == null) return\n    if (exp_list.length === 0) return unexplode()\n\n    const todo = new Set(exp_list)\n    for (const { path, content } of exploding.files) {\n      if (todo.has(path)) {\n        $files.push({ entry: false, path: `node_modules/${exploding.name}/${path}`, content })\n      }\n    }\n    uninstall()\n    $files = $files\n    unexplode()\n  }\n</script>\n\n<div class=\"npm-package\" class:not-installed={index < 0}>\n  {#if index >= 0}\n    <i class=\"i-mdi-package-variant-closed-check\" title={size ? size + ' files' : ''} />\n  {:else}\n    <i class=\"i-mdi-package-variant-closed-plus\" />\n  {/if}\n  <a class=\"npm-package__name\" href=\"https://www.npmjs.com/package/{name}\" target=\"_blank\" rel=\"noreferrer\">\n    {name}\n  </a>\n  <span class=\"npm-package__version\">{version}</span>\n  {#if index >= 0}\n    <button class=\"view\" title=\"view package content\" on:click={npm_browser}>\n      <i class=\"i-mdi-eye-outline\" />\n    </button>\n    <button class=\"open\" title=\"explode this package\" on:click={explode}>\n      <i class=\"i-mdi-package-variant\" />\n    </button>\n    <button class=\"remove\" title=\"uninstall {name}\" disabled={!size} on:click={uninstall}>\n      <i class=\"i-mdi-package-variant-closed-remove\" />\n    </button>\n  {/if}\n  {#if exploding}\n    <dialog open>\n      <h3>\n        <span>Select files to extract:</span>\n        <button title=\"cancel\" on:click={unexplode}>\n          <i class=\"i-mdi-close\" />\n        </button>\n      </h3>\n      <article>\n        <select bind:value={exp_selected}>\n          {#each exploding.files as { path } (path)}\n            <option value={path}>{path}</option>\n          {/each}\n        </select>\n        <button on:click={exp_list_add}>\n          <i class=\"i-mdi-plus\" />\n          <span>Add into list</span>\n        </button>\n      </article>\n      <ul>\n        {#each exp_list as path (path)}\n          <li>\n            <button class=\"remove\" title=\"remove this file\" data-path={path} on:click={exp_list_sub}>\n              <i class=\"i-mdi-file-remove-outline\" />\n            </button>\n            <span>{path}</span>\n          </li>\n        {/each}\n      </ul>\n      <footer>\n        <button on:click={do_explode}>\n          <span>Extract</span>\n        </button>\n        <button on:click={unexplode}>\n          <span>Cancel</span>\n        </button>\n      </footer>\n    </dialog>\n  {/if}\n</div>\n\n<style>\n  button {\n    appearance: none;\n    display: inline-flex;\n    background: transparent;\n    border: none;\n    padding: 0;\n    margin-left: 5px;\n    cursor: pointer;\n    color: inherit;\n    font-size: 20px;\n    opacity: 0.5;\n    transition: opacity 0.2s;\n  }\n  button span {\n    font: 14px/20px sans-serif;\n    white-space: nowrap;\n  }\n  button:hover {\n    opacity: 1;\n  }\n  button.remove {\n    color: #e24834;\n  }\n  dialog {\n    position: absolute;\n    top: 20px;\n    inset-inline: 0;\n    max-width: 400px;\n    z-index: 10;\n    background: var(--bg);\n    color: var(--fg);\n    border: 1px solid var(--border);\n    border-radius: 4px;\n    padding: 10px;\n    box-shadow: 0 1px 5px 1px rgba(0, 0, 0, 0.1);\n  }\n  dialog h3 {\n    margin: 0 0 5px;\n    font: 14px/20px sans-serif;\n    font-weight: 700;\n  }\n  dialog h3 button {\n    position: absolute;\n    top: 8px;\n    right: 8px;\n  }\n  dialog ul {\n    margin: 0;\n    padding: 0;\n    display: flex;\n    flex-direction: column;\n  }\n  dialog ul li {\n    display: flex;\n    align-items: center;\n    margin-bottom: 5px;\n    font: 14px/20px sans-serif;\n    list-style-type: none;\n  }\n  dialog ul li button {\n    margin-left: 0;\n    margin-right: 5px;\n  }\n  dialog ul li span {\n    width: 100%;\n  }\n  dialog article {\n    display: flex;\n    margin-bottom: 5px;\n  }\n  dialog article select {\n    width: 100%;\n    font: 14px/20px sans-serif;\n  }\n  dialog footer {\n    display: flex;\n    justify-content: flex-end;\n  }\n  .npm-package {\n    display: flex;\n    align-items: center;\n    font: 14px/20px sans-serif;\n    margin-bottom: 10px;\n    padding: 0 1px;\n    position: relative;\n  }\n  .not-installed {\n    transform: translateX(20px);\n    opacity: 0.5;\n  }\n  .npm-package > i {\n    position: absolute;\n    right: 100%;\n    font-size: 20px;\n  }\n  .npm-package__name {\n    text-decoration: none;\n  }\n  .npm-package__name:hover {\n    text-decoration: underline;\n  }\n  .npm-package__version {\n    flex-grow: 1;\n    opacity: 0.5;\n    font-variant-numeric: tabular-nums;\n  }\n  .npm-package__version::before {\n    content: '@';\n  }\n  .i-mdi-package-variant-closed-check {\n    cursor: help;\n  }\n</style>\n", "<script lang=\"ts\">\n  import { onMount } from 'svelte'\n  import { noop } from '@hyrious/utils'\n  import { focus_last, send_input } from '../helpers/dom'\n  import { get, set } from '../helpers/idb'\n  import { read_tarball } from '../helpers/tarball'\n  import { Mode, parseOptions, prettyPrintErrorAsStderr } from '../helpers/options'\n  import { mode, files, options, status, initial_query, installed, ready, output } from '../stores'\n  import { sendIPC } from '../ipc'\n  import Editor from './Editor.svelte'\n  import NpmPackage from './NpmPackage.svelte'\n  import Options from './Options.svelte'\n\n  export let show = true\n\n  let dependencies: Record<string, [string, string][]> = Object.create(null)\n\n  const default_options =\n    '--bundle --format=esm --splitting --outdir=/ --packages=external --allow-overwrite'.replace(/[ ]/g, '\\n')\n  let build_options = $mode === 'build' ? $options : ''\n  $: if ($mode === 'build') {\n    $options = build_options\n\n    if ($ready) {\n      try {\n        const o = parseOptions($options, Mode.Build)\n        const entryPoints = Array.isArray(o.entryPoints) ? o.entryPoints : (o.entryPoints = [])\n        const input: Record<string, string> = Object.create(null)\n        const duplicates = new Set<string>()\n\n        let stdin: any\n        for (const { entry, path, content } of $files) {\n          if (duplicates.has(path)) {\n            throw new Error('Duplicate input file: ' + (path ? JSON.stringify(path) : '<stdin>'))\n          }\n          duplicates.add(path)\n          if (!path) {\n            stdin = o.stdin && typeof o.stdin === 'object' ? o.stdin : (o.stdin = {})\n            stdin.contents = content\n            if (!('resolveDir' in stdin)) stdin.resolveDir = '/'\n          } else {\n            input[path] = content\n            if (entry) entryPoints.push(path)\n          }\n        }\n\n        // for (const {files} of $installed)\n        // svelte-lsp error: seems cannot use local variable whose name is the same as imported store\n        for (const pkg of $installed) {\n          const base = `node_modules/${pkg.name}/`\n          for (const { path, content } of pkg.files) {\n            const resolved = base + path\n            if (duplicates.has(resolved)) {\n              throw new Error('Duplicate input file: ' + JSON.stringify(resolved))\n            }\n            input[resolved] = content\n          }\n        }\n\n        sendIPC({\n          command_: 'build',\n          input_: input,\n          options_: o,\n        }).then(output.set, noop)\n      } catch (err) {\n        $output = { stderr_: prettyPrintErrorAsStderr(err) }\n      }\n    }\n  }\n\n  function reset_options() {\n    build_options = default_options\n    send_input('[data-options]')\n  }\n\n  let new_file_name = 'entry.js'\n  $: if ($files) {\n    const filenames = new Set<string>()\n    for (const { path } of $files) filenames.add(path)\n    if (!filenames.has('entry.js')) new_file_name = 'entry.js'\n    else\n      for (let i = 1; i < 100; i++) {\n        const name = `file${i === 1 ? '' : i}.js`\n        if (!filenames.has(name)) {\n          new_file_name = name\n          break\n        }\n      }\n  }\n\n  function new_file() {\n    $files.push({\n      path: new_file_name,\n      content: '',\n      entry: new_file_name === 'entry.js',\n    })\n    $files = $files\n    focus_last('[data-label=\"INPUT\"] input')\n  }\n\n  function remove_file(index: number) {\n    $files.splice(index, 1)\n    $files = $files\n  }\n\n  async function npm_install(raw?: MouseEvent | string | null) {\n    if (typeof raw !== 'string') {\n      raw = prompt('Enter package name:')\n      if (!raw) return\n    }\n\n    const i = raw.indexOf('@', 1)\n    const name = i === -1 ? raw : raw.slice(0, i)\n    if (!name) return\n\n    if ($installed.some((e) => e.name === name)) {\n      // Already installed.\n      return\n    }\n\n    $status = `Installing ${name} `\n    const spec = i === -1 ? 'latest' : raw.slice(i + 1)\n    const version = await resolve_version(name, spec)\n\n    let buffer: ArrayBuffer | Uint8Array\n    let url = `https://registry.npmjs.org/${name}/-/${name.split('/').pop()}-${version}.tgz`\n\n    try {\n      $status = `Installing ${name}@${version} `\n      const cached = await get(name, version)\n      if (cached) {\n        buffer = cached.buffer\n      } else {\n        buffer = await fetch(url).then((r) => r.arrayBuffer())\n        await set(name, version, new Uint8Array(buffer))\n      }\n    } catch (err) {\n      if (err.name === 'AbortError') return\n      $status = err + ''\n      throw err\n    }\n\n    $status = `Extracting ${name}@${version} `\n    const files = await read_tarball(new Uint8Array(buffer))\n    const package_json = files.find((e) => e.path === 'package.json')\n    if (package_json) {\n      try {\n        add_dependencies(name, package_json.content)\n      } catch {}\n    }\n\n    if (!$installed.some((e) => e.name === name)) {\n      $installed.push({ name, version, files })\n      $installed = $installed\n    }\n\n    $status = `Extracted ${files.length} files.`\n  }\n\n  function add_dependencies(name: string, json: string) {\n    const pkg = JSON.parse(json)\n    if (pkg.dependencies) {\n      const deps: [string, string][] = (dependencies[name] = [])\n      for (const name of Object.keys(pkg.dependencies)) {\n        deps.push([name, pkg.dependencies[name]])\n      }\n      dependencies = dependencies\n    }\n  }\n\n  const semver_loose =\n    /^[\\s=v]*(\\d+)\\.(\\d+)\\.(\\d+)(?:-?((?:\\d+|\\d*[A-Za-z-][\\dA-Za-z-]*)(?:\\.(?:\\d+|\\d*[A-Za-z-][\\dA-Za-z-]*))*))?(?:\\+([\\dA-Za-z-]+(?:\\.[\\dA-Za-z-]+)*))?$/\n\n  async function resolve_version(name: string, spec: string): Promise<string> {\n    if (!semver_loose.test(spec)) {\n      spec = await follow_redirects(`https://unpkg.com/${name}@${spec}/package.json`)\n      spec = spec.slice(18 + name.length + 1)\n      spec = spec.slice(0, spec.indexOf('/'))\n    }\n    return spec\n  }\n\n  const fetch_cache = new Map<string, Promise<string>>()\n  async function follow_redirects(url: string): Promise<string> {\n    if (fetch_cache.has(url)) {\n      return fetch_cache.get(url)!\n    }\n\n    const promise = fetch(url)\n      .then(async (r) => {\n        if (r.ok) return r.url\n        else throw new Error(await r.text())\n      })\n      .catch((err) => {\n        fetch_cache.delete(url)\n        throw err\n      })\n\n    fetch_cache.set(url, promise)\n    return promise\n  }\n\n  onMount(() => {\n    for (const spec of initial_query.i || []) {\n      npm_install(spec).catch(console.error)\n    }\n  })\n</script>\n\n<div data-build style={show ? '' : 'display: none'}>\n  <Options bind:content={build_options} on:reload={reset_options} />\n  {#each $files as { entry, path, content }, i}\n    <Editor\n      bind:entry\n      bind:name={path}\n      bind:content\n      on:remove={() => remove_file(i)}\n      header\n      rows={2}\n      label=\"INPUT\"\n      placeholder=\"(enter your code here)\"\n    />\n  {/each}\n  <footer>\n    <button on:click={new_file} title=\"add a new file\">\n      <i class=\"i-mdi-file-plus-outline\" />\n      <span>{new_file_name}</span>\n    </button>\n    {#each $installed as { name, version, files } (name)}\n      <NpmPackage {name} {version} size={files.length} />\n      {@const deps = dependencies[name] || []}\n      {#each deps as [name, spec]}\n        {#if !$installed.some((e) => e.name === name)}\n          <button\n            class=\"not-installed\"\n            on:click={npm_install.bind(null, `${name}@${spec}`)}\n            title=\"npm install {name}@{spec}\"\n          >\n            <i class=\"i-mdi-package-variant-closed-plus\" />\n            <span class=\"sans-serif\">{name}@{spec}</span>\n          </button>\n        {/if}\n      {/each}\n    {/each}\n    <button on:click={npm_install} title=\"npm install &hellip;\">\n      <i class=\"i-mdi-package-variant-closed-plus\" />\n      <span>npm i &hellip;</span>\n    </button>\n  </footer>\n</div>\n\n<style>\n  button {\n    position: relative;\n    display: inline-flex;\n    align-items: center;\n    appearance: none;\n    background: none;\n    height: 20px;\n    border: none;\n    padding: 0 1px;\n    font: var(--code-font);\n    color: var(--fg);\n    opacity: 0.5;\n    transition: opacity 0.2s;\n    cursor: pointer;\n  }\n  span.sans-serif {\n    font: 14px/20px sans-serif;\n    font-variant-numeric: tabular-nums;\n  }\n  button:not(:last-child) {\n    margin-bottom: 10px;\n  }\n  button.not-installed {\n    transform: translateX(20px);\n  }\n  button:hover {\n    opacity: 1;\n  }\n  button i {\n    font-size: 20px;\n  }\n  button span {\n    white-space: nowrap;\n  }\n  footer {\n    display: flex;\n    flex-direction: column;\n  }\n  footer button i {\n    position: absolute;\n    right: 100%;\n  }\n</style>\n", "class AnsiBuffer {\n  result_ = ''\n  stack_: string[] = []\n  bold_ = false\n  underline_ = false\n  escape_(text: string) {\n    return text.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;')\n  }\n  text_(text: string) {\n    this.result_ += this.escape_(text)\n  }\n  reset_() {\n    let close: string | undefined\n    while ((close = this.stack_.pop())) {\n      this.result_ += close\n    }\n  }\n  strong_() {\n    if (!this.bold_) {\n      this.bold_ = true\n      this.result_ += '<strong>'\n      this.stack_.push('</strong>')\n    }\n  }\n  ins_() {\n    if (!this.underline_) {\n      this.underline_ = true\n      this.result_ += '</ins>'\n      this.stack_.push('</ins>')\n    }\n  }\n  last_() {\n    return this.stack_[this.stack_.length - 1]\n  }\n  color_(color: string) {\n    let close: string | undefined\n    while ((close = this.last_()) === '</span>') {\n      this.stack_.pop()\n      this.result_ += close\n    }\n    this.result_ += `<span class=\"${color}\">`\n    this.stack_.push('</span>')\n  }\n  done_() {\n    this.reset_()\n    return this.result_\n  }\n}\n\nexport function terminal_to_html(ansi: string): string {\n  ansi = ansi.trimEnd()\n  let i = 0\n  const buffer = new AnsiBuffer()\n  for (const m of ansi.matchAll(/\\033\\[([^m]*)m/g)) {\n    const escape = m[1]\n    buffer.text_(ansi.slice(i, m.index))\n    i = (m.index as number) + m[0].length\n    // prettier-ignore\n    switch (escape) {\n      case '0': buffer.reset_(); break;\n      case '1': buffer.strong_(); break;\n      case '31': buffer.color_('color-red'); break;\n      case '32': buffer.color_('color-green'); break;\n      case '33': buffer.color_('color-yellow'); break;\n      case '34': buffer.color_('color-blue'); break;\n      case '35': buffer.color_('color-magenta'); break\n      case '37': buffer.color_('color-dim'); break;\n      case '41;31': buffer.color_('bg-red color-red'); break;\n      case '41;97': buffer.color_('bg-red color-white'); break;\n      case '43;33': buffer.color_('bg-yellow color-yellow'); break;\n      case '43;30': buffer.color_('bg-yellow color-black'); break;\n    }\n  }\n  if (i < ansi.length) buffer.text_(ansi.slice(i))\n  return buffer.done_()\n}\n", "<script lang=\"ts\">\n  import { onMount } from 'svelte'\n  import { output } from '../stores'\n  import { terminal_to_html } from '../helpers/ansi'\n  import Editor from './Editor.svelte'\n\n  let promise: Promise<any>\n  let stderr = ''\n\n  onMount(() => {\n    if ((window as any).rollup) {\n      promise = Promise.resolve((window as any).rollup)\n    } else {\n      promise = new Promise(async (resolve, reject) => {\n        // Rollup relies on the script src to find the wasm asset\n        const signal = AbortSignal.timeout(5000)\n        const timeout = () => reject(new Error('Timeout'))\n        signal.addEventListener('abort', timeout)\n        // prettier-ignore\n        let resolved = await Promise.race([\n          fetch('https://unpkg.com/@rollup/browser', { signal }).then((r) => r.url),\n          fetch('https://cdn.jsdelivr.net/npm/@rollup/browser/package.json', { signal })\n            .then((r) => r.json()),\n        ])\n        signal.removeEventListener('abort', timeout)\n        // is package.json\n        if (typeof resolved === 'object') {\n          // currently the 'main' does not contain './', so it is safe to append it\n          resolved = `https://cdn.jsdelivr.net/npm/@rollup/browser@${resolved.version}/${resolved.main}`\n        }\n        const script = document.createElement('script')\n        script.src = resolved\n        script.onload = () => resolve((window as any).rollup)\n        script.onerror = () => reject(new Error(`Could not load Rollup from ${script.src}`))\n        document.head.appendChild(script)\n      })\n    }\n  })\n\n  async function bundle(rollup: any) {\n    const code = $output?.code_\n    const esbuild = (window as any).esbuild\n    if (!code || !esbuild) return '// not ready'\n\n    const stdinPlugin = {\n      name: 'stdin',\n      resolveId(id: string) {\n        if (id == 'main.js') return id\n        return { id, external: true }\n      },\n      load(_id: string) {\n        return code\n      },\n    }\n\n    const warnings: { message: string }[] = []\n    const onwarn = (warning: { message: string }) => {\n      warnings.push(warning)\n      console.warn(warning.toString())\n    }\n\n    const ret = await rollup.rollup({ input: 'main.js', plugins: [stdinPlugin], onwarn })\n    const generated = await ret.generate({ format: 'es' })\n\n    stderr = (\n      await esbuild.formatMessages(\n        warnings.map((e) => ({ text: e.message })),\n        { kind: 'warning', color: true },\n      )\n    ).join('')\n\n    const stage1 = generated.output[0].code\n    console.log('===== STAGE 1 ===== (rollup.rollup)\\n' + stage1)\n\n    const { code: stage2 } = await esbuild.transform(stage1, { minifySyntax: true })\n    console.log('===== STAGE 2 ===== (esbuild.minify)\\n' + stage2)\n\n    return stage2\n  }\n</script>\n\n{#await promise}\n  <p>(loading rollup&hellip;)</p>\n{:then rollup}\n  {#if rollup}\n    {#await bundle(rollup)}\n      <p>(rollup {rollup.VERSION} is bundling&hellip;)</p>\n    {:then content}\n      {#if stderr}\n        <pre>{@html terminal_to_html(stderr)}</pre>\n      {/if}\n      <Editor label=\"ROLLUP {rollup.VERSION} | VITE\" readonly {content} lang=\"js\" />\n    {/await}\n  {:else}\n    <p>(loading rollup&hellip;)</p>\n  {/if}\n{:catch error}\n  <pre>{error.message}</pre>\n{/await}\n\n<style>\n  pre {\n    margin: 0 0 10px;\n    font: var(--code-font);\n    white-space: pre-wrap;\n  }\n  p {\n    margin: 0 0 10px;\n    opacity: 0.5;\n  }\n</style>\n", "<script lang=\"ts\">\n  import type { TransformOptions } from 'esbuild'\n  import { Mode, parseOptions } from '../helpers/options'\n  import { version, input, options, status, output } from '../stores'\n  import { tick } from 'svelte'\n  import Editor from './Editor.svelte'\n  import Rollup from './Rollup.svelte'\n\n  let features: string[] = []\n  let phase: 'idle' | 'detecting' | 'detected' = 'idle'\n  let vite = false\n\n  $: if ($output) {\n    vite = false\n    phase = 'idle'\n    features = []\n  }\n\n  let enabled = false\n  // --supported is not available before esbuild 0.14.46\n  $: if ($version !== 'latest') {\n    const [major, minor, patch] = $version.split('.').map((x) => +x)\n    enabled = major > 0 || minor > 14 || (minor === 14 && patch >= 46)\n  }\n\n  // See https://github.com/evanw/esbuild/blob/main/internal/compat/js_table.go\n  const JS_FEATURES = [\n    'arbitrary-module-namespace-names',\n    'array-spread',\n    'arrow',\n    'async-await',\n    'async-generator',\n    'bigint',\n    'class',\n    'class-field',\n    'class-private-accessor',\n    'class-private-brand-check',\n    'class-private-field',\n    'class-private-method',\n    'class-private-static-accessor',\n    'class-private-static-field',\n    'class-private-static-method',\n    'class-static-blocks',\n    'class-static-field',\n    'const-and-let',\n    'decorators',\n    'default-argument',\n    'destructuring',\n    'dynamic-import',\n    'exponent-operator',\n    'export-star-as',\n    'for-await',\n    'for-of',\n    'function-name-configurable',\n    'function-or-class-property-access',\n    'generator',\n    'hashbang',\n    'import-assertions',\n    'import-attributes',\n    'import-meta',\n    'inline-script',\n    'logical-assignment',\n    'nested-rest-binding',\n    'new-target',\n    'node-colon-prefix-import',\n    'node-colon-prefix-require',\n    'nullish-coalescing',\n    'object-accessors',\n    'object-extensions',\n    'object-rest-spread',\n    'optional-catch-binding',\n    'optional-chain',\n    'regexp-dot-all-flag',\n    'regexp-lookbehind-assertions',\n    'regexp-match-indices',\n    'regexp-named-capture-groups',\n    'regexp-set-notation',\n    'regexp-sticky-and-unicode-flags',\n    'regexp-unicode-property-escapes',\n    'rest-argument',\n    'template-literal',\n    'top-level-await',\n    'typeof-exotic-object-is-object',\n    'unicode-escapes',\n    'using',\n  ]\n\n  // See https://github.com/evanw/esbuild/blob/main/internal/compat/css_table.go\n  const CSS_FEATURES = [\n    'color-functions',\n    'gradient-double-position',\n    'gradient-interpolation',\n    'gradient-midpoints',\n    'hwb',\n    'hex-rgba',\n    'inline-style',\n    'inset-property',\n    'is-pseudo-class',\n    'modern-rgb-hsl',\n    'nesting',\n    'rebecca-purple',\n  ]\n\n  class Task {\n    cancelled = false\n    resolve?: (features: string[]) => void\n    reject?: (error: Error) => void\n    constructor(\n      esbuild: typeof import('esbuild'),\n      code: string,\n      options: TransformOptions,\n      features: string[],\n    ) {\n      this._run(esbuild, code, options, features)\n    }\n    async _run(\n      esbuild: typeof import('esbuild'),\n      code: string,\n      options: TransformOptions,\n      features: string[],\n    ) {\n      await tick()\n      const detected: string[] = []\n\n      let baseline: string\n      try {\n        await esbuild.transform(code, options).then((r) => (baseline = r.code))\n      } catch (err) {\n        !this.cancelled && this.reject && this.reject(err)\n        return\n      }\n      if (this.cancelled) return\n\n      for (const feat of features) {\n        options.supported = { [feat]: false }\n        try {\n          await esbuild.transform(code, options).then((r) => {\n            if (r.code !== baseline) detected.push(feat)\n          })\n        } catch (err) {\n          if (!err.message.includes('is not a valid feature')) detected.push(feat)\n        }\n        if (this.cancelled) return\n      }\n\n      this.resolve && this.resolve(detected)\n    }\n    cancel() {\n      this.cancelled = true\n    }\n    then(fn: (features: string[]) => void) {\n      this.resolve = fn\n    }\n    catch(fn: (error: Error) => void) {\n      this.reject = fn\n    }\n  }\n\n  let activeTask: Task | null = null\n\n  function detect_features() {\n    const esbuild: typeof import('esbuild') = (window as any).esbuild\n    if (!esbuild) {\n      throw new Error('esbuild has not been initialized')\n    }\n\n    const opts = parseOptions($options, Mode.Transform)\n    const kind = !opts.loader ? 'js' : opts.loader === 'css' ? 'css' : 'js'\n    const feats = kind === 'js' ? JS_FEATURES : CSS_FEATURES\n    opts.supported = {}\n    opts.target = 'esnext'\n\n    phase = 'detecting'\n    activeTask && activeTask.cancel()\n    activeTask = new Task(esbuild, $input, opts, feats)\n    activeTask.then((features_) => {\n      features = features_\n      phase = 'detected'\n    })\n    activeTask.catch((err) => {\n      $status = err + ''\n      phase = 'idle'\n      features = []\n    })\n  }\n</script>\n\n<div class=\"features\" style={!enabled || phase === 'detected' ? 'display: none' : ''}>\n  <button title=\"esbuild#3125\" on:click={() => (vite = !vite)}>\n    <i class=\"i-logos-vitejs\" />\n    <span>Simulate Vite output</span>\n  </button>\n  <button\n    class:detecting={phase === 'detecting'}\n    title=\"--supported:?\"\n    disabled={phase !== 'idle'}\n    on:click={detect_features}\n  >\n    <i class=\"i-mdi-magnify\" />\n    <span>{phase === 'detecting' ? 'Detecting' : 'Detect'} features</span>\n  </button>\n</div>\n{#if phase === 'detected'}\n  <Editor label=\"FEATURES\" readonly content={features.join('\\n')} lang=\"raw\" />\n{/if}\n{#if vite}\n  <Rollup />\n{/if}\n\n<style>\n  .features {\n    display: flex;\n    justify-content: flex-end;\n    margin: -6px 0 6px;\n  }\n  .i-logos-vitejs {\n    background-size: 75% 75%;\n    background-position: center;\n  }\n  button {\n    appearance: none;\n    display: inline-flex;\n    background: none;\n    margin-left: 5px;\n    border: none;\n    padding: 0;\n    color: inherit;\n    font-size: 20px;\n    opacity: 0.5;\n    transition: opacity 0.2s;\n    cursor: pointer;\n  }\n  button:hover {\n    opacity: 1;\n  }\n  button:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n  button.detecting {\n    cursor: wait;\n  }\n  button span {\n    font: 14px/20px sans-serif;\n  }\n</style>\n", "<script lang=\"ts\">\n  export let title: string\n  export let content: string\n</script>\n\n<div>\n  <button {title} on:click>\n    <i class=\"i-mdi-eye-outline\" />\n    <span>{content}</span>\n  </button>\n</div>\n\n<style>\n  div {\n    display: flex;\n    margin: -6px 0 6px;\n  }\n  button {\n    margin-left: auto;\n    appearance: none;\n    background: none;\n    border: none;\n    padding: 0;\n    outline: 0;\n    color: inherit;\n    opacity: 0.5;\n    font-size: 20px;\n    transition: opacity 0.2s;\n    cursor: pointer;\n  }\n  button:hover {\n    opacity: 1;\n  }\n  button span {\n    font: 14px/20px sans-serif;\n  }\n</style>\n", "<script lang=\"ts\">\n  import { createEventDispatcher } from 'svelte'\n\n  const dispatch = createEventDispatcher()\n</script>\n\n<div class=\"download\">\n  <button on:click={() => dispatch('download')}>\n    <i class=\"i-mdi-download\" />\n    <span>Download</span>\n  </button>\n  <button on:click={() => dispatch('analyze')}>\n    <i class=\"i-mdi-magnify-expand\" />\n    <span>Analyze this metafile</span>\n  </button>\n</div>\n\n<style>\n  .download {\n    display: flex;\n    justify-content: flex-end;\n    margin: -6px 0 6px;\n  }\n  button {\n    margin-left: 5px;\n    appearance: none;\n    background: none;\n    border: none;\n    padding: 0;\n    outline: 0;\n    color: inherit;\n    opacity: 0.5;\n    font-size: 20px;\n    transition: opacity 0.2s;\n    cursor: pointer;\n  }\n  button:hover {\n    opacity: 1;\n  }\n  button span {\n    font: 14px/20px sans-serif;\n  }\n</style>\n", "<script lang=\"ts\">\n  import { wait } from '@hyrious/utils'\n  import { status, options, output } from '../stores'\n  import { terminal_to_html } from '../helpers/ansi'\n  import Editor from './Editor.svelte'\n  import Features from './Features.svelte'\n  import Visualize from './Visualize.svelte'\n  import Metafile from './Metafile.svelte'\n\n  const decoder = new TextDecoder()\n\n  function json_print(obj: any): string {\n    return JSON.stringify(obj, null, 2)\n  }\n\n  function guess_lang() {\n    if ($options.includes('--loader=css') || /loader[\"']?\\:\\s*[\"']css/.test($options)) {\n      return 'css'\n    }\n    return 'js'\n  }\n\n  let source_map_url = new URL('https://evanw.github.io/source-map-visualization')\n  function visualize_sourcemap(code: string, map: string) {\n    const data = code.length + '\\0' + code + map.length + '\\0' + map\n    source_map_url.hash = btoa(data).replace(/=+$/, '')\n    window.open(source_map_url, '_blank')\n  }\n\n  function simple_sourcemap() {\n    visualize_sourcemap($output?.code_ || '', $output?.map_ || '')\n  }\n\n  function outfile_sourcemap(path: string, map: string) {\n    if ($output?.outputFiles_ && path.endsWith('.map')) {\n      const source_path = path.slice(0, -4)\n      const source = $output.outputFiles_.find((e) => e.path === source_path)\n      if (source) {\n        visualize_sourcemap(decoder.decode(source.contents), map)\n      }\n    }\n  }\n\n  async function download_metafile() {\n    if ($output?.metafile_) {\n      const blob = new Blob([json_print($output.metafile_)], { type: 'application/json' })\n      const suggestedName = 'metafile.json'\n      if (window.showSaveFilePicker) {\n        try {\n          const handle = await window.showSaveFilePicker({ suggestedName })\n          const writer = await handle.createWritable()\n          await writer.write(blob)\n          await writer.close()\n          $status = `File ${handle.name} saved.`\n          return\n        } catch (err) {\n          if (err.name === 'AbortError') return\n          else console.error(err)\n        }\n      }\n      const url = URL.createObjectURL(blob)\n      const a = document.createElement('a')\n      a.href = url\n      a.download = 'metafile.json'\n      a.style.display = 'none'\n      document.body.append(a)\n      a.click()\n      await wait(1000)\n      URL.revokeObjectURL(url)\n      a.remove()\n    }\n  }\n\n  let analyze_url = new URL('https://esbuild.github.io/analyze/')\n  function analyze_metafile() {\n    if ($output?.metafile_) {\n      analyze_url.hash = btoa(JSON.stringify($output.metafile_)).replace(/=+$/, '')\n      window.open(analyze_url, '_blank')\n    }\n  }\n\n  function sorted<T extends { path: string }>(files: T[]): T[] {\n    // mutate the state? it is ok..\n    return files.sort((a, b) => +(a.path > b.path) - +(a.path < b.path))\n  }\n</script>\n\n{#if $output}\n  {#if $output.stderr_}\n    <pre>{@html terminal_to_html($output.stderr_)}</pre>\n  {/if}\n  {#if typeof $output.code_ === 'string'}\n    <Editor label=\"OUTPUT\" readonly content={$output.code_} lang={guess_lang()} />\n    {#if $output.code_}\n      <Features />\n    {/if}\n  {/if}\n  {#if Array.isArray($output.outputFiles_)}\n    {#if $output.outputFiles_.length === 0}\n      <p>(no output)</p>\n    {:else}\n      {#each sorted($output.outputFiles_) as { path, contents }}\n        {@const name = path.replace(/^\\//, '')}\n        {@const text = decoder.decode(contents)}\n        <Editor label=\"OUTPUT\" readonly header {name} content={text} size={contents.byteLength} />\n        {#if path.endsWith('.map')}\n          <Visualize\n            title=\"evanw/source-map-visualization\"\n            content=\"Visualize this source map\"\n            on:click={() => outfile_sourcemap(path, text)}\n          />\n        {/if}\n      {/each}\n    {/if}\n  {/if}\n  {#if $output.legalComments_}\n    <Editor label=\"LEGAL COMMENTS\" readonly content={$output.legalComments_} lang=\"comment\" />\n  {/if}\n  {#if $output.map_}\n    <Editor label=\"SOURCE MAP\" readonly content={$output.map_} lang=\"json\" />\n    <Visualize\n      title=\"evanw/source-map-visualization\"\n      content=\"Visualize this source map\"\n      on:click={simple_sourcemap}\n    />\n  {/if}\n  {#if $output.mangleCache_ && Object.keys($output.mangleCache_).length}\n    <Editor label=\"MANGLE CACHE\" readonly content={json_print($output.mangleCache_)} lang=\"json\" />\n  {/if}\n  {#if $output.metafile_}\n    <Editor label=\"METAFILE\" readonly content={json_print($output.metafile_)} lang=\"json\" />\n    <Metafile on:download={download_metafile} on:analyze={analyze_metafile} />\n  {/if}\n{:else}\n  <p>(no output)</p>\n{/if}\n\n<style>\n  pre {\n    margin: 0 0 10px;\n    font: var(--code-font);\n    white-space: pre-wrap;\n  }\n  p {\n    margin: 0;\n    opacity: 0.5;\n  }\n</style>\n", "import { cubicOut, cubicInOut, linear } from '../easing/index.js';\nimport { assign, split_css_unit, is_function } from '../internal/index.js';\n\n/**\n * Animates a `blur` filter alongside an element's opacity.\n *\n * https://svelte.dev/docs/svelte-transition#blur\n * @param {Element} node\n * @param {import('./public').BlurParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function blur(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicInOut, amount = 5, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst f = style.filter === 'none' ? '' : style.filter;\n\tconst od = target_opacity * (1 - opacity);\n\tconst [value, unit] = split_css_unit(amount);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_t, u) => `opacity: ${target_opacity - od * u}; filter: ${f} blur(${u * value}${unit});`\n\t};\n}\n\n/**\n * Animates the opacity of an element from 0 to the current opacity for `in` transitions and from the current opacity to 0 for `out` transitions.\n *\n * https://svelte.dev/docs/svelte-transition#fade\n * @param {Element} node\n * @param {import('./public').FadeParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function fade(node, { delay = 0, duration = 400, easing = linear } = {}) {\n\tconst o = +getComputedStyle(node).opacity;\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t) => `opacity: ${t * o}`\n\t};\n}\n\n/**\n * Animates the x and y positions and the opacity of an element. `in` transitions animate from the provided values, passed as parameters to the element's default values. `out` transitions animate from the element's default values to the provided values.\n *\n * https://svelte.dev/docs/svelte-transition#fly\n * @param {Element} node\n * @param {import('./public').FlyParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function fly(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst transform = style.transform === 'none' ? '' : style.transform;\n\tconst od = target_opacity * (1 - opacity);\n\tconst [xValue, xUnit] = split_css_unit(x);\n\tconst [yValue, yUnit] = split_css_unit(y);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * xValue}${xUnit}, ${(1 - t) * yValue}${yUnit});\n\t\t\topacity: ${target_opacity - od * u}`\n\t};\n}\n\n/**\n * Slides an element in and out.\n *\n * https://svelte.dev/docs/svelte-transition#slide\n * @param {Element} node\n * @param {import('./public').SlideParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function slide(node, { delay = 0, duration = 400, easing = cubicOut, axis = 'y' } = {}) {\n\tconst style = getComputedStyle(node);\n\tconst opacity = +style.opacity;\n\tconst primary_property = axis === 'y' ? 'height' : 'width';\n\tconst primary_property_value = parseFloat(style[primary_property]);\n\tconst secondary_properties = axis === 'y' ? ['top', 'bottom'] : ['left', 'right'];\n\tconst capitalized_secondary_properties = secondary_properties.map(\n\t\t(e) => `${e[0].toUpperCase()}${e.slice(1)}`\n\t);\n\tconst padding_start_value = parseFloat(style[`padding${capitalized_secondary_properties[0]}`]);\n\tconst padding_end_value = parseFloat(style[`padding${capitalized_secondary_properties[1]}`]);\n\tconst margin_start_value = parseFloat(style[`margin${capitalized_secondary_properties[0]}`]);\n\tconst margin_end_value = parseFloat(style[`margin${capitalized_secondary_properties[1]}`]);\n\tconst border_width_start_value = parseFloat(\n\t\tstyle[`border${capitalized_secondary_properties[0]}Width`]\n\t);\n\tconst border_width_end_value = parseFloat(\n\t\tstyle[`border${capitalized_secondary_properties[1]}Width`]\n\t);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t) =>\n\t\t\t'overflow: hidden;' +\n\t\t\t`opacity: ${Math.min(t * 20, 1) * opacity};` +\n\t\t\t`${primary_property}: ${t * primary_property_value}px;` +\n\t\t\t`padding-${secondary_properties[0]}: ${t * padding_start_value}px;` +\n\t\t\t`padding-${secondary_properties[1]}: ${t * padding_end_value}px;` +\n\t\t\t`margin-${secondary_properties[0]}: ${t * margin_start_value}px;` +\n\t\t\t`margin-${secondary_properties[1]}: ${t * margin_end_value}px;` +\n\t\t\t`border-${secondary_properties[0]}-width: ${t * border_width_start_value}px;` +\n\t\t\t`border-${secondary_properties[1]}-width: ${t * border_width_end_value}px;`\n\t};\n}\n\n/**\n * Animates the opacity and scale of an element. `in` transitions animate from an element's current (default) values to the provided values, passed as parameters. `out` transitions animate from the provided values to an element's default values.\n *\n * https://svelte.dev/docs/svelte-transition#scale\n * @param {Element} node\n * @param {import('./public').ScaleParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function scale(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst transform = style.transform === 'none' ? '' : style.transform;\n\tconst sd = 1 - start;\n\tconst od = target_opacity * (1 - opacity);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - sd * u});\n\t\t\topacity: ${target_opacity - od * u}\n\t\t`\n\t};\n}\n\n/**\n * Animates the stroke of an SVG element, like a snake in a tube. `in` transitions begin with the path invisible and draw the path to the screen over time. `out` transitions start in a visible state and gradually erase the path. `draw` only works with elements that have a `getTotalLength` method, like `<path>` and `<polyline>`.\n *\n * https://svelte.dev/docs/svelte-transition#draw\n * @param {SVGElement & { getTotalLength(): number }} node\n * @param {import('./public').DrawParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function draw(node, { delay = 0, speed, duration, easing = cubicInOut } = {}) {\n\tlet len = node.getTotalLength();\n\tconst style = getComputedStyle(node);\n\tif (style.strokeLinecap !== 'butt') {\n\t\tlen += parseInt(style.strokeWidth);\n\t}\n\tif (duration === undefined) {\n\t\tif (speed === undefined) {\n\t\t\tduration = 800;\n\t\t} else {\n\t\t\tduration = len / speed;\n\t\t}\n\t} else if (typeof duration === 'function') {\n\t\tduration = duration(len);\n\t}\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_, u) => `\n\t\t\tstroke-dasharray: ${len};\n\t\t\tstroke-dashoffset: ${u * len};\n\t\t`\n\t};\n}\n\n/**\n * The `crossfade` function creates a pair of [transitions](https://svelte.dev/docs#template-syntax-element-directives-transition-fn) called `send` and `receive`. When an element is 'sent', it looks for a corresponding element being 'received', and generates a transition that transforms the element to its counterpart's position and fades it out. When an element is 'received', the reverse happens. If there is no counterpart, the `fallback` transition is used.\n *\n * https://svelte.dev/docs/svelte-transition#crossfade\n * @param {import('./public').CrossfadeParams & {\n * \tfallback?: (node: Element, params: import('./public').CrossfadeParams, intro: boolean) => import('./public').TransitionConfig;\n * }} params\n * @returns {[(node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig, (node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig]}\n */\nexport function crossfade({ fallback, ...defaults }) {\n\t/** @type {Map<any, Element>} */\n\tconst to_receive = new Map();\n\t/** @type {Map<any, Element>} */\n\tconst to_send = new Map();\n\t/**\n\t * @param {Element} from_node\n\t * @param {Element} node\n\t * @param {import('./public').CrossfadeParams} params\n\t * @returns {import('./public').TransitionConfig}\n\t */\n\tfunction crossfade(from_node, node, params) {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = (d) => Math.sqrt(d) * 30,\n\t\t\teasing = cubicOut\n\t\t} = assign(assign({}, defaults), params);\n\t\tconst from = from_node.getBoundingClientRect();\n\t\tconst to = node.getBoundingClientRect();\n\t\tconst dx = from.left - to.left;\n\t\tconst dy = from.top - to.top;\n\t\tconst dw = from.width / to.width;\n\t\tconst dh = from.height / to.height;\n\t\tconst d = Math.sqrt(dx * dx + dy * dy);\n\t\tconst style = getComputedStyle(node);\n\t\tconst transform = style.transform === 'none' ? '' : style.transform;\n\t\tconst opacity = +style.opacity;\n\t\treturn {\n\t\t\tdelay,\n\t\t\tduration: is_function(duration) ? duration(d) : duration,\n\t\t\teasing,\n\t\t\tcss: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${\n\t\t\t\tt + (1 - t) * dh\n\t\t\t});\n\t\t\t`\n\t\t};\n\t}\n\n\t/**\n\t * @param {Map<any, Element>} items\n\t * @param {Map<any, Element>} counterparts\n\t * @param {boolean} intro\n\t * @returns {(node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig}\n\t */\n\tfunction transition(items, counterparts, intro) {\n\t\treturn (node, params) => {\n\t\t\titems.set(params.key, node);\n\t\t\treturn () => {\n\t\t\t\tif (counterparts.has(params.key)) {\n\t\t\t\t\tconst other_node = counterparts.get(params.key);\n\t\t\t\t\tcounterparts.delete(params.key);\n\t\t\t\t\treturn crossfade(other_node, node, params);\n\t\t\t\t}\n\t\t\t\t// if the node is disappearing altogether\n\t\t\t\t// (i.e. wasn't claimed by the other list)\n\t\t\t\t// then we need to supply an outro\n\t\t\t\titems.delete(params.key);\n\t\t\t\treturn fallback && fallback(node, params, intro);\n\t\t\t};\n\t\t};\n\t}\n\treturn [transition(to_send, to_receive, false), transition(to_receive, to_send, true)];\n}\n", "<script lang=\"ts\">\n  import { fade } from 'svelte/transition'\n  import { status } from '../stores'\n\n  $: loading = $status.includes('ing')\n\n  function flip(span: HTMLSpanElement, last: boolean) {\n    return {\n      update(shift: boolean) {\n        if (last !== shift) {\n          const animation = span.animate(\n            [{ marginLeft: last ? '20px' : '-20px' }, { marginLeft: 'initial' }],\n            { duration: 400, easing: 'ease-out' },\n          )\n          animation.finished.then(animation.cancel.bind(animation))\n          animation.playbackRate = 1.000001\n          last = shift\n        }\n      },\n    }\n  }\n</script>\n\n<footer>\n  {#if loading}<i in:fade class=\"i-mdi-loading\" />{/if}\n  <span use:flip={loading}>{$status}</span>\n</footer>\n\n<style>\n  footer {\n    position: fixed;\n    inset-inline: 0;\n    inset-block-end: 0;\n    padding: 10px 50px 25px;\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    font: 14px/20px sans-serif;\n    font-variant-numeric: tabular-nums;\n    background: var(--bg);\n    z-index: 20;\n  }\n  .i-mdi-loading {\n    font-size: 20px;\n    animation: rotate 0.4s linear infinite;\n  }\n  @keyframes rotate {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n  @media (max-width: 800px) {\n    footer {\n      padding: 10px 25px 25px;\n    }\n  }\n</style>\n", "<script lang=\"ts\">\n  import { version, mode, input, files, options, debug, installed } from './stores'\n  import { save_query } from './behaviors/query'\n  import Header from './components/Header.svelte'\n  import SplitPane from './components/SplitPane.svelte'\n  import Transform from './components/Transform.svelte'\n  import Build from './components/Build.svelte'\n  import Output from './components/Output.svelte'\n  import Footer from './components/Footer.svelte'\n\n  $: save_query($mode, {\n    version: $version,\n    t: $input,\n    b: $files,\n    o: $options,\n    d: $debug,\n    i: $installed.map((e) => `${e.name}@${e.version}`),\n  })\n</script>\n\n<Header />\n<main data-mode={$mode}>\n  <SplitPane>\n    <section slot=\"left\">\n      <Transform show={$mode === 'transform'} />\n      <Build show={$mode === 'build'} />\n    </section>\n    <section slot=\"right\">\n      <Output />\n    </section>\n  </SplitPane>\n</main>\n<Footer />\n\n<style>\n  main {\n    padding: 25px 50px 70px;\n  }\n  section[slot='left'] {\n    padding-right: 12.5px;\n  }\n  section[slot='right'] {\n    padding-left: 12.5px;\n  }\n  @media (max-width: 800px) {\n    main {\n      padding: 25px 25px 70px;\n    }\n    section[slot='left'] {\n      padding-right: 0;\n      padding-bottom: 12.5px;\n    }\n    section[slot='right'] {\n      padding-left: 0;\n      padding-top: 12.5px;\n    }\n  }\n</style>\n", "import './style.css'\nimport './behaviors/service-worker'\nimport './behaviors/live-reload'\nimport './behaviors/editor'\n\nimport App from './App.svelte'\nimport { sendIPC } from './ipc'\n\nObject.assign(window, {\n  app: new App({\n    target: document.getElementById('app') as HTMLElement,\n    hydrate: true,\n  }),\n  sendIPC,\n})\n"],
  "mappings": "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",
  "names": ["e", "SelectorSet", "docElem", "matches", "el", "selector", "selectors", "context", "idRe", "sel", "m", "classRe", "className", "tagRe", "Map", "key", "value", "chunker", "parseSelectorIndexes", "allIndexes", "allIndexesLen", "i", "j", "dup", "rest", "index", "indexes", "findByPrototype", "ary", "proto", "len", "item", "data", "obj", "indexProto", "objs", "selectorIndexes", "selectorIndex", "selectorObjects", "k", "selIndex", "removedIds", "removeAll", "sortById", "a", "b", "results", "els", "len2", "match", "len3", "keys", "id", "matchedIds", "el", "observer", "queue", "scheduleBatch", "document", "callback", "calls", "processBatchQueue", "callsCopy", "scheduleBatchQueue", "_len", "args", "_key", "scheduleMacroTask", "handleMutations", "callbacks", "i", "error", "initMap", "initializerMap", "subscriptionMap", "addMap", "applyChanges", "selectorObserver", "changes", "change", "type", "ADD", "runInit", "runAdd", "REMOVE", "runRemove", "REMOVE_ALL", "runRemoveAll", "initIds", "initializer", "initializers", "addIds", "subscription", "subscriptions", "index", "observers", "ids", "innerHTMLReplacementIsBuggy", "detectInnerHTMLReplacementBuggy", "a", "b", "c", "supportsSelectorMatching", "node", "handleMutations$1", "mutations", "mutation", "addNodes", "removeNodes", "revalidateObservers", "revalidateOrphanedElements", "nodes", "matches", "j", "data", "matches2", "_j", "_matches2$_j", "_data", "elements", "k", "descendants", "_i", "revalidateDescendantObservers", "revalidateInputObservers", "inputs", "input", "els", "whenReady", "readyState", "_typeof", "obj", "uid", "SelectorObserver", "rootNode", "SelectorSet", "handleRootMutations", "addRootNodes", "handleChangedTargets", "handleChangeEvents", "onReady", "handlers", "self", "container", "event", "documentObserver", "getDocumentObserver", "observe", "_getDocumentObserver", "isNativeField", "field", "withFocus", "callback", "initialFocus", "insertTextWhereverTheFocusIs", "document", "text", "insertTextIntoField", "setFieldText", "getFieldSelection", "selection", "wrapFieldSelectionNative", "wrap", "wrapEnd", "selectionStart", "selectionEnd", "collapseCursor", "range", "toStart", "alteredRange", "wrapFieldSelectionContentEditable", "before", "after", "selectionRange", "wrapFieldSelection", "insert", "insertTextIntoField", "wrapSelection", "wrapFieldSelection", "indentSelection", "element", "selectionStart", "selectionEnd", "value", "selectedText", "firstLineStart", "newSelection", "indentedText", "replacementsCount", "insertTextIntoField", "findLineEnd", "currentEnd", "lastLineStart", "unindentSelection", "minimumSelectionEnd", "firstLineIndentation", "difference", "newSelectionStart", "tabToIndentListener", "event", "textarea", "noop", "identity", "x", "assign", "tar", "src", "k", "is_promise", "value", "run", "fn", "blank_object", "run_all", "fns", "is_function", "thing", "safe_not_equal", "a", "b", "is_empty", "obj", "subscribe", "store", "callbacks", "callback", "noop", "unsub", "get_store_value", "value", "_", "component_subscribe", "component", "create_slot", "definition", "ctx", "$$scope", "fn", "slot_ctx", "get_slot_context", "assign", "get_slot_changes", "dirty", "lets", "merged", "len", "i", "update_slot_base", "slot", "slot_definition", "slot_changes", "get_slot_context_fn", "slot_context", "get_all_dirty_from_scope", "$$scope", "dirty", "length", "i", "compute_slots", "slots", "result", "key", "set_store_value", "store", "ret", "value", "action_destroyer", "action_result", "is_function", "noop", "is_client", "now", "raf", "cb", "noop", "tasks", "run_tasks", "now", "task", "raf", "loop", "callback", "task", "tasks", "raf", "run_tasks", "fulfill", "globals", "ResizeObserverSingleton", "_ResizeObserverSingleton", "globals", "options", "element", "listener", "entries", "entry", "is_hydrating", "start_hydrating", "end_hydrating", "upper_bound", "low", "high", "key", "value", "mid", "init_hydrate", "target", "children", "my_children", "i", "node", "m", "p", "longest", "current", "seq_len", "idx", "new_len", "lis", "to_move", "last", "cur", "b", "j", "anchor", "append", "get_root_for_style", "node", "root", "append_empty_stylesheet", "style_element", "element", "append_stylesheet", "style", "append", "append_hydration", "target", "is_hydrating", "init_hydrate", "insert", "anchor", "insert_hydration", "detach", "destroy_each", "iterations", "detaching", "i", "name", "svg_element", "name", "text", "data", "space", "empty", "listen", "node", "event", "handler", "options", "attr", "node", "attribute", "value", "get_svelte_dataset", "node", "init_binding_group", "group", "_inputs", "inputs", "input", "children", "element", "init_claim_info", "nodes", "claim_node", "predicate", "process_node", "create_node", "dont_update_last_index", "result_node", "i", "node", "replacement", "claim_element_base", "name", "attributes", "create_element", "remove", "j", "attribute", "v", "claim_element", "claim_text", "nodes", "data", "claim_node", "node", "data_str", "text", "claim_space", "get_comment_idx", "nodes", "text", "start", "i", "node", "claim_html_tag", "is_svg", "start_index", "end_index", "HtmlTagHydration", "init_claim_info", "html_tag_nodes", "detach", "claimed_nodes", "n", "set_data", "data", "set_input_value", "input", "value", "set_style", "node", "key", "value", "important", "select_option", "select", "mounting", "i", "option", "select_value", "select", "selected_option", "toggle_class", "element", "name", "toggle", "custom_event", "type", "detail", "bubbles", "cancelable", "HtmlTag", "is_svg", "html", "target", "anchor", "svg_element", "element", "i", "insert", "detach", "HtmlTagHydration", "claimed_nodes", "insert_hydration", "get_custom_elements_slots", "element", "result", "node", "managed_styles", "active", "hash", "str", "i", "create_style_information", "doc", "node", "info", "append_empty_stylesheet", "create_rule", "a", "b", "duration", "delay", "ease", "fn", "uid", "step", "keyframes", "p", "t", "rule", "name", "get_root_for_style", "stylesheet", "rules", "animation", "delete_rule", "previous", "next", "anim", "deleted", "clear_rules", "raf", "ownerNode", "detach", "current_component", "set_current_component", "component", "get_current_component", "onMount", "fn", "get_current_component", "createEventDispatcher", "component", "get_current_component", "type", "detail", "cancelable", "callbacks", "event", "custom_event", "fn", "bubble", "component", "event", "callbacks", "fn", "dirty_components", "binding_callbacks", "render_callbacks", "flush_callbacks", "resolved_promise", "update_scheduled", "schedule_update", "flush", "tick", "add_render_callback", "fn", "add_flush_callback", "seen_callbacks", "flushidx", "saved_component", "current_component", "dirty_components", "component", "set_current_component", "update", "i", "callback", "$$", "run_all", "dirty", "flush_render_callbacks", "fns", "filtered", "targets", "c", "promise", "wait", "dispatch", "node", "direction", "kind", "custom_event", "outroing", "outros", "group_outros", "check_outros", "run_all", "transition_in", "block", "local", "transition_out", "detach", "callback", "null_transition", "create_in_transition", "fn", "params", "options", "config", "running", "animation_name", "task", "uid", "cleanup", "delete_rule", "go", "delay", "duration", "easing", "identity", "tick", "noop", "css", "create_rule", "start_time", "now", "end_time", "add_render_callback", "loop", "t", "started", "is_function", "handle_promise", "promise", "info", "token", "update", "type", "index", "key", "value", "child_ctx", "block", "needs_flush", "i", "group_outros", "transition_out", "check_outros", "transition_in", "flush", "is_promise", "current_component", "get_current_component", "set_current_component", "error", "update_await_block_branch", "ctx", "dirty", "resolved", "ensure_array_like", "array_like_or_iterator", "destroy_block", "block", "lookup", "outro_and_destroy_block", "transition_out", "update_keyed_each", "old_blocks", "dirty", "get_key", "dynamic", "ctx", "list", "lookup", "node", "destroy", "create_each_block", "next", "get_context", "o", "n", "i", "old_indexes", "new_blocks", "new_lookup", "deltas", "updates", "child_ctx", "key", "block", "will_move", "did_move", "insert", "transition_in", "new_block", "old_block", "new_key", "old_key", "run_all", "_boolean_attributes", "boolean_attributes", "bind", "component", "name", "callback", "index", "create_component", "block", "claim_component", "parent_nodes", "mount_component", "target", "anchor", "fragment", "after_update", "add_render_callback", "new_on_destroy", "run", "is_function", "run_all", "destroy_component", "detaching", "$$", "flush_render_callbacks", "make_dirty", "i", "dirty_components", "schedule_update", "init", "options", "instance", "create_fragment", "not_equal", "props", "append_styles", "dirty", "parent_component", "current_component", "set_current_component", "noop", "blank_object", "ready", "ret", "rest", "value", "start_hydrating", "nodes", "children", "detach", "transition_in", "end_hydrating", "flush", "SvelteElement", "$$componentCtor", "$$slots", "use_shadow_dom", "type", "listener", "unsub", "create_slot", "node", "element", "attr", "insert", "existing_slots", "get_custom_elements_slots", "attribute", "get_custom_element_value", "key", "reflect_attributes", "attribute_value", "_oldValue", "newValue", "attribute_name", "prop", "props_definition", "transform", "SvelteComponent", "destroy_component", "noop", "type", "callback", "is_function", "callbacks", "index", "props", "is_empty", "PUBLIC_VERSION", "query_selector_all", "selector", "stop", "event", "send_input", "tick", "textarea", "focus_last", "elements", "last", "is_client", "compose", "subs", "sub", "isIMEVisible", "onCompositionStart", "onCompositionEnd", "detectIME", "el", "textarea", "onKeydown", "handler", "commonKeymaps", "event", "primary", "shift", "stop", "text", "offset", "lines", "match", "indentation", "insert", "i", "tabToIndent", "tabToIndentListener", "formattingCharacters", "matchingCharacters", "quoteCharacters", "oneKeyFormatting", "formattingChar", "start", "end", "matchingEndChar", "wrapSelection", "autosize", "fitSize", "observe", "PUBLIC_VERSION", "subscriber_queue", "writable", "value", "start", "noop", "stop", "subscribers", "set", "new_value", "safe_not_equal", "run_queue", "subscriber_queue", "subscriber", "i", "update", "fn", "subscribe", "run", "invalidate", "noop", "wait", "ms", "resolve", "Emitter", "_sample", "ev", "data", "subs", "sub", "listener", "ret", "observable", "sample", "clamp", "x", "min", "max", "emitter", "observable", "json_parse", "raw", "def", "load_query", "search", "is_client", "query", "version", "shareable", "legacy", "m", "modules", "e", "input", "options", "obj", "t", "b", "entry", "path", "content", "i", "hash", "parts", "save_query", "mode", "spec", "base", "suffix", "fetch_versions", "name", "url", "versions", "err", "theme", "writable", "is_client", "query", "update", "value", "initial_query", "load_query", "version", "versions", "fetch_versions", "$versions", "index_of_0_9_0", "get_store_value", "status", "mode", "input", "files", "options", "installed", "ready", "set", "next", "emitter", "output", "result", "duration_", "debug", "ctx", "insert_hydration", "target", "option", "anchor", "i", "set_data", "t", "t_value", "create_if_block", "add_render_callback", "select", "header", "append_hydration", "h1", "nav", "label0", "input0", "span1", "label1", "input1", "span2", "sup", "div", "a3", "button0", "button1", "i2", "toggle_theme", "$theme", "share", "ev", "url", "share_as_rollup", "share_as_esbuild_try", "err", "query", "load_query", "modules", "entry", "path", "content", "parts", "$version", "onMount", "version", "emitter", "$mode", "select_value", "ctx", "insert_hydration", "target", "section", "anchor", "append_hydration", "div0", "div1", "div2", "div3", "show", "$$props", "pos", "dragging", "left", "width", "offsetX", "measure", "node", "refresh", "rect", "padding", "observer", "drag", "callback", "down", "event", "stop", "r", "up", "move", "px", "clamp", "prettyPrintErrorAsStderr", "err", "text", "location", "location_", "notes", "notes_", "prettyPrintLocationAsStderr", "note", "text_", "file_", "line_", "column_", "length_", "lineText_", "suggestion_", "last", "result", "commaSeparatedArrays", "parseOptions", "input", "mode", "trimmed", "parseOptionsAsLooseJSON", "options", "parseOptionsAsShellArgs", "toString", "key", "toRegExp", "err", "x", "toBooleanValues", "record", "toNumber", "toJSON", "args", "n", "line", "lineStart", "i", "argStart", "argLine", "argColumn", "arg", "c", "openLine", "openColumn", "throwNoClosingQuoteError", "text_", "line_", "column_", "length_", "entryPoints", "output", "kebabCaseToCamelCase", "text", "throwRichError", "_", "equals", "colon", "value", "key1", "key2", "throwUnexpectedToken", "what", "token", "kind_", "where", "throwExpectedAfter", "expected", "after", "nextToken", "expectEndOfFile", "tokenLine", "tokenColumn", "start", "openBracket", "value_", "index", "number", "identifier", "kind", "parseExpression", "object", "beforeComma", "array", "element", "root", "column", "length", "noteText", "noteLine", "noteColumn", "noteLength", "suggestion", "lines", "location_", "file_", "lineText_", "suggestion_", "notes_", "quote", "closeLine", "closeColumn", "printOptionsAsShellArgs", "quoteForShell", "camelCaseToKebabCase", "kebabKey", "it", "type", "prop", "printOptionsAsLooseJSON", "printForJSON5", "indent", "allowNewline", "single", "double", "nextIndent", "oneLine", "result", "workerText", "activeTask", "pendingTask", "on_reload", "emitter", "version", "workerPromise", "resolve", "reject", "reloadPromise", "reloadWorker", "worker", "do_fetch", "url", "options", "packageFetch", "subpath", "controller", "timeout", "response", "err", "loadingFailure", "abort_", "major", "minor", "patch", "x", "min", "workerJS", "esbuildJS", "esbuildWASM", "r", "setupLocal", "i", "workerJSWithoutSourceMap", "parts", "e", "status_", "error_", "script", "js", "wasm", "esbuild", "sendIPC", "message", "activateTask", "task", "resolve_", "message_", "BYTE_UNITS", "BIBYTE_UNITS", "BIT_UNITS", "BIBIT_UNITS", "toLocaleString", "number", "locale", "options", "result", "prettyBytes", "UNITS", "separator", "isNegative", "prefix", "localeOptions", "numberString", "exponent", "unit", "hljs", "is_client", "Tasks", "ev", "id", "value", "task", "request", "code", "lang", "noop", "resolve", "r", "Task", "node", "token", "html", "MAX_CODE_SIZE", "highlight", "params", "activeTask", "update", "loader", "select_all", "event", "stop", "range", "selection", "destroy", "ctx", "insert_hydration", "target", "button0", "anchor", "append_hydration", "i0", "input", "button1", "i1", "create_if_block_5", "prettyBytes", "span", "set_data", "t", "t_value", "create_if_block_4", "header_1", "textarea", "create_if_block_1", "create_if_block_2", "pre", "guess_lang", "create_if_block_3", "create_if_block", "article", "name", "header", "$$props", "rows", "label", "content", "size", "placeholder", "entry", "readonly", "lang", "dispatch", "createEventDispatcher", "FLAGS", "BUILD_ONLY", "TRANSFORM_ONLY", "filter", "pattern", "transform", "matches", "flag", "desc", "e", "ctx", "insert_hydration", "target", "span", "anchor", "set_data", "t1", "t1_value", "t3", "t3_value", "create_if_block", "article", "append_hydration", "div", "aside", "span0", "textarea_1", "footer", "button0", "i0", "span1", "button1", "button2", "t6", "t6_value", "content", "$$props", "dispatch", "createEventDispatcher", "textarea", "format", "options", "parseOptions", "$mode", "is_json_like", "setFieldText", "printOptionsAsShellArgs", "printOptionsAsLooseJSON", "enable_typescript_options", "comp_x", "comp_y", "comp_text", "comp_info", "comp_index", "comp_items", "comp_pattern", "comp_ghost", "comp_caret", "get_caret_position", "before", "after", "parent", "caret", "refresh_comp_text", "text", "info", "is_mobile", "refresh_completions", "event", "clear_completions", "start", "end", "begin", "pattern", "filter", "trigger_completions", "stop", "match", "insertTextIntoField", "$$value", "$$invalidate", "ctx", "insert_hydration", "target", "div", "anchor", "show", "$$props", "transform_options", "$mode", "$options", "reset_options", "send_input", "$input", "value", "$ready", "sendIPC", "command_", "input_", "options_", "parseOptions", "output", "noop", "err", "$output", "stderr_", "prettyPrintErrorAsStderr", "promisifyRequest", "request", "resolve", "reject", "createStore", "dbName", "storeName", "dbp", "txMode", "callback", "db", "defaultGetStoreFunc", "defaultGetStore", "get", "key", "customStore", "store", "set", "value", "eachCursor", "store", "callback", "promisifyRequest", "keys", "customStore", "defaultGetStore", "items", "cursor", "NPM_PACKAGES", "is_client", "createStore", "get", "name", "version", "set", "tgz", "keys", "toUint8Array", "data", "packageFetch", "subpath", "response", "importScript", "name", "js", "resolve", "reject", "url", "script", "cleanup", "inflate", "ds", "writer", "decoder", "read_string", "view", "offset", "length", "temp", "i", "read_pax", "re", "raw", "result", "match", "_len", "key", "value", "normalize", "path", "read_tarball", "item", "entries", "globalPaxHeader", "localPaxHeader", "content", "size", "type", "prefix", "insert_hydration", "target", "i", "anchor", "ctx", "button0", "button1", "button2", "append_hydration", "i2", "add_render_callback", "select", "dialog", "h3", "span0", "article", "ul", "footer", "button3", "option", "set_data", "t", "t_value", "li", "button", "span", "t1", "t1_value", "create_if_block_2", "create_if_block_1", "create_if_block", "div", "a", "name", "$$props", "version", "size", "npm_browser", "url", "uninstall", "index", "$installed", "exploding", "exp_list", "exp_selected", "explode", "unexplode", "exp_list_add", "exp_list_sub", "event", "path", "do_explode", "todo", "content", "$files", "select_value", "$$invalidate", "e", "child_ctx", "ctx", "insert_hydration", "target", "button", "anchor", "append_hydration", "i", "span", "set_data", "t1", "t1_value", "t3", "t3_value", "func", "div", "footer", "button0", "i0", "span0", "button1", "each_blocks_1", "semver_loose", "show", "$$props", "dependencies", "default_options", "build_options", "$mode", "$options", "reset_options", "send_input", "new_file_name", "new_file", "$files", "focus_last", "remove_file", "index", "npm_install", "raw", "name", "$installed", "e", "$status", "spec", "version", "resolve_version", "buffer", "url", "cached", "get", "r", "set", "err", "files", "read_tarball", "package_json", "add_dependencies", "json", "pkg", "deps", "$$invalidate", "follow_redirects", "fetch_cache", "promise", "onMount", "initial_query", "value", "$ready", "o", "parseOptions", "entryPoints", "input", "duplicates", "stdin", "entry", "path", "content", "base", "resolved", "sendIPC", "command_", "input_", "options_", "output", "noop", "$output", "stderr_", "prettyPrintErrorAsStderr", "filenames", "AnsiBuffer", "result_", "stack_", "bold_", "underline_", "escape_", "text", "text_", "reset_", "close", "strong_", "ins_", "last_", "color_", "color", "done_", "terminal_to_html", "ansi", "i", "buffer", "m", "escape", "ctx", "insert_hydration", "target", "pre", "anchor", "set_data", "t", "t_value", "p", "info", "handle_promise", "promise_1", "create_if_block_1", "terminal_to_html", "html_tag", "raw_value", "t1", "t1_value", "promise", "stderr", "onMount", "resolve", "reject", "signal", "timeout", "resolved", "r", "script", "bundle", "rollup", "code", "$output", "code_", "esbuild", "stdinPlugin", "id", "_id", "warnings", "onwarn", "warning", "generated", "e", "stage1", "stage2", "ctx", "create_if_block_1", "create_if_block", "insert_hydration", "target", "div", "anchor", "append_hydration", "button0", "button1", "i1", "span1", "set_data", "t4", "t4_value", "features", "phase", "vite", "enabled", "JS_FEATURES", "CSS_FEATURES", "Task", "esbuild", "code", "options", "tick", "detected", "baseline", "r", "err", "feat", "fn", "activeTask", "detect_features", "opts", "parseOptions", "$options", "feats", "$input", "features_", "$status", "$output", "$version", "major", "minor", "patch", "x", "ctx", "insert_hydration", "target", "div", "anchor", "append_hydration", "button", "i", "span", "title", "$$props", "content", "insert_hydration", "target", "div", "anchor", "append_hydration", "button0", "button1", "dispatch", "createEventDispatcher", "child_ctx", "insert_hydration", "target", "p", "anchor", "ctx", "outputFiles_", "mangleCache_", "stderr_", "create_if_block_10", "code_", "create_if_block_8", "legalComments_", "create_if_block_4", "map_", "create_if_block_3", "metafile_", "create_if_block_1", "terminal_to_html", "pre", "html_tag", "raw_value", "create_if_block_9", "sorted", "i", "each_blocks", "json_print", "obj", "files", "a", "b", "decoder", "guess_lang", "$options", "source_map_url", "visualize_sourcemap", "code", "map", "data", "simple_sourcemap", "$output", "outfile_sourcemap", "path", "source_path", "source", "e", "download_metafile", "blob", "suggestedName", "handle", "writer", "$status", "err", "url", "wait", "analyze_url", "analyze_metafile", "text", "fade", "node", "delay", "duration", "easing", "identity", "t", "insert_hydration", "target", "i", "anchor", "ctx", "create_if_block", "footer", "append_hydration", "span", "flip", "last", "shift", "animation", "$$invalidate", "loading", "$status", "ctx", "insert_hydration", "target", "section", "anchor", "main", "save_query", "$mode", "$version", "$input", "$files", "$options", "$debug", "$installed", "e", "App_default", "sendIPC"],
  "x_google_ignoreList": [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,22,23,24,25,26,27,28,29,30,31,32,33,42,48,59]
}
