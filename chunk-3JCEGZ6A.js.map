{
  "version": 3,
  "sources": ["../src/helpers/ansi.ts", "../src/helpers/args.ts", "../src/helpers/utils.ts", "../src/helpers/query.ts", "../src/stores/index.ts"],
  "sourcesContent": ["// https://github.com/evanw/esbuild/blob/master/internal/logger/logger.go\nconst ESCAPE_TO_COLOR = {\n  \"37\": \"dim\",\n  \"31\": \"red\",\n  \"32\": \"green\",\n  \"34\": \"blue\",\n  \"36\": \"cyan\",\n  \"35\": \"magenta\",\n  \"33\": \"yellow\",\n  \"41;31\": \"red-bg-red\",\n  \"41;97\": \"red-bg-white\",\n  \"42;32\": \"green-bg-green\",\n  \"42;97\": \"green-bg-white\",\n  \"44;34\": \"blue-bg-blue\",\n  \"44;97\": \"blue-bg-white\",\n  \"46;36\": \"cyan-bg-cyan\",\n  \"46;30\": \"cyan-bg-black\",\n  \"45;35\": \"magenta-bg-magenta\",\n  \"45;30\": \"magenta-bg-black\",\n  \"43;33\": \"yellow-bg-yellow\",\n  \"43;30\": \"yellow-bg-black\",\n} as const;\n\ntype Escape = \"0\" | \"1\" | \"4\" | keyof typeof ESCAPE_TO_COLOR;\n\ntype Color = typeof ESCAPE_TO_COLOR[keyof typeof ESCAPE_TO_COLOR];\n\n// https://github.com/sindresorhus/escape-goat\nfunction htmlEscape(string: string) {\n  return string\n    .replace(/\\&/g, \"&amp;\")\n    .replace(/\\\"/g, \"&quot;\")\n    .replace(/\\'/g, \"&#39;\")\n    .replace(/\\</g, \"&lt;\")\n    .replace(/\\>/g, \"&gt;\");\n}\n\nclass AnsiBuffer {\n  result = \"\";\n  _stack: string[] = [];\n  _bold = false;\n  _underline = false;\n  text(text: string) {\n    this.result += htmlEscape(text);\n  }\n  reset() {\n    let close: string | undefined;\n    while ((close = this._stack.pop())) {\n      this.result += close;\n    }\n  }\n  bold() {\n    if (!this._bold) {\n      this._bold = true;\n      this.result += \"<strong>\";\n      this._stack.push(\"</strong>\");\n    }\n  }\n  underline() {\n    if (!this._underline) {\n      this._underline = true;\n      this.result += \"<ins>\";\n      this._stack.push(\"</ins>\");\n    }\n  }\n  last() {\n    return this._stack[this._stack.length - 1];\n  }\n  color(color: Color) {\n    let close: string | undefined;\n    while ((close = this.last()) === \"</span>\") {\n      this._stack.pop();\n      this.result += close;\n    }\n    this.result += `<span class=\"color-${color}\">`;\n    this._stack.push(\"</span>\");\n  }\n  done() {\n    this.reset();\n    return this.result;\n  }\n}\n\nexport function render(ansi: string) {\n  ansi = ansi.trimEnd();\n  let i = 0;\n  const buffer = new AnsiBuffer();\n  for (let m of ansi.matchAll(/\\x1B\\[([\\d;]+)m/g)) {\n    const escape = m[1] as Escape;\n    buffer.text(ansi.slice(i, m.index));\n    i = m.index! + m[0].length;\n    /*  */ if (escape === \"0\") {\n      buffer.reset();\n    } else if (escape === \"1\") {\n      buffer.bold();\n    } else if (escape === \"4\") {\n      buffer.underline();\n    } else if (ESCAPE_TO_COLOR[escape]) {\n      buffer.color(ESCAPE_TO_COLOR[escape]);\n    }\n  }\n  if (i < ansi.length) {\n    buffer.text(ansi.slice(i));\n  }\n  return buffer.done();\n}\n", "import type { BuildOptions, TransformOptions } from \"esbuild\";\n\nfunction isBuildOptions(options: BuildOptions | TransformOptions): options is BuildOptions {\n  return \"entryPoints\" in options || \"plugins\" in options;\n}\n\nfunction dashize(s: string) {\n  return s.replace(/([A-Z])/g, (x) => \"-\" + x.toLowerCase());\n}\n\nfunction buildOptionsToArgs(options: BuildOptions | TransformOptions) {\n  const args: string[] = [];\n  if (isBuildOptions(options)) {\n    if (Array.isArray(options.entryPoints)) {\n      args.push(...options.entryPoints);\n    } else if (options.entryPoints) {\n      args.push(...Object.entries(options.entryPoints).map(([k, v]) => `${k}=${v}`));\n    }\n    delete options.entryPoints;\n    delete options.plugins;\n  }\n  for (const [k, v] of Object.entries(options)) {\n    const key = dashize(k);\n    if (Array.isArray(v)) {\n      if ([\"resolveExtensions\", \"mainFields\", \"conditions\", \"target\"].includes(k)) {\n        args.push(`--${key}=${v.join(\",\")}`);\n      } else {\n        args.push(...v.map((value) => `--${key}:${value}`));\n      }\n    } else if (key === \"tsconfig-raw\" && typeof v === \"object\") {\n      args.push(`--${key}=${JSON.stringify(v)}`);\n    } else if (typeof v === \"object\" && v !== null) {\n      // --define:process.env={} --footer:js=\"// hello\"\n      args.push(...Object.entries(v).map(([sub, val]) => `--${key}:${sub}=${val}`));\n    } else if (v === true) {\n      args.push(`--${key}`);\n    } else {\n      args.push(`--${key}=${v}`);\n    }\n  }\n  return args;\n}\n\nfunction quote(s: string) {\n  if (/[ '\"]/.test(s)) {\n    // stolen from node:util\n    return (\n      \"'\" + JSON.stringify(s).replace(/^\"|\"$/g, \"\").replace(/'/g, \"\\\\'\").replace(/\\\\\"/g, '\"') + \"'\"\n    );\n  } else {\n    return s;\n  }\n}\n\nfunction addQuote(s: string) {\n  let i = s.indexOf(\"=\");\n  if (i !== -1) {\n    return s.slice(0, i + 1) + quote(s.slice(i + 1));\n  } else {\n    return s;\n  }\n}\n\nexport function configToString(options: TransformOptions) {\n  return buildOptionsToArgs(options).map(addQuote).join(\" \");\n}\n", "export const noop: () => any = () => {};\nexport const isDef = <T = any>(val?: T): val is T => typeof val !== \"undefined\";\nexport const delay = (ms: number) => new Promise<void>((r) => setTimeout(r, ms));\nexport const clamp = (val: number, min: number, max: number) =>\n  val < min ? min : val > max ? max : val;\nexport const isBrowser = typeof window !== \"undefined\";\nexport const isMobile = isBrowser && (navigator.userAgentData?.mobile ?? true);\n", "import { isBrowser } from \"./utils\";\n\nexport function getQuery() {\n  const result: Record<string, string> = {};\n  if (!isBrowser) return result;\n  for (const [key, value] of new URLSearchParams(location.search.slice(1))) {\n    result[key] = value;\n  }\n  return result;\n}\n\nconst URL_LIMIT = 2000;\n\nexport function setQuery(search: string) {\n  if (!isBrowser) return;\n  if (search.length > URL_LIMIT) {\n    console.warn(\"url is too long! you may not be able to share it correctly.\");\n  }\n  history.replaceState({}, \"\", location.pathname + \"?\" + search);\n}\n", "import { writable } from \"svelte/store\";\nimport { isBrowser } from \"../helpers\";\n\n// header\nexport const theme = writable<\"light\" | \"dark\">(\"dark\");\n\n// footer\nexport const loading = writable(true);\nexport const status = writable(\"Loading...\");\n\n// essential\nexport const version = writable(\"latest\");\nexport const esbuild = writable<typeof import(\"esbuild\") | null>(null);\nexport const mode = writable<\"transform\" | \"build\" | \"playground\">(\"transform\");\n\n// other\nexport const debug = writable(import.meta.env.DEV);\n\nlet timer = 0;\nexport function time() {\n  timer = performance.now();\n}\nexport function timeEnd() {\n  const elapsed = performance.now() - timer;\n  status.set(`Finished in ${elapsed.toFixed(2)}ms.`);\n}\n\nisBrowser && Object.assign(window, { stores: { theme, loading, status, esbuild, mode } });\n"],
  "mappings": "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",
  "names": []
}
